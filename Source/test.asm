spritesStart	EQU 5F00
		INCLUDE sprites.h
Body_left	EQU 5F00
dno_bufferu	EQU 5FEA
D0		EQU 608F
D1		EQU 64CA
D2		EQU 66C5
D3		EQU 6826
ESA1		EQU 68A5
ES1		EQU 6ABE
ES2		EQU 6C61
ES3		EQU 6D5E
ES4		EQU 6DCA
FFace01		EQU 6E1B
FFace02		EQU 6EAE
FFace03		EQU 6F41
FFace04		EQU 6FD4
Flek		EQU 7067
H0		EQU 70DC
H0rune		EQU 779F
H1		EQU 77F6
H1rune		EQU 7AC9
H2		EQU 7AFC
H2rune		EQU 7C27
H3		EQU 7C3E
H3rune		EQU 7CD1
H4		EQU 7CF0
H4m1		EQU 7DB3
H4m2		EQU 7E36
H4m3		EQU 7EE1
H4m4		EQU 7F74
H5		EQU 7FB7
I_ankh		EQU 8038
I_armor_ch	EQU 8071
I_armor_l	EQU 80AA
I_armor_p	EQU 80E3
I_axe		EQU 811C
I_bg		EQU 814D
I_bgm		EQU 8186
I_bone		EQU 81BF
I_book		EQU 81F8
I_boots		EQU 8231
I_bow		EQU 826A
I_bracers	EQU 829B
I_dagger	EQU 82D4
I_empty		EQU 82FD
I_helm		EQU 832E
I_helm_d	EQU 8367
I_mace		EQU 83A0
I_necklace	EQU 83D3
I_potion_b	EQU 83FC
I_potion_g	EQU 8425
I_potion_r	EQU 844E
I_prostirani	EQU 8477
I_ram		EQU 84B0
I_rations	EQU 84C9
I_ring		EQU 8502
I_ring_b	EQU 852B
I_ring_g	EQU 8564
I_ring_r	EQU 859D
I_ring_w	EQU 85D6
I_shield	EQU 860F
I_shield2	EQU 8648
I_sling		EQU 8681
I_sword		EQU 86B2
I_toulec	EQU 86E3
I_zakazano	EQU 870C
I0_armor	EQU 8745
I0_bone		EQU 883A
I0_unknwn	EQU 8935
I0_weapon	EQU 89AF
I1_armor	EQU 8A51
I1_bone		EQU 8ACC
I1_unknwn	EQU 8B51
I1_weapon	EQU 8B8A
I2_armor	EQU 8BEB
I2_bone		EQU 8C19
I2_unknwn	EQU 8C4F
I2_weapon	EQU 8C64
Kanal0		EQU 8C89
Kanal1		EQU 8DF4
Kanal2		EQU 8E99
Kanal3		EQU 8EE4
Kompas		EQU 8F0B
Komp_E		EQU 908D
Komp_N		EQU 912D
Komp_S		EQU 91CD
Komp_W		EQU 926D
K1m1		EQU 930D
K2m1		EQU 94A8
K3m1		EQU 9653
K4m2		EQU 9791
MFace01		EQU 9850
MFace02		EQU 98E3
MFace03		EQU 9976
MFace04		EQU 9A09
miss		EQU 9A9C
Pdl1		EQU 9B05
Pdl2		EQU 9B36
Pdl3		EQU 9B5D
Pd0		EQU 9B72
Pd1		EQU 9BE5
Pd2		EQU 9C44
Pd3		EQU 9C6B
Pul1		EQU 9C92
Pul2		EQU 9CCB
Pul3		EQU 9CFC
Pu0		EQU 9D11
Pu1		EQU 9D84
Pu2		EQU 9DE3
Pu3		EQU 9E1C
R0		EQU 9E3B
R1		EQU A25A
R1m1		EQU A64D
R2		EQU A6BC
R2m1		EQU A8AF
R3		EQU A992
R3m1		EQU AA73
R4		EQU AB34
S_doleva	EQU ABB7
S_doprava	EQU ABDE
S_dopredu	EQU AC05
S_dozadu	EQU AC2C
S_vlevo		EQU AC53
S_vpravo	EQU AC7A
S_vsechny	EQU ACA1
V0m1		EQU ADDF
V3m2		EQU AE60
V4m1		EQU AEF2
V4m3		EQU AF55
Seg_Screen	EQU 0040
Adr_Screen	EQU 4000
Seg_Attr_Screen	EQU 0058
Adr_Attr_Screen	EQU 5800
Seg_Buffer	EQU 00B0
Adr_Buffer	EQU B000
Seg_Attr_Buffer	EQU 00C8
Adr_Attr_Buffer	EQU C800
Adr_Buf_end	EQU CB00
		End of INCLUDE
		ORG 5F00
		INCBIN grafika.bin
progStart	EQU D000
		IF (false)
-     .error 'Pretikaji sprity do kodu!'
		ENDIF
		ORG D000
		INCLUDE zrcadlovy.h
D000:		label ZRCADLOVY
D000:00		DEFB of 1 bytes
D001:80		DEFB of 1 bytes
D002:40		DEFB of 1 bytes
D003:C0		DEFB of 1 bytes
D004:20		DEFB of 1 bytes
D005:A0		DEFB of 1 bytes
D006:60		DEFB of 1 bytes
D007:E0		DEFB of 1 bytes
D008:10		DEFB of 1 bytes
D009:90		DEFB of 1 bytes
D00A:50		DEFB of 1 bytes
D00B:D0		DEFB of 1 bytes
D00C:30		DEFB of 1 bytes
D00D:B0		DEFB of 1 bytes
D00E:70		DEFB of 1 bytes
D00F:F0		DEFB of 1 bytes
D010:08		DEFB of 1 bytes
D011:88		DEFB of 1 bytes
D012:48		DEFB of 1 bytes
D013:C8		DEFB of 1 bytes
D014:28		DEFB of 1 bytes
D015:A8		DEFB of 1 bytes
D016:68		DEFB of 1 bytes
D017:E8		DEFB of 1 bytes
D018:18		DEFB of 1 bytes
D019:98		DEFB of 1 bytes
D01A:58		DEFB of 1 bytes
D01B:D8		DEFB of 1 bytes
D01C:38		DEFB of 1 bytes
D01D:B8		DEFB of 1 bytes
D01E:78		DEFB of 1 bytes
D01F:F8		DEFB of 1 bytes
D020:04		DEFB of 1 bytes
D021:84		DEFB of 1 bytes
D022:44		DEFB of 1 bytes
D023:C4		DEFB of 1 bytes
D024:24		DEFB of 1 bytes
D025:A4		DEFB of 1 bytes
D026:64		DEFB of 1 bytes
D027:E4		DEFB of 1 bytes
D028:14		DEFB of 1 bytes
D029:94		DEFB of 1 bytes
D02A:54		DEFB of 1 bytes
D02B:D4		DEFB of 1 bytes
D02C:34		DEFB of 1 bytes
D02D:B4		DEFB of 1 bytes
D02E:74		DEFB of 1 bytes
D02F:F4		DEFB of 1 bytes
D030:0C		DEFB of 1 bytes
D031:8C		DEFB of 1 bytes
D032:4C		DEFB of 1 bytes
D033:CC		DEFB of 1 bytes
D034:2C		DEFB of 1 bytes
D035:AC		DEFB of 1 bytes
D036:6C		DEFB of 1 bytes
D037:EC		DEFB of 1 bytes
D038:1C		DEFB of 1 bytes
D039:9C		DEFB of 1 bytes
D03A:5C		DEFB of 1 bytes
D03B:DC		DEFB of 1 bytes
D03C:3C		DEFB of 1 bytes
D03D:BC		DEFB of 1 bytes
D03E:7C		DEFB of 1 bytes
D03F:FC		DEFB of 1 bytes
D040:02		DEFB of 1 bytes
D041:82		DEFB of 1 bytes
D042:42		DEFB of 1 bytes
D043:C2		DEFB of 1 bytes
D044:22		DEFB of 1 bytes
D045:A2		DEFB of 1 bytes
D046:62		DEFB of 1 bytes
D047:E2		DEFB of 1 bytes
D048:12		DEFB of 1 bytes
D049:92		DEFB of 1 bytes
D04A:52		DEFB of 1 bytes
D04B:D2		DEFB of 1 bytes
D04C:32		DEFB of 1 bytes
D04D:B2		DEFB of 1 bytes
D04E:72		DEFB of 1 bytes
D04F:F2		DEFB of 1 bytes
D050:0A		DEFB of 1 bytes
D051:8A		DEFB of 1 bytes
D052:4A		DEFB of 1 bytes
D053:CA		DEFB of 1 bytes
D054:2A		DEFB of 1 bytes
D055:AA		DEFB of 1 bytes
D056:6A		DEFB of 1 bytes
D057:EA		DEFB of 1 bytes
D058:1A		DEFB of 1 bytes
D059:9A		DEFB of 1 bytes
D05A:5A		DEFB of 1 bytes
D05B:DA		DEFB of 1 bytes
D05C:3A		DEFB of 1 bytes
D05D:BA		DEFB of 1 bytes
D05E:7A		DEFB of 1 bytes
D05F:FA		DEFB of 1 bytes
D060:06		DEFB of 1 bytes
D061:86		DEFB of 1 bytes
D062:46		DEFB of 1 bytes
D063:C6		DEFB of 1 bytes
D064:26		DEFB of 1 bytes
D065:A6		DEFB of 1 bytes
D066:66		DEFB of 1 bytes
D067:E6		DEFB of 1 bytes
D068:16		DEFB of 1 bytes
D069:96		DEFB of 1 bytes
D06A:56		DEFB of 1 bytes
D06B:D6		DEFB of 1 bytes
D06C:36		DEFB of 1 bytes
D06D:B6		DEFB of 1 bytes
D06E:76		DEFB of 1 bytes
D06F:F6		DEFB of 1 bytes
D070:0E		DEFB of 1 bytes
D071:8E		DEFB of 1 bytes
D072:4E		DEFB of 1 bytes
D073:CE		DEFB of 1 bytes
D074:2E		DEFB of 1 bytes
D075:AE		DEFB of 1 bytes
D076:6E		DEFB of 1 bytes
D077:EE		DEFB of 1 bytes
D078:1E		DEFB of 1 bytes
D079:9E		DEFB of 1 bytes
D07A:5E		DEFB of 1 bytes
D07B:DE		DEFB of 1 bytes
D07C:3E		DEFB of 1 bytes
D07D:BE		DEFB of 1 bytes
D07E:7E		DEFB of 1 bytes
D07F:FE		DEFB of 1 bytes
D080:01		DEFB of 1 bytes
D081:81		DEFB of 1 bytes
D082:41		DEFB of 1 bytes
D083:C1		DEFB of 1 bytes
D084:21		DEFB of 1 bytes
D085:A1		DEFB of 1 bytes
D086:61		DEFB of 1 bytes
D087:E1		DEFB of 1 bytes
D088:11		DEFB of 1 bytes
D089:91		DEFB of 1 bytes
D08A:51		DEFB of 1 bytes
D08B:D1		DEFB of 1 bytes
D08C:31		DEFB of 1 bytes
D08D:B1		DEFB of 1 bytes
D08E:71		DEFB of 1 bytes
D08F:F1		DEFB of 1 bytes
D090:09		DEFB of 1 bytes
D091:89		DEFB of 1 bytes
D092:49		DEFB of 1 bytes
D093:C9		DEFB of 1 bytes
D094:29		DEFB of 1 bytes
D095:A9		DEFB of 1 bytes
D096:69		DEFB of 1 bytes
D097:E9		DEFB of 1 bytes
D098:19		DEFB of 1 bytes
D099:99		DEFB of 1 bytes
D09A:59		DEFB of 1 bytes
D09B:D9		DEFB of 1 bytes
D09C:39		DEFB of 1 bytes
D09D:B9		DEFB of 1 bytes
D09E:79		DEFB of 1 bytes
D09F:F9		DEFB of 1 bytes
D0A0:05		DEFB of 1 bytes
D0A1:85		DEFB of 1 bytes
D0A2:45		DEFB of 1 bytes
D0A3:C5		DEFB of 1 bytes
D0A4:25		DEFB of 1 bytes
D0A5:A5		DEFB of 1 bytes
D0A6:65		DEFB of 1 bytes
D0A7:E5		DEFB of 1 bytes
D0A8:15		DEFB of 1 bytes
D0A9:95		DEFB of 1 bytes
D0AA:55		DEFB of 1 bytes
D0AB:D5		DEFB of 1 bytes
D0AC:35		DEFB of 1 bytes
D0AD:B5		DEFB of 1 bytes
D0AE:75		DEFB of 1 bytes
D0AF:F5		DEFB of 1 bytes
D0B0:0D		DEFB of 1 bytes
D0B1:8D		DEFB of 1 bytes
D0B2:4D		DEFB of 1 bytes
D0B3:CD		DEFB of 1 bytes
D0B4:2D		DEFB of 1 bytes
D0B5:AD		DEFB of 1 bytes
D0B6:6D		DEFB of 1 bytes
D0B7:ED		DEFB of 1 bytes
D0B8:1D		DEFB of 1 bytes
D0B9:9D		DEFB of 1 bytes
D0BA:5D		DEFB of 1 bytes
D0BB:DD		DEFB of 1 bytes
D0BC:3D		DEFB of 1 bytes
D0BD:BD		DEFB of 1 bytes
D0BE:7D		DEFB of 1 bytes
D0BF:FD		DEFB of 1 bytes
D0C0:03		DEFB of 1 bytes
D0C1:83		DEFB of 1 bytes
D0C2:43		DEFB of 1 bytes
D0C3:C3		DEFB of 1 bytes
D0C4:23		DEFB of 1 bytes
D0C5:A3		DEFB of 1 bytes
D0C6:63		DEFB of 1 bytes
D0C7:E3		DEFB of 1 bytes
D0C8:13		DEFB of 1 bytes
D0C9:93		DEFB of 1 bytes
D0CA:53		DEFB of 1 bytes
D0CB:D3		DEFB of 1 bytes
D0CC:33		DEFB of 1 bytes
D0CD:B3		DEFB of 1 bytes
D0CE:73		DEFB of 1 bytes
D0CF:F3		DEFB of 1 bytes
D0D0:0B		DEFB of 1 bytes
D0D1:8B		DEFB of 1 bytes
D0D2:4B		DEFB of 1 bytes
D0D3:CB		DEFB of 1 bytes
D0D4:2B		DEFB of 1 bytes
D0D5:AB		DEFB of 1 bytes
D0D6:6B		DEFB of 1 bytes
D0D7:EB		DEFB of 1 bytes
D0D8:1B		DEFB of 1 bytes
D0D9:9B		DEFB of 1 bytes
D0DA:5B		DEFB of 1 bytes
D0DB:DB		DEFB of 1 bytes
D0DC:3B		DEFB of 1 bytes
D0DD:BB		DEFB of 1 bytes
D0DE:7B		DEFB of 1 bytes
D0DF:FB		DEFB of 1 bytes
D0E0:07		DEFB of 1 bytes
D0E1:87		DEFB of 1 bytes
D0E2:47		DEFB of 1 bytes
D0E3:C7		DEFB of 1 bytes
D0E4:27		DEFB of 1 bytes
D0E5:A7		DEFB of 1 bytes
D0E6:67		DEFB of 1 bytes
D0E7:E7		DEFB of 1 bytes
D0E8:17		DEFB of 1 bytes
D0E9:97		DEFB of 1 bytes
D0EA:57		DEFB of 1 bytes
D0EB:D7		DEFB of 1 bytes
D0EC:37		DEFB of 1 bytes
D0ED:B7		DEFB of 1 bytes
D0EE:77		DEFB of 1 bytes
D0EF:F7		DEFB of 1 bytes
D0F0:0F		DEFB of 1 bytes
D0F1:8F		DEFB of 1 bytes
D0F2:4F		DEFB of 1 bytes
D0F3:CF		DEFB of 1 bytes
D0F4:2F		DEFB of 1 bytes
D0F5:AF		DEFB of 1 bytes
D0F6:6F		DEFB of 1 bytes
D0F7:EF		DEFB of 1 bytes
D0F8:1F		DEFB of 1 bytes
D0F9:9F		DEFB of 1 bytes
D0FA:5F		DEFB of 1 bytes
D0FB:DF		DEFB of 1 bytes
D0FC:3F		DEFB of 1 bytes
D0FD:BF		DEFB of 1 bytes
D0FE:7F		DEFB of 1 bytes
D0FF:FF		DEFB of 1 bytes
		End of INCLUDE
		INCLUDE map.h
D100:		label DUNGEON_MAP
D100:03030303	DEFB of 16 bytes
D104:03030203
D108:03030303
D10C:03030303
D110:00000300	DEFB of 16 bytes
D114:00000003
D118:00000003
D11C:00000003
D120:00000300	DEFB of 16 bytes
D124:00030000
D128:00030003
D12C:00030003
D130:00000000	DEFB of 16 bytes
D134:00000303
D138:03000000
D13C:00030003
D140:00000000	DEFB of 16 bytes
D144:00000303
D148:00000303
D14C:00030003
D150:00000000	DEFB of 16 bytes
D154:00000300
D158:00030000
D15C:00030003
D160:00000000	DEFB of 16 bytes
D164:00030303
D168:03000003
D16C:00030003
D170:03000002	DEFB of 16 bytes
D174:00000000
D178:00000000
D17C:00030003
D180:03020303	DEFB of 16 bytes
D184:03030303
D188:03030003
D18C:03030003
D190:03000000	DEFB of 16 bytes
D194:00000000
D198:03000000
D19C:00030003
D1A0:03000300	DEFB of 16 bytes
D1A4:03000000
D1A8:03000000
D1AC:00030003
D1B0:03000000	DEFB of 16 bytes
D1B4:00000000
D1B8:03030303
D1BC:03030003
D1C0:03000300	DEFB of 16 bytes
D1C4:03000000
D1C8:03000000
D1CC:03030000
D1D0:03000000	DEFB of 16 bytes
D1D4:00000000
D1D8:03000000
D1DC:00000000
D1E0:03000000	DEFB of 16 bytes
D1E4:00000000
D1E8:00000000
D1EC:03030000
D1F0:03030303	DEFB of 16 bytes
D1F4:03030203
D1F8:03030303
D1FC:03030303
sirka		EQU 0010
		End of INCLUDE
dopredu		EQU 0000
dozadu		EQU 0004
vlevo		EQU 0008
vpravo		EQU 000C
D200:		label VEKTORY_POHYBU
D200:F00110FF	DEFB of 4 bytes
D204:10FFF001	DEFB of 4 bytes
D208:FFF00110	DEFB of 4 bytes
D20C:0110FFF0	DEFB of 4 bytes
		IF (false)
-     .error      'Seznam VEKTORY_POHYBU neleze na zacatku segmentu!'
		ENDIF
PRIZNAK_OTEVRENY_INVENTAR EQU 0001
D210:		label PRIZNAKY
D210:00		DEFB of 1 bytes
D211:		label MAIN
D211:CD4DEA	CALL EA4D
D214:F3		DI
D215:ED56	IM 1
D217:FB		EI
D218:3E0C	LD A, 0C
D21A:21095C	LD HL, 5C09
D21D:77		LD (HL), A
D21E:2D		DEC L
D21F:3600	LD (HL), 00
D221:010420	LD BC, 2004
D224:21805A	LD HL, 5A80
D227:CDA0EB	CALL EBA0
D22A:CD1BEB	CALL EB1B
D22D:CDCDE7	CALL E7CD
D230:		label MAIN_LOOP
D230:110B8F	LD DE, 8F0B
D233:010F07	LD BC, 070F
D236:F3		DI
D237:CD8DE0	CALL E08D
D23A:FB		EI
D23B:F3		DI
D23C:CD9FE6	CALL E69F
D23F:FB		EI
D240:CDA0E7	CALL E7A0
D243:2003	JR NZ, D248
D245:CDB4EC	CALL ECB4
D248:		label MAIN_OTEVRENY_INVENTAR
D248:CD38EB	CALL EB38
D24B:11A1AC	LD DE, ACA1
D24E:010F00	LD BC, 000F
D251:F3		DI
D252:CD8DE0	CALL E08D
D255:FB		EI
D256:CDD1EC	CALL ECD1
D259:CD7BEA	CALL EA7B
D25C:CD6CE2	CALL E26C
D25F:C330D2	JP D230
D262:		label POSTAVA_PLUS
D262:2173D4	LD HL, D473
D265:7E		LD A, (HL)
D266:2B		DEC HL
D267:34		INC (HL)
D268:96		SUB (HL)
D269:C0		RET NZ
D26A:77		LD (HL), A
D26B:C9		RET
D26C:		label POSTAVA_MINUS
D26C:2173D4	LD HL, D473
D26F:7E		LD A, (HL)
D270:2B		DEC HL
D271:35		DEC (HL)
D272:F0		RET P
D273:3D		DEC A
D274:77		LD (HL), A
D275:C9		RET
D276:		label BOJ
D276:3A72D4	LD A, (D472)
D279:87		ADD A, A
D27A:CD21EA	CALL EA21
D27D:42		LD B, D
D27E:4B		LD C, E
D27F:119C9A	LD DE, 9A9C
D282:CD7BE0	CALL E07B
D285:CD70E0	CALL E070
D288:F3		DI
D289:CD8DE0	CALL E08D
D28C:FB		EI
D28D:CD65E0	CALL E065
D290:CD84E0	CALL E084
D293:C9		RET
		ORG D300
		INCLUDE font.h
D300:		label PISMO_5PX
D300:00000000	DEFB of 5 bytes
D304:00
D305:003A0000	DEFB of 5 bytes
D309:00
D30A:00600060	DEFB of 5 bytes
D30E:00
D30F:143E143E	DEFB of 5 bytes
D313:14
D314:00122A6B	DEFB of 5 bytes
D318:24
D319:32340816	DEFB of 5 bytes
D31D:26
D31E:00143A14	DEFB of 5 bytes
D322:0A
D323:00006000	DEFB of 5 bytes
D327:00
D328:00003C42	DEFB of 5 bytes
D32C:00
D32D:0000423C	DEFB of 5 bytes
D331:00
D332:00140814	DEFB of 5 bytes
D336:00
D337:00081C08	DEFB of 5 bytes
D33B:00
D33C:00020400	DEFB of 5 bytes
D340:00
D341:00080808	DEFB of 5 bytes
D345:00
D346:00020000	DEFB of 5 bytes
D34A:00
D34B:02040810	DEFB of 5 bytes
D34F:20
D350:001C262A	DEFB of 5 bytes
D354:1C
D355:00123E02	DEFB of 5 bytes
D359:00
D35A:00262A2A	DEFB of 5 bytes
D35E:12
D35F:00222A2A	DEFB of 5 bytes
D363:14
D364:003C040E	DEFB of 5 bytes
D368:04
D369:003A2A2A	DEFB of 5 bytes
D36D:24
D36E:001C2A2A	DEFB of 5 bytes
D372:04
D373:00202628	DEFB of 5 bytes
D377:30
D378:00142A2A	DEFB of 5 bytes
D37C:14
D37D:00102A2A	DEFB of 5 bytes
D381:1C
D382:00001400	DEFB of 5 bytes
D386:00
D387:00021400	DEFB of 5 bytes
D38B:00
D38C:00081422	DEFB of 5 bytes
D390:00
D391:00141414	DEFB of 5 bytes
D395:00
D396:00221408	DEFB of 5 bytes
D39A:00
D39B:0010202A	DEFB of 5 bytes
D39F:10
D3A0:001C223A	DEFB of 5 bytes
D3A4:1A
D3A5:001E2828	DEFB of 5 bytes
D3A9:1E
D3AA:003E2A2A	DEFB of 5 bytes
D3AE:14
D3AF:001C2222	DEFB of 5 bytes
D3B3:22
D3B4:003E2222	DEFB of 5 bytes
D3B8:1C
D3B9:003E2A2A	DEFB of 5 bytes
D3BD:22
D3BE:003E2828	DEFB of 5 bytes
D3C2:20
D3C3:001C222A	DEFB of 5 bytes
D3C7:0C
D3C8:003E0808	DEFB of 5 bytes
D3CC:3E
D3CD:00223E22	DEFB of 5 bytes
D3D1:00
D3D2:00040202	DEFB of 5 bytes
D3D6:3C
D3D7:003E0814	DEFB of 5 bytes
D3DB:22
D3DC:003E0202	DEFB of 5 bytes
D3E0:02
D3E1:003E1010	DEFB of 5 bytes
D3E5:3E
D3E6:003E1008	DEFB of 5 bytes
D3EA:3E
D3EB:001C2222	DEFB of 5 bytes
D3EF:1C
D3F0:003E2828	DEFB of 5 bytes
D3F4:10
D3F5:001C2226	DEFB of 5 bytes
D3F9:1E
D3FA:003E2828	DEFB of 5 bytes
D3FE:16
D3FF:00122A2A	DEFB of 5 bytes
D403:24
D404:00203E20	DEFB of 5 bytes
D408:20
D409:003C0202	DEFB of 5 bytes
D40D:3C
D40E:003E0204	DEFB of 5 bytes
D412:38
D413:003E0404	DEFB of 5 bytes
D417:3E
D418:00360808	DEFB of 5 bytes
D41C:36
D41D:00380608	DEFB of 5 bytes
D421:30
D422:00262A2A	DEFB of 5 bytes
D426:32
D427:00007E42	DEFB of 5 bytes
D42B:00
D42C:20100804	DEFB of 5 bytes
D430:02
D431:0000427E	DEFB of 5 bytes
D435:00
D436:10204020	DEFB of 5 bytes
D43A:10
D43B:00020202	DEFB of 5 bytes
D43F:02
D440:00083E4A	DEFB of 5 bytes
D444:22
		IF (false)
-     .error 'Adresa pocatku fontu PISMO_5PX nelezi na pocatku segmentu'
		ENDIF
		End of INCLUDE
		INCLUDE typy.h
MASKA_PREPINACE	EQU 00E0
ZAM_1		EQU 0080
ZAM_2		EQU 0040
ZAM_3		EQU 0020
ZAM_12		EQU 00C0
ZAM_13		EQU 00A0
ZAM_23		EQU 0060
ZAM_123		EQU 00E0
MASKA_TYP	EQU 001C
MASKA_NATOCENI	EQU 0003
MASKA_PODTYP	EQU 001F
ODEMCENO	EQU 0000
POSUN_TYP	EQU 0004
POSUN_PODTYP	EQU 0001
TYP_PREPINAC	EQU 0000
PODTYP_PAKA	EQU 0000
PODTYP_TLACITKO	EQU 0001
PODTYP_TAJNE_TLACITKO EQU 0002
PODTYP_ZAMEK	EQU 0003
TYP_DVERE	EQU 0004
TYP_ENEMY	EQU 0008
PODTYP_SKRET	EQU 0000
PODTYP_PAVOUK	EQU 0001
PODTYP_TRPASLIK	EQU 0002
PODTYP_NEMRTVY	EQU 0003
TYP_DEKORACE	EQU 000C
PODTYP_KANAL	EQU 0000
PODTYP_RUNA	EQU 0001
PODTYP_RAM	EQU 0002
TYP_ITEM	EQU 0010
PODTYP_EMPTY	EQU 0000
PODTYP_RING	EQU 0001
PODTYP_RING_R	EQU 0002
PODTYP_RING_G	EQU 0003
PODTYP_RING_B	EQU 0004
PODTYP_RING_W	EQU 0005
PODTYP_HELM	EQU 0006
PODTYP_HELM_D	EQU 0007
PODTYP_NECKLACE	EQU 0008
PODTYP_ARMOR	EQU 0009
PODTYP_ARMOR_CH	EQU 000A
PODTYP_ARMOR_L	EQU 000B
PODTYP_ARMOR_P	EQU 000C
PODTYP_ARROW	EQU 000D
PODTYP_BRACERS	EQU 000E
PODTYP_BOOTS	EQU 000F
PODTYP_ANKH	EQU 0010
PODTYP_AXE	EQU 0011
PODTYP_BOOK	EQU 0012
PODTYP_BOW	EQU 0013
PODTYP_DAGGER	EQU 0014
PODTYP_MACE	EQU 0015
PODTYP_SHIELD	EQU 0016
PODTYP_SHIELD2	EQU 0017
PODTYP_SLING	EQU 0018
PODTYP_SWORD	EQU 0019
PODTYP_BONE	EQU 001A
PODTYP_FOOD	EQU 001B
PODTYP_POTION_R	EQU 001C
PODTYP_POTION_G	EQU 001D
PODTYP_POTION_B	EQU 001E
		End of INCLUDE
		INCLUDE move.h
north		EQU 0000
east		EQU 0001
south		EQU 0002
west		EQU 0003
D445:		label LOCATION
D445:34		DEFB of 1 bytes
D446:		label VECTOR
D446:00		DEFB of 1 bytes
D447:		label POHYB
D447:00		DEFB of 1 bytes
D448:		label POSUN_VLEVO_INVENTAREM
D448:02F1	DEFB of 2 bytes
D44A:031B	DEFB of 2 bytes
D44C:051A	DEFB of 2 bytes
D44E:0619	DEFB of 2 bytes
D450:0714	DEFB of 2 bytes
D452:080F	DEFB of 2 bytes
D454:15F8	DEFB of 2 bytes
D456:17F9	DEFB of 2 bytes
D458:1BFB	DEFB of 2 bytes
D45A:1DFD	DEFB of 2 bytes
D45C:1FFE	DEFB of 2 bytes
D45E:		label POSUN_VPRAVO_INVENTAREM
D45E:0D08	DEFB of 2 bytes
D460:1107	DEFB of 2 bytes
D462:1206	DEFB of 2 bytes
D464:1605	DEFB of 2 bytes
D466:1710	DEFB of 2 bytes
D468:1804	DEFB of 2 bytes
D46A:1A03	DEFB of 2 bytes
D46C:1B0B	DEFB of 2 bytes
D46E:1D02	DEFB of 2 bytes
D470:1F05	DEFB of 2 bytes
D472:		label POSUN_VLEVO_INVENTAREM_END
		End of INCLUDE
		IF (false)
		ENDIF
		INCLUDE objects.h
KONTROLUJ_NATOCENI_U_PREPINACU EQU 0000
NEXT_PAKA	EQU 0078
PAKA_DOWN	EQU 003C
NEXT_ENEMY	EQU 0048
		IF (false)
- i_ld        equ     0       ; predmet vidim jako levy-dal
- i_pd        equ     2       ; predmet vidim jako pravy-dal
- i_pb        equ     4       ; predmet vidim jako pravy-bliz
- i_lb        equ     6       ; predmet vidim jako levy-bliz
		ENDIF
D472:		label HLAVNI_POSTAVA
D472:00		DEFB of 1 bytes
D473:		label SUM_POSTAV
D473:06		DEFB of 1 bytes
D474:		label BORDER
D474:00		DEFB of 1 bytes
D475:		label POZICE_RUKOU
D475:0116	DEFW of 1 words
D477:0316	DEFW of 1 words
D479:011D	DEFW of 1 words
D47B:031D	DEFW of 1 words
D47D:0816	DEFW of 1 words
D47F:0A16	DEFW of 1 words
D481:081D	DEFW of 1 words
D483:0A1D	DEFW of 1 words
D485:0F16	DEFW of 1 words
D487:1116	DEFW of 1 words
D489:0F1D	DEFW of 1 words
D48B:111D	DEFW of 1 words
D48D:		label POZICE_RUKOU_END
SIPKY_POZICE	EQU 000F
KOMPAS_POZICE	EQU 070F
D48D:		label AVATARS
D48D:E3980112	DEFW of 4 words
D491:AE6E0119
D495:416F0812	DEFW of 4 words
D499:D46F0819
D49D:50980F12	DEFW of 4 words
D4A1:1B6E0F19
D4A5:		label KOMPAS
D4A5:0B8F0F07	DEFW of 2 words
D4A9:		label SIPKY
D4A9:A1AC0F00	DEFW of 2 words
D4AD:		label STISKNUTA_SIPKA
D4AD:05AC0F03	DEFW of 2 words
D4B1:2CAC1103	DEFW of 2 words
D4B5:53AC1101	DEFW of 2 words
D4B9:7AAC1105	DEFW of 2 words
D4BD:B7AB0F01	DEFW of 2 words
D4C1:DEAB0F05	DEFW of 2 words
D4C5:00000000	DEFW of 2 words
D4C9:		label SIPKY_END
SIPKA_DOPREDU	EQU 0000
SIPKA_DOZADU	EQU 0004
SIPKA_VLEVO	EQU 0008
SIPKA_VPRAVO	EQU 000C
SIPKA_OTOCDOLEVA EQU 0010
SIPKA_OTOCDOPRAVA EQU 0014
SIPKA_NIC	EQU 0018
D4C9:		label RUZICE
D4C9:2D910F08	DEFW of 2 words
D4CD:8D900F08	DEFW of 2 words
D4D1:CD910F08	DEFW of 2 words
D4D5:6D920F08	DEFW of 2 words
D4D9:		label RUZICE_END
ENEMY_ATTACK_DISTANCE EQU 000C
D4D9:		label ENEMY_GROUP
D4D9:00000000	DEFW of 12 words
D4DD:00000000
D4E1:00000000
D4E5:00000000
D4E9:00000000
D4ED:00000000
D4F1:0503050A	DEFW of 12 words
D4F5:04040409
D4F9:05110000
D4FD:04100000
D501:000005FC
D505:000004FD
D509:0505050A	DEFW of 12 words
D50D:04060409
D511:050F0000
D515:040E0000
D519:00000500
D51D:00000401
D521:05060509	DEFW of 12 words
D525:05070508
D529:050D050F
D52D:050C050E
D531:05000502
D535:05010503
D539:FB080409	DEFW of 12 words
D53D:FB09FB0A
D541:FB0CFB0E
D545:040AFB0D
D549:04030405
D54D:0404FB07
D551:		label DIV_6
D551:00000000	DEFW of 6 words
D555:00000000
D559:00000000
D55D:02000200	DEFW of 6 words
D561:02000200
D565:02000200
D569:04000400	DEFW of 6 words
D56D:04000400
D571:04000400
D575:06000600	DEFW of 6 words
D579:06000600
D57D:06000600
D581:08000800	DEFW of 6 words
D585:08000800
D589:08000800
D58D:		label ITEM_POZICE
D58D:0C00F311	DEFW of 12 words
D591:00000000
D595:00000000
D599:00000000
D59D:00000000
D5A1:00000000
D5A5:0A04F50D	DEFW of 12 words
D5A9:F40E0B03
D5AD:0A100000
D5B1:00000B11
D5B5:0000F501
D5B9:F4000000
D5BD:0806F70B	DEFW of 12 words
D5C1:F60C0905
D5C5:080DF712
D5C9:F613090E
D5CD:08FFF704
D5D1:F60309FE
D5D5:00000000	DEFW of 12 words
D5D9:00000000
D5DD:00000000
D5E1:00000000
D5E5:00000000
D5E9:00000000
D5ED:00000000	DEFW of 12 words
D5F1:00000000
D5F5:00000000
D5F9:00000000
D5FD:00000000
D601:00000000
MAX_VIDITELNOST_PREDMETU_PLUS_1 EQU 003C
		End of INCLUDE
		INCLUDE input.h
TIMER_ADR	EQU 5C78
LAST_KEY_ADR	EQU 5C08
REPEAT_READING_JOY EQU 0006
JOY_PORT	EQU 001F
FLOP_BIT_ATTACK	EQU 0040
KEY_DOPREDU	EQU 0077
KEY_DOZADU	EQU 0073
KEY_VLEVO	EQU 0061
KEY_VPRAVO	EQU 0064
KEY_DOLEVA	EQU 0071
KEY_DOPRAVA	EQU 0065
KEY_SPACE	EQU 0020
KEY_INVENTAR	EQU 0069
KEY_BOJ		EQU 0066
KEY_PLUS	EQU 006B
KEY_MINUS	EQU 006A
stisknuto_dopredu EQU 0000
stisknuto_dozadu EQU 0001
stisknuto_vlevo	EQU 0002
stisknuto_vpravo EQU 0003
D605:		label DATA_KEMPSTON
D605:0164	DEFB of 2 bytes
D607:0261	DEFB of 2 bytes
D609:0965	DEFB of 2 bytes
D60B:0A71	DEFB of 2 bytes
D60D:0473	DEFB of 2 bytes
D60F:0877	DEFB of 2 bytes
D611:1020	DEFB of 2 bytes
D613:0566	DEFB of 2 bytes
D615:0669	DEFB of 2 bytes
D617:116B	DEFB of 2 bytes
D619:126A	DEFB of 2 bytes
D61B:		label DATA_KEMPSTON_END
D61B:00		DEFB of 1 bytes
DATA_KEMPSTON_SUM EQU 000B
		End of INCLUDE
		INCLUDE inventory.h
MAX_INVENTORY	EQU 001F
MAX_HOLD_INVENTORY EQU 001B
COLOR_OTHER_PLAYERS EQU 0007
COLOR_ACTIVE_PLAYER EQU 0003
D61C:		label INVENTORY_ITEMS
D61C:0C161B1B	DEFB of 16 bytes
D620:10000000
D624:00000000
D628:00000000
D62C:0007000A	DEFB of 15 bytes
D630:11000F00
D634:00160405
D638:040302
D63B:1B140000	DEFB of 16 bytes
D63F:10000000
D643:00000000
D647:00000000
D64B:0006080C	DEFB of 15 bytes
D64F:19020000
D653:0E160000
D657:000000
D65A:1C1C1D1E	DEFB of 16 bytes
D65E:10000000
D662:14000000
D666:00000000
D66A:0000080B	DEFB of 15 bytes
D66E:15000F00
D672:00100000
D676:000000
D679:14171B00	DEFB of 16 bytes
D67D:18000000
D681:00000000
D685:00000000
D689:00000000	DEFB of 15 bytes
D68D:14050F00
D691:00140000
D695:000000
D698:14160000	DEFB of 16 bytes
D69C:1A000000
D6A0:00000013
D6A4:00000000
D6A8:00000000	DEFB of 15 bytes
D6AC:13000000
D6B0:00000000
D6B4:000000
D6B7:14160000	DEFB of 16 bytes
D6BB:00000015
D6BF:00000000
D6C3:00000000
D6C7:00000800	DEFB of 15 bytes
D6CB:00030000
D6CF:00120100
D6D3:000000
D6D6:		label INVENTORY_ITEMS_END
D6D6:		label ITEM2SPRITE
D6D6:0000	DEFW of 1 words
D6D8:0285	DEFW of 1 words
D6DA:9D85	DEFW of 1 words
D6DC:6485	DEFW of 1 words
D6DE:2B85	DEFW of 1 words
D6E0:D685	DEFW of 1 words
MAX_RING_PLUS_1	EQU 0006
D6E2:2E83	DEFW of 1 words
D6E4:6783	DEFW of 1 words
D6E6:D383	DEFW of 1 words
MIN_ARMOR	EQU 0009
D6E8:0000	DEFW of 1 words
D6EA:7180	DEFW of 1 words
D6EC:AA80	DEFW of 1 words
D6EE:E380	DEFW of 1 words
MAX_ARMOR_PLUS_1 EQU 000D
D6F0:0000	DEFW of 1 words
D6F2:9B82	DEFW of 1 words
D6F4:3182	DEFW of 1 words
D6F6:3880	DEFW of 1 words
D6F8:1C81	DEFW of 1 words
D6FA:F881	DEFW of 1 words
D6FC:6A82	DEFW of 1 words
D6FE:D482	DEFW of 1 words
D700:A083	DEFW of 1 words
D702:0F86	DEFW of 1 words
D704:4886	DEFW of 1 words
D706:8186	DEFW of 1 words
D708:B286	DEFW of 1 words
D70A:BF81	DEFW of 1 words
MIN_FOOD	EQU 001B
D70C:C984	DEFW of 1 words
D70E:4E84	DEFW of 1 words
D710:2584	DEFW of 1 words
D712:FC83	DEFW of 1 words
D714:		label ITEM2SPRITE_END
D714:		label PRESOUVANY_PREDMET
D714:00		DEFB of 1 bytes
D715:		label KURZOR_V_INVENTARI
D715:00		DEFB of 1 bytes
POZICE_PROSTIRANI EQU 1904
POZICE_HLAVA	EQU 1A07
POZICE_NAHRDELNIK EQU 1A09
POZICE_BRNENI	EQU 1A0B
POZICE_LPRSTEN	EQU 1810
POZICE_BOTY	EQU 1A12
POZICE_TOULEC	EQU 1D09
POZICE_NATEPNIK	EQU 1D0B
POZICE_PPRSTEN	EQU 1C10
D716:		label POZICE_V_INVENTARI
D716:04120612	DEFW of 8 words
D71A:08120A12
D71E:0C120E12
D722:10121212
D726:04150615	DEFW of 8 words
D72A:08150A15
D72E:0C150E15
D732:10151215
D736:		label PROSTIRANI
D736:0419	DEFW of 1 words
D738:071A	DEFW of 1 words
D73A:091A	DEFW of 1 words
D73C:0B1A	DEFW of 1 words
D73E:0D18	DEFW of 1 words
D740:1018	DEFW of 1 words
D742:121A	DEFW of 1 words
D744:091D	DEFW of 1 words
D746:0B1D	DEFW of 1 words
D748:0D1C	DEFW of 1 words
D74A:101C	DEFW of 1 words
D74C:		label POZICE_V_INVENTARI_HOLD_END
D74C:0B04	DEFW of 1 words
D74E:0D02	DEFW of 1 words
D750:0B0B	DEFW of 1 words
D752:0D0D	DEFW of 1 words
D754:		label POZICE_V_INVENTARI_END
INDEX_PROSTIRANI EQU 0011
INDEX_HLAVA	EQU 0012
INDEX_NAHRDELNIK EQU 0013
INDEX_BRNENI	EQU 0014
INDEX_LRUKA	EQU 0015
INDEX_LPRSTEN	EQU 0016
INDEX_BOTY	EQU 0017
INDEX_TOULEC	EQU 0018
INDEX_NATEPNIK	EQU 0019
INDEX_PRUKA	EQU 001A
INDEX_PPRSTEN	EQU 001B
INDEX_ZEM_LU_M1	EQU 001B
INDEX_ZEM_LD_M1	EQU 001C
INDEX_ZEM_RU_M1	EQU 001D
INDEX_ZEM_RD_M1	EQU 001E
D754:		label POVOLENE_POZICE
D754:16		DEFB of 1 bytes
D755:16		DEFB of 1 bytes
D756:16		DEFB of 1 bytes
D757:16		DEFB of 1 bytes
D758:16		DEFB of 1 bytes
D759:12		DEFB of 1 bytes
D75A:12		DEFB of 1 bytes
D75B:13		DEFB of 1 bytes
D75C:14		DEFB of 1 bytes
D75D:14		DEFB of 1 bytes
D75E:14		DEFB of 1 bytes
D75F:14		DEFB of 1 bytes
D760:18		DEFB of 1 bytes
D761:19		DEFB of 1 bytes
D762:17		DEFB of 1 bytes
D763:15		DEFB of 1 bytes
D764:15		DEFB of 1 bytes
D765:15		DEFB of 1 bytes
D766:15		DEFB of 1 bytes
D767:15		DEFB of 1 bytes
D768:15		DEFB of 1 bytes
D769:15		DEFB of 1 bytes
D76A:15		DEFB of 1 bytes
D76B:15		DEFB of 1 bytes
D76C:15		DEFB of 1 bytes
D76D:15		DEFB of 1 bytes
D76E:11		DEFB of 1 bytes
D76F:11		DEFB of 1 bytes
D770:11		DEFB of 1 bytes
D771:11		DEFB of 1 bytes
D772:		label POVOLENE_POZICE_END
D772:		label DATA_ZIVOTY
D772:848401B4	DEFB of 7 bytes
D776:C80000
D779:5A5A01BB	DEFB of 7 bytes
D77D:C80000
D780:40400194	DEFB of 7 bytes
D784:C90000
D787:2828019B	DEFB of 7 bytes
D78B:C90000
D78E:2E2E0174	DEFB of 7 bytes
D792:CA0000
D795:2828017B	DEFB of 7 bytes
D799:CA0000
D79C:		label DATA_ZIVOTY_END
		End of INCLUDE
		INCLUDE draw3D.h
D79C:		label TABLE_VIEW_9_DEPTH_4
D79C:747FFC11	DEFW of 8 words
D7A0:00000000
D7A4:747F0300
D7A8:00000000
D7AC:E17EFC11	DEFW of 8 words
D7B0:00000000
D7B4:E17E0300
D7B8:00000000
D7BC:367EFC0F	DEFW of 8 words
D7C0:00000000
D7C4:367E0302
D7C8:00000000
D7CC:B37DFC0C	DEFW of 10 words
D7D0:00000000
D7D4:B37D0305
D7D8:00000000
D7DC:F07C0307
D7E0:		label TABLE_VIEW_7_DEPTH_3
D7E0:55AFFC11	DEFW of 8 words
D7E4:00000000
D7E8:55AF0300
D7EC:00000000
D7F0:9197FC11	DEFW of 8 words
D7F4:00000000
D7F8:91970300
D7FC:00000000
D800:3E7CFC0E	DEFW of 10 words
D804:F2AEFC0B
D808:3E7C0303
D80C:F2AE0306
D810:3E7C0307
D814:		label TABLE_VIEW_5_DEPTH_2
D814:60AEFC11	DEFW of 8 words
D818:00000000
D81C:60AE0300
D820:00000000
D824:5396FC11	DEFW of 10 words
D828:00000000
D82C:53960300
D830:00000000
D834:FC7A0305
D838:		label TABLE_DEPTH_1
D838:A894FD11	DEFW of 10 words
D83C:00000000
D840:A8940200
D844:00000000
D848:F6770204
D84C:		label TABLE_DEPTH_0
D84C:0D93FE11	DEFW of 10 words
D850:00000000
D854:0D930100
D858:00000000
D85C:DC700101
D860:		label TABLE_DEPTH_x
D860:DFADFF11	DEFW of 10 words
D864:00000000
D868:DFAD0000
D86C:00000000
D870:00000000
D874:		label PAKY_TABLE
D874:00000000	DEFW of 6 words
D878:00000000
D87C:00000000
D880:119D0207	DEFW of 6 words
D884:00000000
D888:00000000
D88C:849D0307	DEFW of 6 words
D890:00000000
D894:00000000
D898:E39D0308	DEFW of 6 words
D89C:E39DFC0F
D8A0:E39D0302
D8A4:1C9E0308	DEFW of 6 words
D8A8:1C9EFC0D
D8AC:1C9E0304
D8B0:00000000	DEFW of 6 words
D8B4:00000000
D8B8:00000000
D8BC:729B0407	DEFW of 6 words
D8C0:00000000
D8C4:00000000
D8C8:E59B0407	DEFW of 6 words
D8CC:00000000
D8D0:00000000
D8D4:449C0408	DEFW of 6 words
D8D8:449CFB0F
D8DC:449C0402
D8E0:6B9C0408	DEFW of 6 words
D8E4:6B9CFB0D
D8E8:6B9C0404
D8EC:00000000	DEFW of 6 words
D8F0:00000000
D8F4:00000000
D8F8:00000000	DEFW of 6 words
D8FC:00000000
D900:929C0302
D904:00000000	DEFW of 6 words
D908:00000000
D90C:CB9C0304
D910:00000000	DEFW of 6 words
D914:00000000
D918:FC9C0406
D91C:00000000	DEFW of 6 words
D920:00000000
D924:00000407
D928:00000000	DEFW of 6 words
D92C:00000000
D930:00000000
D934:00000000	DEFW of 6 words
D938:00000000
D93C:059B0402
D940:00000000	DEFW of 6 words
D944:00000000
D948:369B0404
D94C:00000000	DEFW of 6 words
D950:00000000
D954:5D9B0406
D958:00000000	DEFW of 6 words
D95C:00000000
D960:00000000
D964:00000000	DEFW of 6 words
D968:00000000
D96C:00000000
D970:00000000	DEFW of 6 words
D974:929CFC0F
D978:00000000
D97C:00000000	DEFW of 6 words
D980:CB9CFC0D
D984:00000000
D988:00000000	DEFW of 6 words
D98C:FC9CFB0B
D990:00000000
D994:00000000	DEFW of 6 words
D998:00000000
D99C:00000000
D9A0:00000000	DEFW of 6 words
D9A4:00000000
D9A8:00000000
D9AC:00000000	DEFW of 6 words
D9B0:059BFB0F
D9B4:00000000
D9B8:00000000	DEFW of 6 words
D9BC:369BFB0D
D9C0:00000000
D9C4:00000000	DEFW of 6 words
D9C8:5D9BFB0B
D9CC:00000000
D9D0:00000000	DEFW of 6 words
D9D4:0000040A
D9D8:00000000
D9DC:		label DOOR_TABLE
D9DC:00000000	DEFW of 6 words
D9E0:00000000
D9E4:00000000
D9E8:8F600203	DEFW of 6 words
D9EC:00000000
D9F0:00000000
D9F4:CA640305	DEFW of 6 words
D9F8:CA64030F
D9FC:CA6403FB
DA00:C5660306	DEFW of 6 words
DA04:C566030C
DA08:C5660300
DA0C:26680407	DEFW of 6 words
DA10:2668040B
DA14:26680403
DA18:		label RAM_TABLE
DA18:3B9E0004	DEFW of 6 words
DA1C:00000000
DA20:00000000
DA24:5AA20101	DEFW of 6 words
DA28:4DA6FE11
DA2C:4DA60100
DA30:BCA60204	DEFW of 6 words
DA34:AFA8FD11
DA38:AFA80200
DA3C:92A90306	DEFW of 6 words
DA40:92A9030C
DA44:73AA0300
DA48:34AB0307	DEFW of 6 words
DA4C:34AB030B
DA50:34AB0303
NEXT_TYP_ENEMY	EQU 000A
DA54:		label ENEMY_TABLE
DA54:0000	DEFW of 1 words
DA56:BE6A	DEFW of 1 words
DA58:616C	DEFW of 1 words
DA5A:5E6D	DEFW of 1 words
DA5C:CA6D	DEFW of 1 words
DA5E:0000	DEFW of 1 words
DA60:A568	DEFW of 1 words
DA62:0000	DEFW of 1 words
DA64:0000	DEFW of 1 words
DA66:0000	DEFW of 1 words
DA68:		label ITEM_TABLE
DA68:00000000	DEFW of 4 words
DA6C:00000000
DA70:3589518B	DEFW of 4 words
DA74:4F8C0000
DA78:3589518B	DEFW of 4 words
DA7C:4F8C0000
DA80:3589518B	DEFW of 4 words
DA84:4F8C0000
DA88:3589518B	DEFW of 4 words
DA8C:4F8C0000
DA90:3589518B	DEFW of 4 words
DA94:4F8C0000
DA98:4587518A	DEFW of 4 words
DA9C:EB8B0000
DAA0:4587518A	DEFW of 4 words
DAA4:EB8B0000
DAA8:3589518B	DEFW of 4 words
DAAC:4F8C0000
DAB0:0000518A	DEFW of 4 words
DAB4:EB8B0000
DAB8:4587518A	DEFW of 4 words
DABC:EB8B0000
DAC0:4587518A	DEFW of 4 words
DAC4:EB8B0000
DAC8:4587518A	DEFW of 4 words
DACC:EB8B0000
DAD0:3589518B	DEFW of 4 words
DAD4:4F8C0000
DAD8:3589518B	DEFW of 4 words
DADC:4F8C0000
DAE0:3589518B	DEFW of 4 words
DAE4:4F8C0000
DAE8:3589518B	DEFW of 4 words
DAEC:4F8C0000
DAF0:AF898A8B	DEFW of 4 words
DAF4:648C0000
DAF8:3589518B	DEFW of 4 words
DAFC:4F8C0000
DB00:AF898A8B	DEFW of 4 words
DB04:648C0000
DB08:AF898A8B	DEFW of 4 words
DB0C:648C0000
DB10:AF898A8B	DEFW of 4 words
DB14:648C0000
DB18:4587518A	DEFW of 4 words
DB1C:EB8B0000
DB20:4587518A	DEFW of 4 words
DB24:EB8B0000
DB28:AF898A8B	DEFW of 4 words
DB2C:648C0000
DB30:AF898A8B	DEFW of 4 words
DB34:648C0000
DB38:3A88CC8A	DEFW of 4 words
DB3C:198C0000
DB40:3589518B	DEFW of 4 words
DB44:4F8C0000
DB48:3589518B	DEFW of 4 words
DB4C:4F8C0000
DB50:3589518B	DEFW of 4 words
DB54:4F8C0000
DB58:3589518B	DEFW of 4 words
DB5C:4F8C0000
DB60:		label KANAL_TABLE
DB60:00000000	DEFW of 6 words
DB64:00000000
DB68:00000000
DB6C:898C0805	DEFW of 6 words
DB70:00000000
DB74:00000000
DB78:F48D0706	DEFW of 6 words
DB7C:F48D0710
DB80:F48D07FC
DB84:998E0607	DEFW of 6 words
DB88:998E060D
DB8C:998E0601
DB90:E48E0508	DEFW of 6 words
DB94:E48E050C
DB98:E48E0504
DB9C:		label RUNE_TABLE
DB9C:00000000	DEFW of 6 words
DBA0:00000000
DBA4:00000000
DBA8:9F770407	DEFW of 6 words
DBAC:00000417
DBB0:000004F7
DBB4:C97A0407	DEFW of 6 words
DBB8:C97A0411
DBBC:C97A04FD
DBC0:277C0408	DEFW of 6 words
DBC4:277C040E
DBC8:277C0402
DBCC:D17C0408	DEFW of 6 words
DBD0:D17C040C
DBD4:D17C0404
		End of INCLUDE
		INCLUDE strings.h
DBD8:		label VETA_NO_WAY
DBD8:594F5520	DEFB of 23 bytes
DBDC:43414E27
DBE0:5420474F
DBE4:20544841
DBE8:54205741
DBEC:592E00
DBEF:		label VETA_NO_PUT
DBEF:594F5520	DEFB of 30 bytes
DBF3:43414E54
DBF7:20505554
DBFB:20544841
DBFF:54204954
DC03:454D2054
DC07:48455245
DC0B:2E00
DC0D:		label VETA_CASTS
DC0D:3F3F3F20	DEFB of 17 bytes
DC11:43415354
DC15:5320424C
DC19:4553532E
DC1D:00
DC1E:		label VETA_PRY_DOOR
DC1E:4E4F204F	DEFB of 38 bytes
DC22:4E452049
DC26:53204142
DC2A:4C452054
DC2E:4F205052
DC32:59205448
DC36:49532044
DC3A:4F4F5220
DC3E:4F50454E
DC42:2E00
DC44:		label VETA_FORCES
DC44:54484520	DEFB of 27 bytes
DC48:50415254
DC4C:5920464F
DC50:52434553
DC54:20544845
DC58:20444F4F
DC5C:522E00
DC5F:		label VETA_TAKEN
DC5F:2054414B	DEFB of 8 bytes
DC63:454E2E00
DC67:		label VETA_PUT
DC67:2042594C	DEFB of 14 bytes
DC6B:20504F4C
DC6F:4F5A454E
DC73:2E00
DC75:		label VETA_DRINK
DC75:2042594C	DEFB of 12 bytes
DC79:20565950
DC7D:49542E00
DC81:		label VETA_EAT
DC81:2042594C	DEFB of 13 bytes
DC85:20534E45
DC89:5A454E2E
DC8D:00
DC8E:		label ARRAY_STRING_DEKORACE
DC8E:534F4D45	DEFB of 48 bytes
DC92:5448494E
DC96:47205343
DC9A:55525249
DC9E:45532044
DCA2:45455045
DCA6:5220494E
DCAA:544F2054
DCAE:48452046
DCB2:4C4F4F52
DCB6:20445241
DCBA:494E2E00
DCBE:54484953	DEFB of 27 bytes
DCC2:2052554E
DCC6:45204953
DCCA:20554E52
DCCE:45434F47
DCD2:4E495A45
DCD6:442E00
DCD9:		label ARRAY_STRING_PREPINACE
DCD9:50524548	DEFB of 19 bytes
DCDD:4F44494C
DCE1:204A5349
DCE5:2050414B
DCE9:552E00
DCEC:53544953	DEFB of 23 bytes
DCF0:4B4E554C
DCF4:204A5349
DCF8:20544C41
DCFC:4349544B
DD00:4F2E00
DD03:53544953	DEFB of 30 bytes
DD07:4B4E554C
DD0B:204A5349
DD0F:20534B52
DD13:59544520
DD17:544C4143
DD1B:49544B4F
DD1F:2E00
DD21:4F544F43	DEFB of 19 bytes
DD25:494C204A
DD29:5349205A
DD2D:414D4B45
DD31:4D2E00
DD34:		label VETA_11
DD34:54484953	DEFB of 47 bytes
DD38:20534C49
DD3C:4D592C20
DD40:534D454C
DD44:4C592044
DD48:5241494E
DD4C:20504950
DD50:45205245
DD54:5645414C
DD58:53204E4F
DD5C:5448494E
DD60:472E00
DD63:		label VETA_13
DD63:54484552	DEFB of 32 bytes
DD67:45204953
DD6B:20412044
DD6F:5241494E
DD73:41474520
DD77:47524154
DD7B:45204845
DD7F:52452E00
DD83:		label VETA_14
DD83:4F4E4C59	DEFB of 28 bytes
DD87:20544845
DD8B:20535452
DD8F:4F4E4720
DD93:5348414C
DD97:4C205041
DD9B:53532E00
DD9F:		label VETA_15
DD9F:57415443	DEFB of 17 bytes
DDA3:4820594F
DDA7:55522053
DDAB:5445502E
DDAF:00
DDB0:		label VETA_16
DDB0:4E4F5420	DEFB of 25 bytes
DDB4:414C4C20
DDB8:49532041
DDBC:53204954
DDC0:20415050
DDC4:45415253
DDC8:00
DDC9:		label VETA_EXP
DDC9:3F3F3F20	DEFB of 38 bytes
DDCD:48415320
DDD1:4741494E
DDD5:45442041
DDD9:204C4556
DDDD:454C204F
DDE1:46204558
DDE5:50455249
DDE9:454E4345
DDED:2E00
DDEF:		label VETA_DOWN
DDEF:474F494E	DEFB of 14 bytes
DDF3:4720444F
DDF7:574E2E2E
DDFB:2E00
DDFD:		label VETA_UP
DDFD:474F494E	DEFB of 10 bytes
DE01:47205550
DE05:2E00
DE07:		label VETA_DOOR
DE07:54484520	DEFB of 24 bytes
DE0B:444F4F52
DE0F:20415050
DE13:45415253
DE17:20535455
DE1B:434B2E00
DE1F:		label VETA_DAGGER
DE1F:54484520	DEFB of 17 bytes
DE23:44414747
DE27:45522046
DE2B:4954532E
DE2F:00
DE30:		label VETA_HOLLOW
DE30:4120484F	DEFB of 34 bytes
DE34:4C4C4F57
DE38:204C4155
DE3C:47485445
DE40:52204543
DE44:484F4553
DE48:20464149
DE4C:4E544C59
DE50:2E00
DE52:		label VETA_UNDEAD
DE52:3F3F3F20	DEFB of 35 bytes
DE56:55534553
DE5A:20544845
DE5E:20504F57
DE62:45522054
DE66:4F205455
DE6A:524E2055
DE6E:4E444541
DE72:442100
DE75:		label HELP_STRING
DE75:54455354	DEFB of 28 bytes
DE79:205A5820
DE7D:44554E47
DE81:454F4E20
DE85:44454D4F
DE89:20562030
DE8D:2E373100
DE91:4F564C41	DEFB of 44 bytes
DE95:44414E49
DE99:3A20512C
DE9D:452D4F54
DEA1:4F43454E
DEA5:493B2057
DEA9:2C532D50
DEAD:4F485942
DEB1:3B20412C
DEB5:442D554B
DEB9:524F4B00
DEBD:4A2C4B2C	DEFB of 37 bytes
DEC1:312E2E36
DEC5:2D414B54
DEC9:49564E49
DECD:20504F53
DED1:54415641
DED5:3B20492D
DED9:494E5645
DEDD:4E544152
DEE1:00
DEE2:53504143	DEFB of 47 bytes
DEE6:4520284D
DEEA:455A4552
DEEE:4E494B29
DEF2:202D2041
DEF6:4B43453B
DEFA:2053532B
DEFE:58202843
DF02:54524C2B
DF06:5829202D
DF0A:204B4F4E
DF0E:454300
NEXT_NAME	EQU 000B
DF11:		label VETA_HP
DF11:485000	DEFB of 3 bytes
DF14:		label NAMES
DF14:444F4852	DEFB of 11 bytes
DF18:554D2020
DF1C:202000
DF1F:57595244	DEFB of 11 bytes
DF23:20202020
DF27:202000
DF2A:4C494E44	DEFB of 11 bytes
DF2E:41202020
DF32:202000
DF35:45495448	DEFB of 11 bytes
DF39:4E452020
DF3D:202000
DF40:544F4420	DEFB of 11 bytes
DF44:55504849
DF48:4C4C00
DF4B:49524953	DEFB of 11 bytes
DF4F:20202020
DF53:202000
DF56:		label ARRAY_STRING_ITEMS
DF56:00		DEFB of 1 bytes
DF57:52494E47	DEFB of 5 bytes
DF5B:00
DF5C:52554249	DEFB of 11 bytes
DF60:4E205249
DF64:4E4700
DF67:534D4152	DEFB of 13 bytes
DF6B:41474420
DF6F:52494E47
DF73:00
DF74:53415050	DEFB of 14 bytes
DF78:48495245
DF7C:2052494E
DF80:4700
DF82:4449414D	DEFB of 13 bytes
DF86:4F4E4420
DF8A:52494E47
DF8E:00
DF8F:48454C4D	DEFB of 5 bytes
DF93:00
DF94:44574152	DEFB of 13 bytes
DF98:56454E20
DF9C:48454C4D
DFA0:00
DFA1:4E45434B	DEFB of 9 bytes
DFA5:4C414345
DFA9:00
DFAA:41524D4F	DEFB of 6 bytes
DFAE:5200
DFB0:43484149	DEFB of 10 bytes
DFB4:4E4D4149
DFB8:4C00
DFBA:4C454154	DEFB of 14 bytes
DFBE:48455220
DFC2:41524D4F
DFC6:5200
DFC8:504C4154	DEFB of 12 bytes
DFCC:45204152
DFD0:4D4F5200
DFD4:4152524F	DEFB of 6 bytes
DFD8:5700
DFDA:42524143	DEFB of 8 bytes
DFDE:45525300
DFE2:424F4F54	DEFB of 6 bytes
DFE6:5300
DFE8:414E4B48	DEFB of 5 bytes
DFEC:00
DFED:41584500	DEFB of 4 bytes
DFF1:424F4F4B	DEFB of 5 bytes
DFF5:00
DFF6:424F5700	DEFB of 4 bytes
DFFA:44414747	DEFB of 7 bytes
DFFE:455200
E001:4D414345	DEFB of 5 bytes
E005:00
E006:53484945	DEFB of 7 bytes
E00A:4C4400
E00D:53504944	DEFB of 14 bytes
E011:45522053
E015:4849454C
E019:4400
E01B:534C494E	DEFB of 6 bytes
E01F:4700
E021:53574F52	DEFB of 6 bytes
E025:4400
E027:424F4E45	DEFB of 5 bytes
E02B:00
E02C:52415449	DEFB of 8 bytes
E030:4F4E5300
E034:4845414C	DEFB of 15 bytes
E038:494E4720
E03C:504F5449
E040:4F4E00
E043:414E5449	DEFB of 16 bytes
E047:444F5445
E04B:20504F54
E04F:494F4E00
E053:504F5449	DEFB of 9 bytes
E057:4F4E5F42
E05B:00
		End of INCLUDE
		REPT 0
E05C:		label CARKY
E05C:00		DEFB of 1 bytes
E05D:80		DEFB of 1 bytes
E05E:C0		DEFB of 1 bytes
E05F:E0		DEFB of 1 bytes
E060:F0		DEFB of 1 bytes
E061:F8		DEFB of 1 bytes
E062:FC		DEFB of 1 bytes
E063:FE		DEFB of 1 bytes
E064:FF		DEFB of 1 bytes
E065:		label CARKY_END
		INCLUDE sprite2buffer.asm
E065:		label SET_TARGET_BUFFER
E065:3EB0	LD A, B0
E067:323CE1	LD (E13C), A
E06A:3EC8	LD A, C8
E06C:324AE1	LD (E14A), A
E06F:C9		RET
E070:		label SET_TARGET_SCREEN
E070:3E40	LD A, 40
E072:323CE1	LD (E13C), A
E075:3E58	LD A, 58
E077:324AE1	LD (E14A), A
E07A:C9		RET
E07B:		label SET_MAX_31
E07B:3E1F	LD A, 1F
E07D:3220E1	LD (E120), A
E080:32C6E0	LD (E0C6), A
E083:C9		RET
E084:		label SET_MAX_17
E084:3E11	LD A, 11
E086:3220E1	LD (E120), A
E089:32C6E0	LD (E0C6), A
E08C:C9		RET
MEZERA		EQU 003F
E08D:		label COPY_SPRITE2BUFFER
E08D:FDE5	PUSH IY
E08F:ED7395E1	LD (E195), SP
E093:1A		LD A, (DE)
E094:83		ADD A, E
E095:6F		LD L, A
E096:7A		LD A, D
E097:CE00	ADC A, 00
E099:67		LD H, A
E09A:13		INC DE
E09B:1A		LD A, (DE)
E09C:FD67	LD IYH, A
E09E:13		INC DE
E09F:1A		LD A, (DE)
E0A0:DD67	LD IXH, A
E0A2:79		LD A, C
E0A3:EEFF	XOR FF
E0A5:FAD1E0	JP M, E0D1
E0A8:4F		LD C, A
E0A9:3E2D	LD A, 2D
E0AB:328AE1	LD (E18A), A
E0AE:E5		PUSH HL
E0AF:21180A	LD HL, 0A18
E0B2:2264E1	LD (E164), HL
E0B5:2609	LD H, 09
E0B7:22C6E1	LD (E1C6), HL
E0BA:260E	LD H, 0E
E0BC:22F4E1	LD (E1F4), HL
E0BF:2610	LD H, 10
E0C1:221CE2	LD (E21C), HL
E0C4:E1		POP HL
E0C5:		label CS2B_17VS31
E0C5:3E11	LD A, 11
E0C7:DD6F	LD IXL, A
E0C9:90		SUB B
E0CA:FD6F	LD IYL, A
E0CC:FAF2E0	JP M, E0F2
E0CF:183F	JR E110
E0D1:		label CS2B_JAKPISMO
E0D1:3E2C	LD A, 2C
E0D3:328AE1	LD (E18A), A
E0D6:E5		PUSH HL
E0D7:210608	LD HL, 0806
E0DA:2264E1	LD (E164), HL
E0DD:2604	LD H, 04
E0DF:22C6E1	LD (E1C6), HL
E0E2:22F4E1	LD (E1F4), HL
E0E5:221CE2	LD (E21C), HL
E0E8:E1		POP HL
		IF (false)
-     .error 'Adresa bufferu obrazovky nema horni bit nastaveny na jednicku!'
		ENDIF
E0E9:CB78	BIT 7, B
E0EB:FD68	LD IYL, B
E0ED:DD2E00	LD IXL, 00
E0F0:281E	JR Z, E110
E0F2:		label CS2B_OREZ_POCATEK_SPRITU
E0F2:310800	LD SP, 0008
E0F5:		label CS2B_VYNECH_SLOUPEC
E0F5:DD44	LD B, IXH
E0F7:		label CS2B_DALSI_ATRIBUT
E0F7:13		INC DE
E0F8:1A		LD A, (DE)
E0F9:FE3F	CP 3F
E0FB:2806	JR Z, E103
E0FD:B7		OR A
E0FE:F202E1	JP P, E102
E101:39		ADD HL, SP
E102:		label CS2B_BEZ_MASKY
E102:39		ADD HL, SP
E103:		label CS2B_ODECTI_ZNAK
E103:10F2	DJNZ E0F7
E105:FD25	DEC IYH
E107:CA94E1	JP Z, E194
E10A:FD2C	INC IYL
E10C:20E7	JR NZ, E0F5
E10E:DD45	LD B, IXL
E110:		label CS2B_ZACINAME_V_BUFFERU
E110:F9		LD SP, HL
E111:FD68	LD IYL, B
E113:DD7D	LD A, IXL
E115:B7		OR A
E116:2807	JR Z, E11F
E118:78		LD A, B
E119:B7		OR A
E11A:FA94E1	JP M, E194
E11D:1807	JR E126
E11F:		label CS2B_SELFMODIFYING_MAXSLOUPEC
E11F:3E11	LD A, 11
E121:FD95	SUB IYL
E123:FA94E1	JP M, E194
E126:		label CS2B_TEST_ZKRACENI_SIRKY
E126:3C		INC A
E127:FDBC	CP IYH
E129:3002	JR NC, E12D
E12B:FD67	LD IYH, A
E12D:		label CS2B_NEZKRACUJ
E12D:79		LD A, C
E12E:0F		RRCA
E12F:0F		RRCA
E130:0F		RRCA
E131:67		LD H, A
E132:E6E0	AND E0
E134:80		ADD A, B
E135:6F		LD L, A
E136:08		EX AF, AF'
E137:79		LD A, C
E138:D9		EXX
E139:E618	AND 18
E13B:		label CS2B_SELFMODIFYING_ADR_BUFF
E13B:C6B0	ADD A, B0
E13D:3286E1	LD (E186), A
E140:67		LD H, A
E141:08		EX AF, AF'
E142:6F		LD L, A
E143:FD6F	LD IYL, A
E145:D9		EXX
E146:7C		LD A, H
E147:E603	AND 03
E149:		label CS2B_SELFMODIFYING_ADR_ATTR_BUFF
E149:C6C8	ADD A, C8
E14B:67		LD H, A
E14C:3290E1	LD (E190), A
E14F:FD44	LD B, IYH
E151:DD6C	LD IXL, H
E153:C3B5E1	JP E1B5
E156:		label CS2B_MASKA
E156:E67F	AND 7F
E158:4F		LD C, A
E159:E638	AND 38
E15B:79		LD A, C
E15C:2004	JR NZ, E162
E15E:7E		LD A, (HL)
E15F:E678	AND 78
E161:B1		OR C
E162:		label CS2B_MASKA_NEZACHOVAT_PAPER
E162:77		LD (HL), A
E163:D9		EXX
E164:		label CS2B_SELF_LD8_OR_JR_MASKA_ZRC
E164:0608	LD B, 08
E166:		label CS2B_MASKA_LOOP
E166:D1		POP DE
E167:7E		LD A, (HL)
E168:A3		AND E
E169:B2		OR D
E16A:77		LD (HL), A
E16B:24		INC H
E16C:10F8	DJNZ E166
E16E:182F	JR E19F
E170:		label CS2B_MASKA_ZRCADLOVE
E170:EB		EX DE, HL
E171:26D0	LD H, D0
E173:FD2608	LD IYH, 08
E176:		label CS2B_MASKA_ZRCADLOVE_LOOP
E176:C1		POP BC
E177:1A		LD A, (DE)
E178:69		LD L, C
E179:A6		AND (HL)
E17A:68		LD L, B
E17B:B6		OR (HL)
E17C:12		LD (DE), A
E17D:14		INC D
E17E:FD25	DEC IYH
E180:20F4	JR NZ, E176
E182:EB		EX DE, HL
E183:181A	JR E19F
E185:		label CS2B_PRVNI_RADEK
E185:		label CS2B_SELF_H_SHADOW
E185:2600	LD H, 00
E187:DD6C	LD IXL, H
E189:		label CS2B_SELF_MIRROR_DEC
E189:FD2C	INC IYL
E18B:FD7D	LD A, IYL
E18D:6F		LD L, A
E18E:D9		EXX
E18F:		label CS2B_SELF_H
E18F:2600	LD H, 00
E191:6F		LD L, A
E192:1021	DJNZ E1B5
E194:		label CS2B_EXIT
E194:310000	LD SP, 0000
E197:FDE1	POP IY
E199:C9		RET
E19A:		label CS2B_CELOPRUHLEDNY_ZNAK
E19A:D9		EXX
E19B:7C		LD A, H
E19C:C608	ADD A, 08
E19E:67		LD H, A
E19F:		label CS2B_O_ZNAK_NIZE
E19F:DD2D	DEC IXL
E1A1:28E2	JR Z, E185
E1A3:3E20	LD A, 20
E1A5:85		ADD A, L
E1A6:6F		LD L, A
E1A7:3809	JR C, E1B2
E1A9:7C		LD A, H
E1AA:D608	SUB 08
E1AC:67		LD H, A
E1AD:7D		LD A, L
E1AE:D9		EXX
E1AF:C3B4E1	JP E1B4
E1B2:		label CS2B_TRETINA
E1B2:D9		EXX
E1B3:24		INC H
E1B4:		label CS2B_ATTR_NEXT
E1B4:6F		LD L, A
E1B5:		label CS2B_POCATEK
E1B5:13		INC DE
E1B6:1A		LD A, (DE)
E1B7:FE3F	CP 3F
E1B9:28DF	JR Z, E19A
E1BB:B7		OR A
E1BC:FA56E1	JP M, E156
E1BF:4F		LD C, A
E1C0:E638	AND 38
E1C2:2821	JR Z, E1E5
E1C4:71		LD (HL), C
E1C5:D9		EXX
E1C6:		label CS2B_SELF_LD4_OR_JR_PREP_ZRC
E1C6:0604	LD B, 04
E1C8:		label CS2B_PREPISOVANI_LOOP
E1C8:D1		POP DE
E1C9:73		LD (HL), E
E1CA:24		INC H
E1CB:72		LD (HL), D
E1CC:24		INC H
E1CD:10F9	DJNZ E1C8
E1CF:18CE	JR E19F
E1D1:		label CS2B_PREPISOVANI_ZRCADLOVE
E1D1:16D0	LD D, D0
E1D3:FD2604	LD IYH, 04
E1D6:		label CS2B_PREPISOVANI_ZRCADLOVE_LOOP
E1D6:C1		POP BC
E1D7:59		LD E, C
E1D8:1A		LD A, (DE)
E1D9:77		LD (HL), A
E1DA:24		INC H
E1DB:58		LD E, B
E1DC:1A		LD A, (DE)
E1DD:77		LD (HL), A
E1DE:24		INC H
E1DF:FD25	DEC IYH
E1E1:20F3	JR NZ, E1D6
E1E3:18BA	JR E19F
E1E5:		label CS2B_PRIPISOVANI
E1E5:7E		LD A, (HL)
E1E6:0F		RRCA
E1E7:0F		RRCA
E1E8:0F		RRCA
E1E9:E607	AND 07
E1EB:B9		CP C
E1EC:282D	JR Z, E21B
E1EE:7E		LD A, (HL)
E1EF:E6F8	AND F8
E1F1:B1		OR C
E1F2:77		LD (HL), A
E1F3:D9		EXX
E1F4:		label CS2B_SELF_LD4_OR_JR_PRIP_ZRC
E1F4:0604	LD B, 04
E1F6:		label CS2B_PRIPISOVANI_LOOP
E1F6:D1		POP DE
E1F7:7E		LD A, (HL)
E1F8:B3		OR E
E1F9:77		LD (HL), A
E1FA:24		INC H
E1FB:7E		LD A, (HL)
E1FC:B2		OR D
E1FD:77		LD (HL), A
E1FE:24		INC H
E1FF:10F5	DJNZ E1F6
E201:C39FE1	JP E19F
E204:		label CS2B_PRIPISOVANI_ZRCADLOVE
E204:16D0	LD D, D0
E206:FD2604	LD IYH, 04
E209:		label CS2B_PRIPISOVANI_ZRCADLOVE_LOOP
E209:C1		POP BC
E20A:59		LD E, C
E20B:1A		LD A, (DE)
E20C:B6		OR (HL)
E20D:77		LD (HL), A
E20E:24		INC H
E20F:58		LD E, B
E210:1A		LD A, (DE)
E211:B6		OR (HL)
E212:77		LD (HL), A
E213:24		INC H
E214:FD25	DEC IYH
E216:20F1	JR NZ, E209
E218:C39FE1	JP E19F
E21B:		label CS2B_VYMAZANI
E21B:D9		EXX
E21C:		label CS2B_SELF_LD4_OR_JR_VYMAZ_ZRC
E21C:0604	LD B, 04
E21E:		label CS2B_VYMAZANI_LOOP
E21E:D1		POP DE
E21F:7B		LD A, E
E220:2F		CPL
E221:A6		AND (HL)
E222:77		LD (HL), A
E223:24		INC H
E224:7A		LD A, D
E225:2F		CPL
E226:A6		AND (HL)
E227:77		LD (HL), A
E228:24		INC H
E229:10F3	DJNZ E21E
E22B:C39FE1	JP E19F
E22E:		label CS2B_VYMAZANI_ZRCADLOVE
E22E:16D0	LD D, D0
E230:FD2604	LD IYH, 04
E233:		label CS2B_VYMAZANI_ZRCADLOVE_LOOP
E233:C1		POP BC
E234:59		LD E, C
E235:1A		LD A, (DE)
E236:2F		CPL
E237:A6		AND (HL)
E238:77		LD (HL), A
E239:24		INC H
E23A:58		LD E, B
E23B:1A		LD A, (DE)
E23C:2F		CPL
E23D:A6		AND (HL)
E23E:77		LD (HL), A
E23F:24		INC H
E240:FD25	DEC IYH
E242:20EF	JR NZ, E233
E244:C39FE1	JP E19F
SKOK_NA_MASKA_ZRCADLOVE EQU 000A
SKOK_NA_PREPISOVANI_ZRCADLOVE EQU 0009
SKOK_NA_PRIPISOVANI_ZRCADLOVE EQU 000E
SKOK_NA_VYMAZANI_ZRCADLOVE EQU 0010
		IF (false)
-   .error 'Hodnota relativniho skoku na CS2B_MASKA_ZRCADLOVE mimo povoleny rozsah!'
		ENDIF
		IF (false)
-   .error 'Hodnota relativniho skoku na CS2B_PREPISOVANI_ZRCADLOVE mimo povoleny rozsah!'
		ENDIF
		IF (false)
-   .error 'Hodnota relativniho skoku na CS2B_PRIPISOVANI_ZRCADLOVE mimo povoleny rozsah!'
		ENDIF
		End of INCLUDE
		INCLUDE input.asm
E247:		label TEST_KEMPSTON
E247:AF		XOR A
E248:67		LD H, A
E249:6F		LD L, A
E24A:		label TK_NOVY_STAV
E24A:0606	LD B, 06
E24C:B4		OR H
E24D:67		LD H, A
E24E:		label TK_LOOP
E24E:76		HALT
E24F:DB1F	IN A, (1F)
E251:E61F	AND 1F
E253:FE1F	CP 1F
E255:C8		RET Z
E256:BD		CP L
E257:6F		LD L, A
E258:20F0	JR NZ, E24A
E25A:10F2	DJNZ E24E
E25C:7C		LD A, H
E25D:2105D6	LD HL, D605
E260:060B	LD B, 0B
E262:		label TK_TEST_STAVU
E262:BE		CP (HL)
E263:23		INC HL
E264:2803	JR Z, E269
E266:23		INC HL
E267:10F9	DJNZ E262
E269:		label TK_SHODNY_STAV
E269:7E		LD A, (HL)
E26A:B7		OR A
E26B:C9		RET
E26C:		label KEYPRESSED
E26C:11785C	LD DE, 5C78
E26F:1A		LD A, (DE)
E270:E620	AND 20
E272:47		LD B, A
E273:21085C	LD HL, 5C08
E276:		label KEYPRESSED_NO
E276:1A		LD A, (DE)
E277:E620	AND 20
E279:A8		XOR B
E27A:C0		RET NZ
E27B:7E		LD A, (HL)
E27C:B7		OR A
E27D:E5		PUSH HL
E27E:C5		PUSH BC
E27F:CC47E2	CALL Z, E247
E282:C1		POP BC
E283:E1		POP HL
E284:28F0	JR Z, E276
E286:0600	LD B, 00
E288:70		LD (HL), B
E289:2A45D4	LD HL, (D445)
E28C:4C		LD C, H
E28D:26D1	LD H, D1
E28F:1131E3	LD DE, E331
E292:D5		PUSH DE
		IF (true)
E293:FE77	CP 77
E295:C8		RET Z
E296:04		INC B
E297:FE73	CP 73
E299:C8		RET Z
E29A:04		INC B
E29B:FE61	CP 61
E29D:C8		RET Z
E29E:04		INC B
E29F:FE64	CP 64
E2A1:C8		RET Z
		ELSE (false)
- .warning 'Delsi kod o 4 bajty protoze stisknuto_dopredu..stisknuto_vpravo != 0..3'
-     cp      KEY_DOPREDU             ;  7:2, "w" = dopredu
-     ret     z
-     ld      b,stisknuto_dozadu      ;  7:2, offset radku tabulky VEKTORY_POHYBU
-     cp      KEY_DOZADU              ;  7:2, "s" = dozadu
-     ret     z
-     ld      b,stisknuto_vlevo       ;  7:2, offset radku tabulky VEKTORY_POHYBU
-     cp      KEY_VLEVO               ;  7:2, "a" = vlevo
-     ret     z
-     ld      b,stisknuto_vpravo      ;  7:2, offset radku tabulky VEKTORY_POHYBU
-     cp      KEY_VPRAVO              ;  7:2, "d" = vpravo
-     ret     z
		ENDIF
E2A2:D1		POP DE
E2A3:06FF	LD B, FF
E2A5:FE71	CP 71
E2A7:284F	JR Z, E2F8
E2A9:0601	LD B, 01
E2AB:FE65	CP 65
E2AD:2849	JR Z, E2F8
E2AF:FE20	CP 20
E2B1:CA8CEA	JP Z, EA8C
E2B4:FE69	CP 69
E2B6:CAB9E7	JP Z, E7B9
E2B9:FE66	CP 66
E2BB:CA76D2	JP Z, D276
E2BE:11C7E7	LD DE, E7C7
E2C1:D5		PUSH DE
E2C2:FE6B	CP 6B
E2C4:CA62D2	JP Z, D262
E2C7:FE6A	CP 6A
E2C9:CA6CD2	JP Z, D26C
E2CC:FE37	CP 37
E2CE:300F	JR NC, E2DF
E2D0:FE31	CP 31
E2D2:380B	JR C, E2DF
E2D4:D631	SUB 31
E2D6:2173D4	LD HL, D473
E2D9:BE		CP (HL)
E2DA:3003	JR NC, E2DF
E2DC:2B		DEC HL
E2DD:77		LD (HL), A
E2DE:C9		RET
E2DF:		label K_BAD_NUMBER
E2DF:D1		POP DE
E2E0:FE2A	CP 2A
E2E2:CAEFE2	JP Z, E2EF
E2E5:FE60	CP 60
E2E7:C21BEB	JP NZ, EB1B
E2EA:E1		POP HL
E2EB:CD67EA	CALL EA67
E2EE:C9		RET
E2EF:		label SET_BORDER
E2EF:3A74D4	LD A, (D474)
E2F2:EE07	XOR 07
E2F4:3274D4	LD (D474), A
E2F7:C9		RET
		End of INCLUDE
		INCLUDE move.asm
E2F8:		label OTOC_SE
E2F8:3E12	LD A, 12
E2FA:80		ADD A, B
E2FB:80		ADD A, B
E2FC:CD48EB	CALL EB48
E2FF:79		LD A, C
E300:80		ADD A, B
E301:E603	AND 03
E303:2146D4	LD HL, D446
E306:77		LD (HL), A
E307:CD1FE3	CALL E31F
E30A:C9		RET
E30B:		label HL_NOVA_POZICE
E30B:16D2	LD D, D2
E30D:81		ADD A, C
E30E:5F		LD E, A
E30F:1A		LD A, (DE)
E310:85		ADD A, L
E311:6F		LD L, A
E312:C9		RET
E313:		label HL_VEPREDU
E313:2A45D4	LD HL, (D445)
E316:E5		PUSH HL
E317:7D		LD A, L
E318:6C		LD L, H
E319:26D2	LD H, D2
E31B:86		ADD A, (HL)
E31C:E1		POP HL
E31D:6F		LD L, A
E31E:C9		RET
E31F:		label INC_POCITADLO_POHYBU_A_ZVUK
E31F:2147D4	LD HL, D447
E322:34		INC (HL)
E323:21E803	LD HL, 03E8
E326:		label IPPAZ_LOOP
E326:7E		LD A, (HL)
E327:E6F8	AND F8
E329:D3FE	OUT (FE), A
E32B:2B		DEC HL
E32C:7C		LD A, H
E32D:B5		OR L
E32E:20F6	JR NZ, E326
E330:C9		RET
E331:		label POSUN
E331:78		LD A, B
E332:87		ADD A, A
E333:87		ADD A, A
E334:CD48EB	CALL EB48
E337:CDA0E7	CALL E7A0
E33A:CA64E3	JP Z, E364
E33D:48		LD C, B
E33E:05		DEC B
E33F:2812	JR Z, E353
E341:48		LD C, B
E342:FA53E3	JP M, E353
		IF (false)
-     .error      'Seznam POSUN_VLEVO_INVENTAREM prekracuje 256 bajtovy segment!'
		ENDIF
E345:2147D4	LD HL, D447
E348:05		DEC B
E349:2802	JR Z, E34D
E34B:2E5D	LD L, 5D
E34D:		label POSUN_LOOP
E34D:2C		INC L
E34E:BE		CP (HL)
E34F:2C		INC L
E350:30FB	JR NC, E34D
E352:4E		LD C, (HL)
E353:		label POSUN_PRICTI
E353:81		ADD A, C
E354:061F	LD B, 1F
E356:F25AE3	JP P, E35A
E359:80		ADD A, B
E35A:		label POSUN_NEZAPORNY
E35A:B8		CP B
E35B:3801	JR C, E35E
E35D:90		SUB B
E35E:		label POSUN_V_MEZICH
E35E:3215D7	LD (D715), A
E361:C362E8	JP E862
E364:		label POSUN_NEJSEM_V_INVENTARI
E364:78		LD A, B
E365:87		ADD A, A
E366:87		ADD A, A
E367:F5		PUSH AF
E368:CD48EB	CALL EB48
E36B:F1		POP AF
E36C:CD0BE3	CALL E30B
E36F:CB46	BIT 0, (HL)
E371:200E	JR NZ, E381
E373:CDFDE4	CALL E4FD
E376:3809	JR C, E381
E378:7D		LD A, L
E379:3245D4	LD (D445), A
E37C:CD1FE3	CALL E31F
E37F:1807	JR E388
E381:		label POSUN_ZABLOKOVAN
E381:DD21D8DB	LD IX, DBD8
E385:CDFCE3	CALL E3FC
E388:		label EXIT_POSUN
E388:C9		RET
		End of INCLUDE
		INCLUDE strings.asm
E389:		label PRINT_STRING
E389:3E07	LD A, 07
E38B:		label PRINT_STRING_COLOR
E38B:5D		LD E, L
E38C:6F		LD L, A
E38D:E5		PUSH HL
E38E:CDB4EB	CALL EBB4
E391:54		LD D, H
E392:0E40	LD C, 40
E394:		label PS_NEXT_CHAR
E394:E1		POP HL
E395:		label PRINT_STRING_CONTINUE
E395:7D		LD A, L
E396:6B		LD L, E
E397:77		LD (HL), A
E398:6F		LD L, A
E399:DD7E00	LD A, (IX+00)
E39C:DD23	INC IX
E39E:D620	SUB 20
E3A0:D8		RET C
E3A1:E5		PUSH HL
E3A2:67		LD H, A
E3A3:87		ADD A, A
E3A4:6F		LD L, A
E3A5:84		ADD A, H
E3A6:85		ADD A, L
E3A7:6F		LD L, A
E3A8:CED3	ADC A, D3
E3AA:95		SUB L
E3AB:67		LD H, A
E3AC:0605	LD B, 05
E3AE:		label PS_RIGHT_LOOP
E3AE:7E		LD A, (HL)
E3AF:B7		OR A
E3B0:2813	JR Z, E3C5
E3B2:E5		PUSH HL
E3B3:6F		LD L, A
E3B4:62		LD H, D
E3B5:C5		PUSH BC
E3B6:0608	LD B, 08
E3B8:		label PS_LOOP_PX_DOWN
E3B8:CB15	RL L
E3BA:3003	JR NC, E3BF
E3BC:1A		LD A, (DE)
E3BD:A9		XOR C
E3BE:12		LD (DE), A
E3BF:		label PS_NEXT_PX_DOWN
E3BF:14		INC D
E3C0:10F6	DJNZ E3B8
E3C2:C1		POP BC
E3C3:54		LD D, H
E3C4:E1		POP HL
E3C5:		label PS_PX_RIGHT
E3C5:23		INC HL
E3C6:AF		XOR A
E3C7:CB09	RRC C
E3C9:8B		ADC A, E
E3CA:5F		LD E, A
E3CB:10E1	DJNZ E3AE
E3CD:18C5	JR E394
E3CF:		label PRINT_STRING_OBAL
E3CF:E5		PUSH HL
E3D0:D5		PUSH DE
E3D1:C5		PUSH BC
E3D2:CD8BE3	CALL E38B
E3D5:C1		POP BC
E3D6:D1		POP DE
E3D7:E1		POP HL
E3D8:C9		RET
		IF (false)
- PRINT2BUFFER:
-     ld	a,Adr_Buffer / 256
-     ld	(PS_ADRESA_SEGMENTU+1),a
-     ret
- PRINT2SCREEN:
-     ld	a,$40
-     ld	(PS_ADRESA_SEGMENTU+1),a
-     ret
		ENDIF
E3D9:		label SCROLL
E3D9:2650	LD H, 50
E3DB:		label SCROLL_LOOP
E3DB:54		LD D, H
E3DC:1E80	LD E, 80
E3DE:2EA0	LD L, A0
E3E0:016000	LD BC, 0060
E3E3:EDB0	LDIR
E3E5:CB5C	BIT 3, H
E3E7:28F2	JR Z, E3DB
E3E9:CB44	BIT 0, H
E3EB:265A	LD H, 5A
E3ED:28EC	JR Z, E3DB
E3EF:		label SCROLL_LAST_LINE
E3EF:0608	LD B, 08
E3F1:2650	LD H, 50
E3F3:		label SCROLL_NEXT_MICROLINE
E3F3:6B		LD L, E
E3F4:		label SCROLL_CLEAR_MICROLINE
E3F4:71		LD (HL), C
E3F5:2C		INC L
E3F6:20FC	JR NZ, E3F4
E3F8:24		INC H
E3F9:10F8	DJNZ E3F3
E3FB:C9		RET
E3FC:		label PRINT_MESSAGE
E3FC:3E07	LD A, 07
E3FE:		label PRINT_MESSAGE_COLOR
E3FE:CDD9E3	CALL E3D9
E401:21E05A	LD HL, 5AE0
E404:CD8BE3	CALL E38B
E407:C9		RET
E408:		label PRINT_MESSAGE_ARRAY
E408:CD3AE4	CALL E43A
E40B:3E05	LD A, 05
E40D:CDFEE3	CALL E3FE
E410:C9		RET
E411:		label PRINT_DEKORACE
E411:CD4DEA	CALL EA4D
E414:13		INC DE
E415:1A		LD A, (DE)
E416:E61F	AND 1F
E418:47		LD B, A
E419:218EDC	LD HL, DC8E
E41C:CD08E4	CALL E408
E41F:CD67EA	CALL EA67
E422:C9		RET
E423:		label PRINT_PREPINAC
E423:CD4DEA	CALL EA4D
E426:1A		LD A, (DE)
E427:E61F	AND 1F
E429:CB3F	SRL A
E42B:CB3F	SRL A
E42D:47		LD B, A
E42E:21D9DC	LD HL, DCD9
E431:CD08E4	CALL E408
E434:CD67EA	CALL EA67
E437:C9		RET
E438:		label AXS_NEXT_STRING
E438:EDB1	CPIR
E43A:		label ADR_X_STRING
E43A:AF		XOR A
E43B:4F		LD C, A
E43C:B8		CP B
E43D:20F9	JR NZ, E438
E43F:E5		PUSH HL
E440:DDE1	POP IX
E442:C9		RET
		IF (false)
- STRING_COPY:
- 	ld	a,(hl)
- 	inc	hl
- 	ld	(de),a
- 	inc	de
- 	or	a
- 	jr	nz,STRING_COPY
- 	ret
		ENDIF
E443:		label ITEM_MAKE_A
E443:B7		OR A
E444:C8		RET Z
E445:E5		PUSH HL
E446:47		LD B, A
E447:2156DF	LD HL, DF56
E44A:CD3AE4	CALL E43A
E44D:CDD9E3	CALL E3D9
E450:21E05A	LD HL, 5AE0
E453:CD89E3	CALL E389
E456:DDE1	POP IX
E458:CD95E3	CALL E395
E45B:C9		RET
E45C:		label ITEM_TAKEN_A
E45C:215FDC	LD HL, DC5F
E45F:18E2	JR E443
E461:		label ITEM_PUT_A
E461:2167DC	LD HL, DC67
E464:18DD	JR E443
		End of INCLUDE
		INCLUDE objects.asm
E466:		label FIND_FIRST_OBJECT
E466:1186ED	LD DE, ED86
E469:		label FFO_NEXT
E469:13		INC DE
E46A:		label FIND_NEXT_OBJECT
E46A:13		INC DE
E46B:1A		LD A, (DE)
E46C:13		INC DE
E46D:BD		CP L
E46E:DA69E4	JP C, E469
E471:C9		RET
E472:		label FIND_LAST_ITEM
E472:1186ED	LD DE, ED86
E475:7C		LD A, H
E476:E603	AND 03
E478:3C		INC A
E479:67		LD H, A
E47A:		label FLI_LOOP
E47A:13		INC DE
E47B:13		INC DE
E47C:1A		LD A, (DE)
E47D:13		INC DE
E47E:BD		CP L
E47F:38F9	JR C, E47A
E481:2006	JR NZ, E489
E483:1A		LD A, (DE)
E484:E603	AND 03
E486:BC		CP H
E487:38F1	JR C, E47A
E489:		label FLI_EXIT
E489:1B		DEC DE
E48A:3E0F	LD A, 0F
E48C:84		ADD A, H
E48D:67		LD H, A
E48E:C9		RET
E48F:		label VLOZ_ITEM_NA_POZICI
E48F:F5		PUSH AF
E490:CD72E4	CALL E472
E493:E5		PUSH HL
E494:2A86ED	LD HL, (ED86)
E497:E5		PUSH HL
E498:ED52	SBC HL, DE
E49A:44		LD B, H
E49B:4D		LD C, L
E49C:03		INC BC
E49D:E1		POP HL
E49E:54		LD D, H
E49F:5D		LD E, L
E4A0:23		INC HL
E4A1:23		INC HL
E4A2:23		INC HL
E4A3:2286ED	LD (ED86), HL
E4A6:EB		EX DE, HL
E4A7:EDB8	LDDR
E4A9:C1		POP BC
E4AA:F1		POP AF
E4AB:EB		EX DE, HL
E4AC:77		LD (HL), A
E4AD:2B		DEC HL
E4AE:70		LD (HL), B
E4AF:2B		DEC HL
E4B0:71		LD (HL), C
E4B1:CD61E4	CALL E461
E4B4:AF		XOR A
E4B5:3214D7	LD (D714), A
E4B8:C362E8	JP E862
E4BB:		label VEZMI_ITEM_Z_POZICE
E4BB:CD72E4	CALL E472
E4BE:EB		EX DE, HL
E4BF:2B		DEC HL
E4C0:7E		LD A, (HL)
E4C1:2B		DEC HL
E4C2:46		LD B, (HL)
E4C3:2B		DEC HL
E4C4:4E		LD C, (HL)
E4C5:EB		EX DE, HL
E4C6:ED42	SBC HL, BC
E4C8:C0		RET NZ
E4C9:3214D7	LD (D714), A
E4CC:2A86ED	LD HL, (ED86)
E4CF:ED52	SBC HL, DE
E4D1:23		INC HL
E4D2:44		LD B, H
E4D3:4D		LD C, L
E4D4:62		LD H, D
E4D5:6B		LD L, E
E4D6:23		INC HL
E4D7:23		INC HL
E4D8:23		INC HL
E4D9:EDB0	LDIR
E4DB:1B		DEC DE
E4DC:ED5386ED	LD (ED86), DE
E4E0:C362E8	JP E862
E4E3:		label PREPNI_OBJECT
E4E3:D5		PUSH DE
E4E4:CD66E4	CALL E466
E4E7:2012	JR NZ, E4FB
E4E9:		label PO_NALEZEN_OBJECT
E4E9:1A		LD A, (DE)
E4EA:AC		XOR H
E4EB:E61C	AND 1C
E4ED:2007	JR NZ, E4F6
		IF (false)
-     ld      A, H
-     and     MASKA_TYP
-     cp      TYP_DVERE
-     jr      z, PO_FOUND
-     ld      a,(de)                      ;  7:1 typ
-     sub     h
-     and     MASKA_NATOCENI
-     jr      nz,PO_NEXT_OBJECT           ;12/7:2       ??? pokud je horni bit nastaven tak to bude blbnout?
- PO_FOUND:
		ENDIF
E4EF:7C		LD A, H
E4F0:E6E0	AND E0
E4F2:EB		EX DE, HL
E4F3:AE		XOR (HL)
E4F4:77		LD (HL), A
E4F5:EB		EX DE, HL
E4F6:		label PO_NEXT_OBJECT
E4F6:CD69E4	CALL E469
E4F9:28EE	JR Z, E4E9
E4FB:		label PO_EXIT
E4FB:D1		POP DE
E4FC:C9		RET
E4FD:		label JE_POZICE_BLOKOVANA
E4FD:CD66E4	CALL E466
E500:C0		RET NZ
E501:		label JPB_NALEZEN_OBJECT
E501:1A		LD A, (DE)
E502:C6E0	ADD A, E0
E504:D8		RET C
E505:CD69E4	CALL E469
E508:28F7	JR Z, E501
E50A:C9		RET
E50B:		label FIND_OBJECT
E50B:DD2C	INC IXL
E50D:C8		RET Z
E50E:DD2D	DEC IXL
E510:1186ED	LD DE, ED86
E513:		label FO_LOOP
E513:13		INC DE
E514:		label FO_LOOP_DODATECNY
E514:13		INC DE
E515:1A		LD A, (DE)
E516:13		INC DE
E517:DD95	SUB IXL
E519:38F8	JR C, E513
E51B:C0		RET NZ
E51C:1A		LD A, (DE)
E51D:E61C	AND 1C
		IF (false)
-     cp      TYP_PREPINAC            ;  7:2 
-     .warning 'Delsi kod, protoze TYP_PREPINAC != 0'
		ELSE (true)
E51F:B7		OR A
		ENDIF
E520:2826	JR Z, E548
E522:FE08	CP 08
E524:284F	JR Z, E575
E526:FE04	CP 04
E528:CA0DE6	JP Z, E60D
E52B:FE10	CP 10
E52D:CA22E6	JP Z, E622
E530:FE0C	CP 0C
E532:20DF	JR NZ, E513
E534:13		INC DE
E535:1A		LD A, (DE)
E536:E61F	AND 1F
E538:219CDB	LD HL, DB9C
E53B:FE01	CP 01
E53D:2803	JR Z, E542
E53F:2160DB	LD HL, DB60
E542:		label FOUND_DEKORACE
E542:CD70E7	CALL E770
E545:18CD	JR E514
E547:		label FO_EXIT
E547:C9		RET
E548:		label FOUND_PREPINAC
E548:C5		PUSH BC
E549:1A		LD A, (DE)
E54A:E603	AND 03
E54C:2146D4	LD HL, D446
E54F:6E		LD L, (HL)
E550:95		SUB L
E551:2174D8	LD HL, D874
E554:09		ADD HL, BC
E555:E603	AND 03
E557:280D	JR Z, E566
E559:017800	LD BC, 0078
E55C:09		ADD HL, BC
E55D:FE03	CP 03
E55F:2805	JR Z, E566
E561:09		ADD HL, BC
E562:FE01	CP 01
E564:200C	JR NZ, E572
E566:		label FD_PREPINAC_INIT
E566:1A		LD A, (DE)
E567:B7		OR A
E568:F26FE5	JP P, E56F
E56B:013C00	LD BC, 003C
E56E:09		ADD HL, BC
E56F:		label FD_PREPINAC_VIEW
E56F:CD71E7	CALL E771
E572:		label FD_PREPINAC_EXIT
E572:C1		POP BC
E573:189E	JR E513
E575:		label FOUND_ENEMY
E575:D5		PUSH DE
E576:DDE5	PUSH IX
E578:C5		PUSH BC
E579:3E0C	LD A, 0C
E57B:B9		CP C
E57C:200C	JR NZ, E58A
E57E:3A785C	LD A, (5C78)
E581:E640	AND 40
E583:3E02	LD A, 02
E585:CA8AE5	JP Z, E58A
E588:3E01	LD A, 01
E58A:		label FE_FAR
E58A:32CFE5	LD (E5CF), A
E58D:1A		LD A, (DE)
E58E:E6E0	AND E0
E590:07		RLCA
E591:07		RLCA
E592:07		RLCA
E593:DD6F	LD IXL, A
E595:07		RLCA
E596:81		ADD A, C
E597:81		ADD A, C
E598:C6D9	ADD A, D9
E59A:6F		LD L, A
E59B:CED4	ADC A, D4
E59D:95		SUB L
E59E:67		LD H, A
E59F:13		INC DE
E5A0:1A		LD A, (DE)
E5A1:EB		EX DE, HL
E5A2:2151D5	LD HL, D551
E5A5:09		ADD HL, BC
E5A6:4E		LD C, (HL)
E5A7:2155DA	LD HL, DA55
E5AA:09		ADD HL, BC
E5AB:E61F	AND 1F
E5AD:2807	JR Z, E5B6
E5AF:010A00	LD BC, 000A
E5B2:		label FE_NEXT
E5B2:09		ADD HL, BC
E5B3:3D		DEC A
E5B4:20FC	JR NZ, E5B2
E5B6:		label FE_VIEW
E5B6:7E		LD A, (HL)
E5B7:B7		OR A
E5B8:CAEBE5	JP Z, E5EB
E5BB:2B		DEC HL
E5BC:6E		LD L, (HL)
E5BD:67		LD H, A
E5BE:22CCE5	LD (E5CC), HL
E5C1:EB		EX DE, HL
E5C2:		label FE_LOOP
E5C2:2B		DEC HL
E5C3:46		LD B, (HL)
E5C4:2B		DEC HL
E5C5:4E		LD C, (HL)
E5C6:0C		INC C
E5C7:0D		DEC C
E5C8:CAE7E5	JP Z, E5E7
E5CB:		label FE_SELFMODIFIYNG
E5CB:110000	LD DE, 0000
E5CE:		label FE_SELFMODIFIYNG2
E5CE:3E00	LD A, 00
E5D0:DDBD	CP IXL
E5D2:C2DEE5	JP NZ, E5DE
E5D5:11A568	LD DE, 68A5
E5D8:78		LD A, B
E5D9:C6FF	ADD A, FF
E5DB:47		LD B, A
E5DC:0E03	LD C, 03
E5DE:		label FE_CALL
E5DE:E5		PUSH HL
E5DF:DDE5	PUSH IX
E5E1:CD8DE0	CALL E08D
E5E4:DDE1	POP IX
E5E6:E1		POP HL
E5E7:		label FE_TEST_LOOP
E5E7:DD2D	DEC IXL
E5E9:20D7	JR NZ, E5C2
E5EB:		label FE_EXIT
E5EB:C1		POP BC
E5EC:DDE1	POP IX
E5EE:D1		POP DE
E5EF:C313E5	JP E513
E5F2:		label FOUND_DOOR
E5F2:0C		INC C
E5F3:0D		DEC C
E5F4:C8		RET Z
E5F5:1A		LD A, (DE)
E5F6:3C		INC A
E5F7:3C		INC A
E5F8:AC		XOR H
E5F9:E603	AND 03
E5FB:C0		RET NZ
E5FC:2118DA	LD HL, DA18
E5FF:CD70E7	CALL E770
E602:1A		LD A, (DE)
E603:C6E0	ADD A, E0
E605:D0		RET NC
E606:21DCD9	LD HL, D9DC
E609:CD70E7	CALL E770
E60C:C9		RET
E60D:		label FOUND_RAM
E60D:13		INC DE
E60E:1A		LD A, (DE)
E60F:13		INC DE
E610:13		INC DE
E611:0C		INC C
E612:0D		DEC C
E613:200D	JR NZ, E622
E615:67		LD H, A
E616:3A46D4	LD A, (D446)
E619:AC		XOR H
E61A:E601	AND 01
E61C:2118DA	LD HL, DA18
E61F:CD73E7	CALL E773
E622:		label FOUND_ITEM
		IF (false)
-     ld      a,c
-     cp      MAX_VIDITELNOST_PREDMETU_PLUS_1
-     jp      nc, FO_LOOP                     ; return ( bohuzel tolikrat, kolikrat je predmetu na policku )
		ENDIF
E622:DDCB004E	BIT 1, (IX+00)
E626:C0		RET NZ
E627:D5		PUSH DE
E628:3A46D4	LD A, (D446)
E62B:67		LD H, A
E62C:		label FI_HLEDANI_NEJVZDALENEJSIHO
E62C:1A		LD A, (DE)
E62D:E603	AND 03
E62F:BC		CP H
E630:300D	JR NC, E63F
E632:		label FI_DALSI_RADEK
E632:13		INC DE
E633:13		INC DE
E634:1A		LD A, (DE)
E635:13		INC DE
E636:B7		OR A
E637:28F9	JR Z, E632
E639:DDBD	CP IXL
E63B:28EF	JR Z, E62C
E63D:D1		POP DE
E63E:D5		PUSH DE
E63F:		label FI_NEJVZDALENEJSI
E63F:6B		LD L, E
E640:		label FI_VYKRESLI_ITEM_LOOP
E640:E5		PUSH HL
E641:D5		PUSH DE
E642:DDE5	PUSH IX
E644:C5		PUSH BC
E645:1A		LD A, (DE)
E646:E61C	AND 1C
E648:FE10	CP 10
E64A:2807	JR Z, E653
E64C:FE04	CP 04
E64E:CCF2E5	CALL Z, E5F2
E651:1837	JR E68A
E653:		label FI_ITEM
E653:1A		LD A, (DE)
E654:94		SUB H
E655:E603	AND 03
E657:87		ADD A, A
E658:2151D5	LD HL, D551
E65B:09		ADD HL, BC
E65C:47		LD B, A
E65D:7E		LD A, (HL)
E65E:FE06	CP 06
E660:3028	JR NC, E68A
E662:13		INC DE
E663:1A		LD A, (DE)
E664:87		ADD A, A
E665:87		ADD A, A
E666:87		ADD A, A
E667:86		ADD A, (HL)
E668:C668	ADD A, 68
E66A:6F		LD L, A
E66B:CEDA	ADC A, DA
E66D:95		SUB L
E66E:67		LD H, A
E66F:5E		LD E, (HL)
E670:23		INC HL
E671:56		LD D, (HL)
E672:14		INC D
E673:15		DEC D
E674:2814	JR Z, E68A
E676:79		LD A, C
E677:87		ADD A, A
E678:80		ADD A, B
E679:C68D	ADD A, 8D
E67B:6F		LD L, A
E67C:CED5	ADC A, D5
E67E:95		SUB L
E67F:67		LD H, A
E680:4E		LD C, (HL)
E681:0C		INC C
E682:0D		DEC C
E683:2805	JR Z, E68A
E685:23		INC HL
E686:46		LD B, (HL)
E687:CD8DE0	CALL E08D
E68A:		label FI_NEKRESLI
E68A:C1		POP BC
E68B:DDE1	POP IX
E68D:D1		POP DE
E68E:E1		POP HL
E68F:13		INC DE
E690:13		INC DE
E691:1A		LD A, (DE)
E692:13		INC DE
E693:DDBD	CP IXL
E695:2802	JR Z, E699
E697:D1		POP DE
E698:D5		PUSH DE
E699:		label FI_TEST_ZACATKU_SELF
E699:7D		LD A, L
E69A:BB		CP E
E69B:20A3	JR NZ, E640
E69D:D1		POP DE
E69E:C9		RET
		End of INCLUDE
		INCLUDE draw3D.asm
E69F:		label VIEW
E69F:010011	LD BC, 1100
E6A2:		label POZADI
E6A2:11B77F	LD DE, 7FB7
E6A5:3A47D4	LD A, (D447)
E6A8:E601	AND 01
E6AA:2802	JR Z, E6AE
E6AC:0EFF	LD C, FF
E6AE:		label V_H5
E6AE:C5		PUSH BC
E6AF:D5		PUSH DE
E6B0:CD8DE0	CALL E08D
E6B3:D1		POP DE
E6B4:C1		POP BC
E6B5:10EB	DJNZ E6A2
E6B7:CD8DE0	CALL E08D
E6BA:11EA5F	LD DE, 5FEA
E6BD:010E00	LD BC, 000E
E6C0:CD8DE0	CALL E08D
E6C3:26D2	LD H, D2
E6C5:3A46D4	LD A, (D446)
E6C8:6F		LD L, A
E6C9:4E		LD C, (HL)
E6CA:C60C	ADD A, 0C
E6CC:6F		LD L, A
E6CD:7E		LD A, (HL)
E6CE:5F		LD E, A
E6CF:87		ADD A, A
E6D0:87		ADD A, A
E6D1:57		LD D, A
E6D2:26D1	LD H, D1
E6D4:3A45D4	LD A, (D445)
E6D7:0606	LD B, 06
E6D9:		label NULA
E6D9:6F		LD L, A
E6DA:E5		PUSH HL
E6DB:81		ADD A, C
E6DC:10FB	DJNZ E6D9
E6DE:DDE1	POP IX
E6E0:D5		PUSH DE
E6E1:219CD7	LD HL, D79C
E6E4:06FF	LD B, FF
E6E6:CD31E7	CALL E731
E6E9:D1		POP DE
E6EA:7A		LD A, D
E6EB:93		SUB E
E6EC:57		LD D, A
E6ED:DDE1	POP IX
E6EF:D5		PUSH DE
E6F0:21E0D7	LD HL, D7E0
E6F3:0630	LD B, 30
E6F5:CD31E7	CALL E731
E6F8:D1		POP DE
E6F9:7A		LD A, D
E6FA:93		SUB E
E6FB:57		LD D, A
E6FC:DDE1	POP IX
E6FE:D5		PUSH DE
E6FF:2114D8	LD HL, D814
E702:0624	LD B, 24
E704:CD31E7	CALL E731
E707:D1		POP DE
E708:7A		LD A, D
E709:93		SUB E
E70A:57		LD D, A
E70B:DDE1	POP IX
E70D:D5		PUSH DE
E70E:2138D8	LD HL, D838
E711:0618	LD B, 18
E713:CD31E7	CALL E731
E716:D1		POP DE
E717:DDE1	POP IX
E719:D5		PUSH DE
E71A:214CD8	LD HL, D84C
E71D:060C	LD B, 0C
E71F:CD31E7	CALL E731
E722:D1		POP DE
E723:DDE1	POP IX
E725:2160D8	LD HL, D860
E728:0600	LD B, 00
E72A:CD31E7	CALL E731
E72D:CD7CE9	CALL E97C
E730:C9		RET
E731:		label PROHLEDEJ_PROSTOR_VPREDU
E731:DD4D	LD C, IXL
E733:7A		LD A, D
E734:		label PPV_LOOP
E734:81		ADD A, C
E735:DD6F	LD IXL, A
E737:DDCB004E	BIT 1, (IX+00)
E73B:CD73E7	CALL E773
E73E:CD73E7	CALL E773
E741:7A		LD A, D
E742:BB		CP E
E743:3E04	LD A, 04
E745:CC8FE7	CALL Z, E78F
E748:79		LD A, C
E749:92		SUB D
E74A:DD6F	LD IXL, A
E74C:DDCB004E	BIT 1, (IX+00)
E750:CD73E7	CALL E773
E753:CD73E7	CALL E773
E756:7A		LD A, D
E757:BB		CP E
E758:3E08	LD A, 08
E75A:CC8FE7	CALL Z, E78F
E75D:7A		LD A, D
E75E:93		SUB E
E75F:57		LD D, A
E760:20D2	JR NZ, E734
E762:DD69	LD IXL, C
E764:DDCB004E	BIT 1, (IX+00)
E768:CD73E7	CALL E773
E76B:AF		XOR A
E76C:CD8FE7	CALL E78F
E76F:C9		RET
E770:		label ADD_BC_INIT_COPY_PATTERN2BUFFER_NOZEROFLAG
E770:09		ADD HL, BC
E771:		label INIT_COPY_PATTERN2BUFFER_NOZEROFLAG
E771:F601	OR 01
E773:		label INIT_COPY_PATTERN2BUFFER
E773:D5		PUSH DE
E774:C5		PUSH BC
E775:5E		LD E, (HL)
E776:23		INC HL
E777:56		LD D, (HL)
E778:23		INC HL
E779:4E		LD C, (HL)
E77A:23		INC HL
E77B:46		LD B, (HL)
E77C:23		INC HL
E77D:280D	JR Z, E78C
E77F:14		INC D
E780:15		DEC D
E781:F5		PUSH AF
E782:E5		PUSH HL
E783:DDE5	PUSH IX
E785:C48DE0	CALL NZ, E08D
E788:DDE1	POP IX
E78A:E1		POP HL
E78B:F1		POP AF
E78C:		label ICP_EXIT
E78C:C1		POP BC
E78D:D1		POP DE
E78E:C9		RET
E78F:		label INIT_FIND_OBJECT
E78F:CB78	BIT 7, B
E791:C0		RET NZ
E792:E5		PUSH HL
E793:D5		PUSH DE
E794:C5		PUSH BC
E795:80		ADD A, B
E796:4F		LD C, A
E797:0600	LD B, 00
E799:CD0BE5	CALL E50B
E79C:C1		POP BC
E79D:D1		POP DE
E79E:E1		POP HL
E79F:C9		RET
		End of INCLUDE
		INCLUDE inventory.asm
E7A0:		label TEST_OTEVRENY_INVENTAR
E7A0:3A10D2	LD A, (D210)
E7A3:E601	AND 01
E7A5:3A15D7	LD A, (D715)
E7A8:C9		RET
E7A9:		label DE_INVENTORY_ITEMS_AKTIVNI
E7A9:3A72D4	LD A, (D472)
E7AC:5F		LD E, A
E7AD:		label DE_INVENTORY_ITEMS_A
		IF (false)
-     .error 'Zmenit kod pro nasobeni 27x'
		ENDIF
E7AD:87		ADD A, A
E7AE:87		ADD A, A
E7AF:87		ADD A, A
E7B0:87		ADD A, A
E7B1:87		ADD A, A
E7B2:93		SUB E
E7B3:C61C	ADD A, 1C
E7B5:5F		LD E, A
		IF (false)
-      .warning 'Delsi kod o 2 bajty! Pole INVENTORY_ITEMS = preleza segment!'
-     adc     A, INVENTORY_ITEMS / 256;  7:2
-     sub     E                       ;  4:1
-     ld      D, A                    ;  4:1
		ELSE (true)
E7B6:16D6	LD D, D6
		ENDIF
E7B8:C9		RET
E7B9:		label SET_RIGHT_PANEL
E7B9:2110D2	LD HL, D210
E7BC:7E		LD A, (HL)
E7BD:EE01	XOR 01
E7BF:77		LD (HL), A
E7C0:E601	AND 01
E7C2:C262E8	JP NZ, E862
E7C5:1806	JR E7CD
E7C7:		label NEW_PLAYER_ACTIVE
E7C7:CDA0E7	CALL E7A0
E7CA:C262E8	JP NZ, E862
E7CD:		label PLAYERS_WINDOW
E7CD:01010E	LD BC, 0E01
E7D0:2112C8	LD HL, C812
E7D3:CDA0EB	CALL EBA0
E7D6:01030E	LD BC, 0E03
E7D9:21B2C8	LD HL, C8B2
E7DC:CDA0EB	CALL EBA0
E7DF:01030E	LD BC, 0E03
E7E2:2192C9	LD HL, C992
E7E5:CDA0EB	CALL EBA0
E7E8:01010E	LD BC, 0E01
E7EB:2172CA	LD HL, CA72
E7EE:CDA0EB	CALL EBA0
E7F1:DD2114DF	LD IX, DF14
E7F5:ED4B72D4	LD BC, (D472)
E7F9:0C		INC C
E7FA:2112C8	LD HL, C812
E7FD:1119C8	LD DE, C819
E800:		label PW_JMENA_LOOP
E800:3E03	LD A, 03
E802:0D		DEC C
E803:2802	JR Z, E807
E805:3E07	LD A, 07
E807:		label PW_AKTIVNI
E807:F5		PUSH AF
E808:CDCFE3	CALL E3CF
E80B:7D		LD A, L
E80C:C6A0	ADD A, A0
E80E:6F		LD L, A
E80F:8C		ADC A, H
E810:95		SUB L
E811:67		LD H, A
E812:F1		POP AF
E813:DDE5	PUSH IX
E815:DD2111DF	LD IX, DF11
E819:CDCFE3	CALL E3CF
E81C:DDE1	POP IX
E81E:7D		LD A, L
E81F:C640	ADD A, 40
E821:6F		LD L, A
E822:8C		ADC A, H
E823:95		SUB L
E824:67		LD H, A
E825:EB		EX DE, HL
E826:10D8	DJNZ E800
E828:DD211CD6	LD IX, D61C
E82C:AF		XOR A
E82D:F5		PUSH AF
E82E:0E1F	LD C, 1F
E830:		label PW_HANDS_LOOP
E830:47		LD B, A
E831:DD7E14	LD A, (IX+14)
E834:CD2BEA	CALL EA2B
E837:04		INC B
E838:DD7E19	LD A, (IX+19)
E83B:CD2BEA	CALL EA2B
E83E:04		INC B
E83F:78		LD A, B
E840:0600	LD B, 00
E842:DD09	ADD IX, BC
E844:FE0C	CP 0C
E846:C230E8	JP NZ, E830
E849:CD7BE0	CALL E07B
E84C:F3		DI
E84D:CD4BE9	CALL E94B
E850:218DD4	LD HL, D48D
E853:0606	LD B, 06
E855:		label PW_AVATARS
E855:CD71E7	CALL E771
E858:10FB	DJNZ E855
E85A:CDC5EB	CALL EBC5
E85D:FB		EI
E85E:CD84E0	CALL E084
E861:C9		RET
E862:		label INVENTORY_WINDOW_OPEN
E862:		label INVENTORY_WINDOW_KURZOR
E862:		label INVENTORY_WINDOW_REFRESH
E862:010408	LD BC, 0804
E865:2198C8	LD HL, C898
E868:CDA0EB	CALL EBA0
E86B:010808	LD BC, 0808
E86E:2118C9	LD HL, C918
E871:CDA0EB	CALL EBA0
E874:010408	LD BC, 0804
E877:2118CA	LD HL, CA18
E87A:CDA0EB	CALL EBA0
E87D:01040A	LD BC, 0A04
E880:2116C8	LD HL, C816
E883:CDA0EB	CALL EBA0
E886:3A72D4	LD A, (D472)
E889:F5		PUSH AF
E88A:3C		INC A
E88B:010B00	LD BC, 000B
E88E:2109DF	LD HL, DF09
E891:		label IW_NEXT_NAME
E891:09		ADD HL, BC
E892:3D		DEC A
E893:20FC	JR NZ, E891
E895:E5		PUSH HL
E896:DDE1	POP IX
E898:2116C8	LD HL, C816
E89B:CD89E3	CALL E389
E89E:F1		POP AF
E89F:87		ADD A, A
E8A0:87		ADD A, A
E8A1:C68D	ADD A, 8D
E8A3:6F		LD L, A
E8A4:CED4	ADC A, D4
E8A6:95		SUB L
E8A7:67		LD H, A
E8A8:5E		LD E, (HL)
E8A9:23		INC HL
E8AA:56		LD D, (HL)
E8AB:010012	LD BC, 1200
E8AE:CD7BE0	CALL E07B
E8B1:F3		DI
E8B2:CD8DE0	CALL E08D
		IF (false)
-     jr      INVENTORY_POKRACUJ
-     call    SET_MAX_31              ; meni jen akumulator
-     di
- INVENTORY_POKRACUJ:
		ENDIF
E8B5:AF		XOR A
E8B6:F5		PUSH AF
E8B7:D9		EXX
E8B8:214CD7	LD HL, D74C
E8BB:D9		EXX
E8BC:211B00	LD HL, 001B
E8BF:CDA9E7	CALL E7A9
E8C2:19		ADD HL, DE
E8C3:061B	LD B, 1B
E8C5:		label IW_LOOP
E8C5:CDEDE8	CALL E8ED
E8C8:10FB	DJNZ E8C5
E8CA:11E386	LD DE, 86E3
E8CD:D5		PUSH DE
E8CE:11091D	LD DE, 1D09
E8D1:D5		PUSH DE
E8D2:11005F	LD DE, 5F00
E8D5:D5		PUSH DE
E8D6:110719	LD DE, 1907
E8D9:D5		PUSH DE
E8DA:11005F	LD DE, 5F00
E8DD:D5		PUSH DE
E8DE:11F81D	LD DE, 1DF8
E8E1:D5		PUSH DE
E8E2:CD4BE9	CALL E94B
E8E5:CD7CE9	CALL E97C
E8E8:FB		EI
E8E9:CD84E0	CALL E084
E8EC:C9		RET
E8ED:		label VYKRESLI_ITEM_NA_POZICI_B
E8ED:D1		POP DE
E8EE:ED5349E9	LD (E949), DE
E8F2:D9		EXX
E8F3:2B		DEC HL
E8F4:56		LD D, (HL)
E8F5:2B		DEC HL
E8F6:5E		LD E, (HL)
E8F7:D9		EXX
E8F8:3A14D7	LD A, (D714)
E8FB:4F		LD C, A
E8FC:CDF0E9	CALL E9F0
E8FF:2807	JR Z, E908
E901:110C87	LD DE, 870C
E904:D5		PUSH DE
E905:D9		EXX
E906:D5		PUSH DE
E907:D9		EXX
E908:		label IW_BEZ_MRIZKY
E908:78		LD A, B
E909:FE11	CP 11
E90B:2007	JR NZ, E914
E90D:117784	LD DE, 8477
E910:D5		PUSH DE
E911:D9		EXX
E912:D5		PUSH DE
E913:D9		EXX
E914:		label IW_NENI_PROSTIRANI
E914:48		LD C, B
		IF (false)
-     .warning 'Pomalejsi kod, INVENTORY_ITEMS preleza segment!'
-     dec     HL
		ELSE (true)
E915:2D		DEC L
		ENDIF
E916:7E		LD A, (HL)
E917:87		ADD A, A
E918:280A	JR Z, E924
E91A:E5		PUSH HL
E91B:CD5AE9	CALL E95A
E91E:E1		POP HL
E91F:D5		PUSH DE
E920:D9		EXX
E921:D5		PUSH DE
E922:D9		EXX
E923:0D		DEC C
E924:		label IW_PRAZDNE_POLICKO
E924:11B084	LD DE, 84B0
E927:D5		PUSH DE
E928:D9		EXX
E929:D5		PUSH DE
E92A:D9		EXX
E92B:3A15D7	LD A, (D715)
E92E:3C		INC A
E92F:B8		CP B
E930:2007	JR NZ, E939
E932:118681	LD DE, 8186
E935:D5		PUSH DE
E936:D9		EXX
E937:D5		PUSH DE
E938:D9		EXX
E939:		label IW_NEJSME_NA_KURZORU
E939:78		LD A, B
E93A:B9		CP C
E93B:2004	JR NZ, E941
E93D:FE12	CP 12
E93F:3007	JR NC, E948
E941:		label IW_PREDMET_OBSAZEN
E941:114D81	LD DE, 814D
E944:D5		PUSH DE
E945:D9		EXX
E946:D5		PUSH DE
E947:D9		EXX
E948:		label IW_NEKRESLI_PODKLAD
E948:		label VINPB_SELF
E948:C30000	JP 0000
E94B:		label KRESLI_ZE_ZASOBNIKU
E94B:E1		POP HL
E94C:C1		POP BC
E94D:04		INC B
E94E:05		DEC B
E94F:2807	JR Z, E958
E951:D1		POP DE
E952:E5		PUSH HL
E953:CD8DE0	CALL E08D
E956:18F3	JR E94B
E958:		label KZZ_EXIT
E958:E5		PUSH HL
E959:C9		RET
E95A:		label DE_2DSPRITE_A
E95A:C6D6	ADD A, D6
E95C:6F		LD L, A
		IF (true)
E95D:CED6	ADC A, D6
E95F:95		SUB L
E960:67		LD H, A
E961:5E		LD E, (HL)
E962:23		INC HL
		ELSE (false)
-     ld      H, ITEM2SPRITE / 256
-     ld      E, (HL)
-     inc     L
		ENDIF
E963:56		LD D, (HL)
E964:C9		RET
E965:		label A_NAJDI_POLOZENY_PREDMET_HL
E965:E5		PUSH HL
E966:C5		PUSH BC
E967:D5		PUSH DE
E968:CD72E4	CALL E472
E96B:EB		EX DE, HL
E96C:2B		DEC HL
E96D:7E		LD A, (HL)
E96E:2B		DEC HL
E96F:46		LD B, (HL)
E970:2B		DEC HL
E971:4E		LD C, (HL)
E972:EB		EX DE, HL
E973:ED42	SBC HL, BC
E975:2801	JR Z, E978
E977:AF		XOR A
E978:		label NPP_EXIT
E978:D1		POP DE
E979:C1		POP BC
E97A:E1		POP HL
E97B:C9		RET
E97C:		label VYKRESLI_AKTIVNI_PREDMET
E97C:CDA0E7	CALL E7A0
E97F:C8		RET Z
		IF (true)
E980:CDA9E7	CALL E7A9
E983:D5		PUSH DE
E984:DDE1	POP IX
E986:2A45D4	LD HL, (D445)
E989:CD65E9	CALL E965
E98C:DD771C	LD (IX+1C), A
E98F:24		INC H
E990:CD65E9	CALL E965
E993:DD771E	LD (IX+1E), A
E996:CD13E3	CALL E313
E999:25		DEC H
E99A:CD65E9	CALL E965
E99D:DD771B	LD (IX+1B), A
E9A0:25		DEC H
E9A1:CD65E9	CALL E965
E9A4:DD771D	LD (IX+1D), A
		ENDIF
E9A7:AF		XOR A
E9A8:F5		PUSH AF
E9A9:D9		EXX
E9AA:2154D7	LD HL, D754
E9AD:D9		EXX
E9AE:211F00	LD HL, 001F
E9B1:CDA9E7	CALL E7A9
E9B4:19		ADD HL, DE
E9B5:061F	LD B, 1F
E9B7:		label VAP_LOOP
E9B7:CDEDE8	CALL E8ED
E9BA:05		DEC B
E9BB:3E1B	LD A, 1B
E9BD:B8		CP B
E9BE:20F7	JR NZ, E9B7
E9C0:CD4BE9	CALL E94B
E9C3:3A14D7	LD A, (D714)
E9C6:87		ADD A, A
E9C7:C8		RET Z
E9C8:C6D6	ADD A, D6
E9CA:6F		LD L, A
		IF (true)
E9CB:CED6	ADC A, D6
E9CD:95		SUB L
E9CE:67		LD H, A
E9CF:5E		LD E, (HL)
E9D0:23		INC HL
		ELSE (false)
-     ld      h, ITEM2SPRITE / 256
-     ld      e, (hl)
-     inc     l
		ENDIF
E9D1:56		LD D, (HL)
E9D2:D5		PUSH DE
E9D3:3A15D7	LD A, (D715)
E9D6:87		ADD A, A
E9D7:C616	ADD A, 16
E9D9:6F		LD L, A
E9DA:CED7	ADC A, D7
E9DC:95		SUB L
E9DD:67		LD H, A
E9DE:4E		LD C, (HL)
E9DF:23		INC HL
E9E0:46		LD B, (HL)
E9E1:05		DEC B
E9E2:0D		DEC C
E9E3:118681	LD DE, 8186
E9E6:C5		PUSH BC
E9E7:CD8DE0	CALL E08D
E9EA:C1		POP BC
E9EB:D1		POP DE
E9EC:CD8DE0	CALL E08D
E9EF:C9		RET
E9F0:		label TEST_NEPOVOLENE_POZICE
E9F0:78		LD A, B
E9F1:3D		DEC A
E9F2:FE1B	CP 1B
E9F4:380D	JR C, EA03
E9F6:E601	AND 01
E9F8:C8		RET Z
E9F9:E5		PUSH HL
E9FA:CD13E3	CALL E313
E9FD:26D1	LD H, D1
E9FF:CB46	BIT 0, (HL)
EA01:E1		POP HL
EA02:C9		RET
EA03:		label TNP_NOSENE
EA03:E6F0	AND F0
EA05:C8		RET Z
EA06:79		LD A, C
EA07:B7		OR A
EA08:C8		RET Z
POZICE_M1	EQU D753
EA09:E5		PUSH HL
EA0A:C653	ADD A, 53
EA0C:6F		LD L, A
EA0D:CED7	ADC A, D7
EA0F:95		SUB L
EA10:67		LD H, A
EA11:78		LD A, B
EA12:FE1B	CP 1B
EA14:2002	JR NZ, EA18
EA16:3E16	LD A, 16
EA18:		label TNP_NENI_PRSTEN
EA18:FE1A	CP 1A
EA1A:2002	JR NZ, EA1E
EA1C:3E15	LD A, 15
EA1E:		label TNP_NENI_RUKA
EA1E:BE		CP (HL)
EA1F:E1		POP HL
EA20:C9		RET
EA21:		label DE_POZICE_RUKOU_A
		IF (false)
-     .error      'Seznam POZICE_RUKOU prekracuje 256 bajtovy segment!'
		ENDIF
EA21:87		ADD A, A
EA22:C675	ADD A, 75
EA24:6F		LD L, A
EA25:26D4	LD H, D4
EA27:5E		LD E, (HL)
EA28:2C		INC L
EA29:56		LD D, (HL)
EA2A:C9		RET
EA2B:		label VYKRESLI_RUKU
EA2B:E1		POP HL
EA2C:224BEA	LD (EA4B), HL
EA2F:11FD82	LD DE, 82FD
EA32:87		ADD A, A
EA33:280A	JR Z, EA3F
EA35:C6D6	ADD A, D6
EA37:6F		LD L, A
		IF (true)
EA38:CED6	ADC A, D6
EA3A:95		SUB L
EA3B:67		LD H, A
EA3C:5E		LD E, (HL)
EA3D:23		INC HL
		ELSE (false)
-     ld      H, ITEM2SPRITE / 256
-     ld      E, (HL)
-     inc     L
		ENDIF
EA3E:56		LD D, (HL)
EA3F:		label VR_PRAZDNA
EA3F:D5		PUSH DE
EA40:78		LD A, B
EA41:CD21EA	CALL EA21
EA44:D5		PUSH DE
EA45:214D81	LD HL, 814D
EA48:E5		PUSH HL
EA49:D5		PUSH DE
EA4A:		label VR_SELF
EA4A:C30000	JP 0000
		End of INCLUDE
EA4D:		label PUSH_ALL
EA4D:F3		DI
EA4E:2264EA	LD (EA64), HL
EA51:E3		EX (SP), HL
EA52:F5		PUSH AF
EA53:C5		PUSH BC
EA54:D5		PUSH DE
EA55:DDE5	PUSH IX
EA57:FDE5	PUSH IY
EA59:08		EX AF, AF'
EA5A:F5		PUSH AF
EA5B:08		EX AF, AF'
EA5C:D9		EXX
EA5D:C5		PUSH BC
EA5E:D5		PUSH DE
EA5F:E5		PUSH HL
EA60:D9		EXX
EA61:FB		EI
EA62:E5		PUSH HL
EA63:		label PUSH_ALL_HL
EA63:210000	LD HL, 0000
EA66:C9		RET
EA67:		label POP_ALL
EA67:F3		DI
EA68:E1		POP HL
EA69:D9		EXX
EA6A:E1		POP HL
EA6B:D1		POP DE
EA6C:C1		POP BC
EA6D:D9		EXX
EA6E:08		EX AF, AF'
EA6F:F1		POP AF
EA70:08		EX AF, AF'
EA71:FDE1	POP IY
EA73:DDE1	POP IX
EA75:D1		POP DE
EA76:C1		POP BC
EA77:F1		POP AF
EA78:E3		EX (SP), HL
EA79:FB		EI
EA7A:C9		RET
EA7B:		label TIME_SCROLL
EA7B:3A795C	LD A, (5C79)
EA7E:E602	AND 02
EA80:47		LD B, A
EA81:		label TIME_SCROLL_LAST
EA81:EE00	XOR 00
EA83:C8		RET Z
EA84:78		LD A, B
EA85:3282EA	LD (EA82), A
EA88:CDD9E3	CALL E3D9
EA8B:C9		RET
EA8C:		label PREHOD_PREPINAC
EA8C:CDA0E7	CALL E7A0
EA8F:CAE5EA	JP Z, EAE5
EA92:47		LD B, A
EA93:04		INC B
EA94:2114D7	LD HL, D714
EA97:4E		LD C, (HL)
EA98:CDF0E9	CALL E9F0
EA9B:DD21EFDB	LD IX, DBEF
EA9F:C2FCE3	JP NZ, E3FC
EAA2:3E11	LD A, 11
EAA4:90		SUB B
EAA5:E5		PUSH HL
EAA6:CC76EB	CALL Z, EB76
EAA9:2600	LD H, 00
EAAB:68		LD L, B
EAAC:2D		DEC L
EAAD:CDA9E7	CALL E7A9
EAB0:19		ADD HL, DE
EAB1:7E		LD A, (HL)
EAB2:71		LD (HL), C
EAB3:E1		POP HL
EAB4:77		LD (HL), A
EAB5:C5		PUSH BC
EAB6:CD5CE4	CALL E45C
EAB9:C1		POP BC
EABA:2A14D7	LD HL, (D714)
EABD:7C		LD A, H
EABE:D61B	SUB 1B
EAC0:DA62E8	JP C, E862
EAC3:26EA	LD H, EA
EAC5:C6E1	ADD A, E1
EAC7:6F		LD L, A
EAC8:46		LD B, (HL)
EAC9:2A45D4	LD HL, (D445)
EACC:CB48	BIT 1, B
EACE:C413E3	CALL NZ, E313
EAD1:7C		LD A, H
EAD2:80		ADD A, B
EAD3:67		LD H, A
EAD4:79		LD A, C
EAD5:B7		OR A
EAD6:F5		PUSH AF
EAD7:C48FE4	CALL NZ, E48F
EADA:F1		POP AF
EADB:CCBBE4	CALL Z, E4BB
EADE:C362E8	JP E862
EAE1:		label PP_DATA
EAE1:03000201	DEFB of 4 bytes
EAE5:		label PP_DATA_END
		IF (false)
-     .error 'PP_DATA!'
		ENDIF
EAE5:		label PP_NEJSME_V_INVENTARI
EAE5:CD13E3	CALL E313
EAE8:3E00	LD A, 00
EAEA:81		ADD A, C
EAEB:47		LD B, A
EAEC:CD66E4	CALL E466
EAEF:		label PP_NALEZEN_OBJEKT
EAEF:C0		RET NZ
EAF0:1A		LD A, (DE)
EAF1:E61F	AND 1F
EAF3:B8		CP B
EAF4:280C	JR Z, EB02
EAF6:E61C	AND 1C
EAF8:FE0C	CP 0C
EAFA:CC11E4	CALL Z, E411
EAFD:CD69E4	CALL E469
EB00:18ED	JR EAEF
EB02:		label PP_PROHOD_PAKU
		IF (false)
-     ld      A, (DE)                     ;  7:1 typ
-     xor     ZAM_1                       ;  7:2 prepneme paku / prohodime horni bit
-     ld      (de),a                      ;  7:1 typ
		ELSE (true)
EB02:2680	LD H, 80
EB04:CDE3E4	CALL E4E3
		ENDIF
EB07:13		INC DE
EB08:CD23E4	CALL E423
EB0B:		label PP_LOOP
EB0B:13		INC DE
EB0C:1A		LD A, (DE)
EB0D:B7		OR A
EB0E:C0		RET NZ
EB0F:13		INC DE
EB10:1A		LD A, (DE)
EB11:6F		LD L, A
EB12:13		INC DE
EB13:1A		LD A, (DE)
EB14:67		LD H, A
EB15:CDE3E4	CALL E4E3
EB18:C30BEB	JP EB0B
		IF (false)
- COPY_INVENTORY2SCREEN:        ; $D64D
- jp BUFF2SCREEN
-     halt                                        ; cekame nez 50x za sekundu nezacne ULA prekreslovat obrazovku
-     ld      a,COPY_LOOP_14x - COPY_END_SEGMENT
-     ld      (COPY_MENITELNY_SKOK+1),a
-     ld      hl,$1525                    ; dec     d, dec     h
-     ld      (COPY_DEC_OR_NOP),hl
-     ld      bc,1400                     ; 10:3
- CI2S_WAIT:
-     dec     bc                          ;  6:1 at zije nekonecna smycka
-     bit     7,B                         ;  8:2 
-     jr      z,CI2S_WAIT                 ; 12/7:2
-     ld      a,(BORDER)                  ; test se zmenou barvy pozadi
-     out     (254),a
-     ld      h,Adr_Attr_Buffer/256       ;  7:2
-     ld      d,$58                       ;  7:2
-     ld      ix,$FF01                    ; 14:4
-     call    COPY_START
-     ld      h,7+Adr_Buffer/256          ;  7:2
-     ld      d,7+$40                     ;  7:2
-     ld      ix,$FF08                    ; 14:4
-     call    COPY_START
-     ld      h,1+Adr_Attr_Buffer/256     ;  7:2
-     ld      d,1+$58                     ;  7:2
-     ld      ix,$FF01                    ; 14:4
-     call    COPY_START
-     ld      h,15+Adr_Buffer/256         ;  7:2
-     ld      d,15+$40                    ;  7:2
-     ld      ix,$FF08                    ; 14:4
-     call    COPY_START
-     ld      h,2+Adr_Attr_Buffer/256     ;  7:2
-     ld      d,2+$58                     ;  7:2
-     ld      ix,$7F01                    ; 14:4
-     call    COPY_START
-     ld      h,23+Adr_Buffer/256         ;  7:2
-     ld      d,23+$40                    ;  7:2
-     ld      ix,$7F08                    ; 14:4
-     call    COPY_START
-     xor     a
-     out     (254),a                     ; nastavi BORDER na cernou
-     ret 
- COPY_VYREZ2SCREEN:        ; $D64D
- jp BUFF2SCREEN
-     halt                                ; cekame nez 50x za sekundu nezacne ULU prekreslovat obrazovku
-     ld      a,COPY_LOOP_18x - COPY_END_SEGMENT
-     ld      (COPY_MENITELNY_SKOK+1),a
-     ld      hl,0
-     ld      (COPY_DEC_OR_NOP),hl
-     ld      bc,1400                     ; 10:3
- CV2S_WAIT:
-     dec     bc                          ;  6:1 at zije nekonecna smycka
-     bit     7,B                         ;  8:2 
-     jr      z,CV2S_WAIT                 ; 12/7:2
-     ld      a,(BORDER)                  ; test se zmenou barvy pozadi
-     out     (254),a
-     ld      h,Adr_Attr_Buffer/256       ;  7:2
-     ld      d,$58                       ;  7:2
-     ld      ix,$F101                    ; 14:4
-     call    COPY_START
-     ld      h,7+Adr_Buffer/256          ;  7:2
-     ld      d,7+$40                     ;  7:2
-     ld      ix,$F108                    ; 14:4
-     call    COPY_START
-     ld      h,1+Adr_Attr_Buffer/256     ;  7:2
-     ld      d,1+$58                     ;  7:2
-     ld      ix,$D101                    ; 14:4
-     call    COPY_START
-     ld      h,15+Adr_Buffer/256         ;  7:2
-     ld      d,15+$40                    ;  7:2
-     ld      ix,$D108                    ; 14:4
-     call    COPY_START
-     xor     a
-     out     (254),a                  ; nastavi BORDER na cernou
-     ret 
- COPY_LOOP_18x:
-     ldd                             ; 16:2 18x (de--) = (hl--), ignore bc--
-     ldd                             ; 16:2
-     ldd                             ; 16:2 
-     ldd                             ; 16:2 15x
- COPY_LOOP_14x:
-     ldd                             ; 16:2
-     ldd                             ; 16:2
-     ldd                             ; 16:2
-     ldd                             ; 16:2
-     ldd                             ; 16:2 10x
-     ldd                             ; 16:2
-     ldd                             ; 16:2
-     ldd                             ; 16:2 
-     ldd                             ; 16:2 
-     ldd                             ; 16:2  5x
-     ldd                             ; 16:2
-     ldd                             ; 16:2 
-     ldd                             ; 16:2
-     ldd                             ; 16:2
-     sub     32                      ;  4:1 o radek nahoru
- COPY_MICROLINE:
-     ld      e,a                     ;  4:1
-     ld      l,a                     ;  4:1
- COPY_MENITELNY_SKOK:
-     jr      nc,COPY_LOOP_18x        ; 12/7:2  $30,xx 
- COPY_END_SEGMENT:
-     dec     ixl                     ;  pocitadlo mikroradku {8x,1x}
-     ret     z
- COPY_DEC_OR_NOP:
-     nop                             ; 4:1 $25 = dec     h = o microline nize / $00 nop
-     nop                             ; 4:1 $15 = dec     d = o microline nize / $00 nop
- COPY_START:
-     ld      a,ixh                   ; 8:2 vracime se na znak lezici nalevo dole
-     or      a                       ; reset carry flag
-     jr      COPY_MICROLINE
		ENDIF
EB1B:		label HELP
EB1B:DD2175DE	LD IX, DE75
EB1F:3E02	LD A, 02
EB21:CDFEE3	CALL E3FE
EB24:CDFCE3	CALL E3FC
EB27:CDFCE3	CALL E3FC
EB2A:CDFCE3	CALL E3FC
EB2D:C9		RET
EB2E:		label OBAL_SPRITE2BUFFER
EB2E:F5		PUSH AF
EB2F:E5		PUSH HL
EB30:D5		PUSH DE
EB31:CD8DE0	CALL E08D
EB34:D1		POP DE
EB35:E1		POP HL
EB36:F1		POP AF
EB37:C9		RET
EB38:		label AKTUALIZUJ_RUZICI
EB38:3A46D4	LD A, (D446)
EB3B:87		ADD A, A
EB3C:87		ADD A, A
EB3D:C6C9	ADD A, C9
EB3F:6F		LD L, A
		IF (false)
- .warning 'Delsi kod o 2 bajty! RUZICE a RUZICE_END lezi na dvou segmentech!'
-     adc     a,RUZICE / 256              ;  7:2 resi preteceni
-     sub     l                           ;  7:2 
-     ld      h,a                         ;  4:1 hl = ukazatel na ukazatel spravneho spritu
		ELSE (true)
EB40:26D4	LD H, D4
		ENDIF
EB42:F3		DI
EB43:CD73E7	CALL E773
EB46:FB		EI
EB47:C9		RET
EB48:		label AKTUALIZUJ_SIPKY
EB48:C5		PUSH BC
EB49:E5		PUSH HL
EB4A:6F		LD L, A
EB4B:CD70E0	CALL E070
EB4E:7D		LD A, L
EB4F:21A9D4	LD HL, D4A9
EB52:F3		DI
EB53:CD73E7	CALL E773
EB56:85		ADD A, L
EB57:6F		LD L, A
		IF (false)
-     .warning    'Delsi kod o 3 bajty! Pole SIPKY preleza 256 bajtovy segment!'
-     adc     A, H                        ; 4:1
-     sub     L                           ; 4:1
-     ld      H, A                        ; 4:1 H + carry
		ENDIF
EB58:CD73E7	CALL E773
EB5B:FB		EI
EB5C:CD65E0	CALL E065
EB5F:E1		POP HL
EB60:C1		POP BC
EB61:C9		RET
		IF (false)
- HORIZONTAL_FULL_LINE:
-     ld      a,$ff
- HORIZONTAL_MASK_LINE:
- HML_LOOP:
-     ld      (hl),a
-     inc     l
-     djnz    HML_LOOP
-     ret
		ENDIF
		IF (false)
- FILL_BLOCK:
-     ld      A, L                ;  4:1 nastavime na prvni znak a budeme postupne zvysovat o 32 => o znak nize
- FB_DALSI_MICROLINE:
-     push    AF                  ; 11:1 ulozime L
-     ld      C, IXL              ;  8:2 nastavime citac poctu radku
- FB_DALSI_RADEK:
-     ld      B, IXH              ;  8:2 nastavime citac poctu sloupcu
- FB_DALSI_SLOUPEC:
-     ld      (HL), E             ;  7:1
-     inc     L                   ;  4:1
-     djnz    FB_DALSI_SLOUPEC    ;13/8:2
-     add     A, $20              ;  7:2
-     ld      L, A                ;  4:1 stejna mikroradka o znak/radek nize
-     dec     C                   ;  4:1
-     jr      nz, FB_DALSI_RADEK  ;12/7:2
-     pop     AF                  ; 10:1
-     ld      L, A                ;  4:1
-     dec     D                   ;  4:1
-     ret     z                   ;11/5:1 pokud byla vyplnena jen jedna mikroradka ( atributy ) tak hl nebylo zmeneno
-     inc     H                   ;  4:1 o mikroradek nize
-     jp      FB_DALSI_MICROLINE  ; 10:3
- FILL_ATTR_BLOCK:
-     ld      IXH, B                  ; 8:2 push    bc + pop     ix = 11+14:1+2
-     ld      IXL, C                  ; 8:2
-     ld      DE, $0107               ; 10:3 jen 1 mikroradek a bila barva (vzor)
-     call    FILL_BLOCK
-     call    SEG_ATTR2SCREEN
-     ld      DE, $0800               ; 10:3 8 mikroradku a vyplnujeme nulama
-     call    FILL_BLOCK
-     ret
		ELSE (true)
EB62:		label FILL_BLOCK
EB62:		label FB_PIXEL
EB62:C5		PUSH BC
EB63:E5		PUSH HL
EB64:7D		LD A, L
EB65:		label FB_RADEK
EB65:42		LD B, D
EB66:		label FB_DALSI_SLOUPEC
EB66:73		LD (HL), E
EB67:2C		INC L
EB68:10FC	DJNZ EB66
EB6A:C620	ADD A, 20
EB6C:6F		LD L, A
EB6D:0D		DEC C
EB6E:20F5	JR NZ, EB65
EB70:E1		POP HL
EB71:C1		POP BC
EB72:24		INC H
EB73:10ED	DJNZ EB62
EB75:C9		RET
EB76:		label EATING
EB76:C5		PUSH BC
EB77:3A72D4	LD A, (D472)
EB7A:CD7AEC	CALL EC7A
EB7D:23		INC HL
EB7E:1175DC	LD DE, DC75
EB81:79		LD A, C
EB82:D61B	SUB 1B
EB84:2003	JR NZ, EB89
EB86:1181DC	LD DE, DC81
EB89:		label E_NO_FOOD
EB89:3D		DEC A
EB8A:2003	JR NZ, EB8F
EB8C:46		LD B, (HL)
EB8D:2B		DEC HL
EB8E:70		LD (HL), B
EB8F:		label E_NO_R
EB8F:3D		DEC A
EB90:2002	JR NZ, EB94
EB92:23		INC HL
EB93:77		LD (HL), A
EB94:		label E_NO_G
EB94:3D		DEC A
EB95:2000	JR NZ, EB97
EB97:		label E_NO_B
EB97:		label E_PRINT
EB97:EB		EX DE, HL
EB98:79		LD A, C
EB99:CD43E4	CALL E443
EB9C:C1		POP BC
EB9D:0E00	LD C, 00
EB9F:C9		RET
EBA0:		label FILL_ATTR_BLOCK
EBA0:50		LD D, B
EBA1:1E07	LD E, 07
EBA3:0601	LD B, 01
EBA5:CD62EB	CALL EB62
EBA8:25		DEC H
EBA9:CDB4EB	CALL EBB4
EBAC:1E00	LD E, 00
EBAE:0608	LD B, 08
EBB0:CD62EB	CALL EB62
EBB3:C9		RET
		ENDIF
EBB4:		label SEG_ATTR2SCREEN
EBB4:7C		LD A, H
EBB5:26B0	LD H, B0
EBB7:D6C8	SUB C8
EBB9:3004	JR NC, EBBF
EBBB:2640	LD H, 40
EBBD:C670	ADD A, 70
EBBF:		label SA_BUFF
EBBF:87		ADD A, A
EBC0:87		ADD A, A
EBC1:87		ADD A, A
EBC2:84		ADD A, H
EBC3:67		LD H, A
EBC4:C9		RET
EBC5:		label ZOBRAZ_ZIVOTY
EBC5:2172D7	LD HL, D772
EBC8:0606	LD B, 06
EBCA:		label ZZ_LOOP
EBCA:C5		PUSH BC
EBCB:4E		LD C, (HL)
EBCC:2C		INC L
EBCD:46		LD B, (HL)
EBCE:2C		INC L
EBCF:2C		INC L
EBD0:5E		LD E, (HL)
EBD1:2C		INC L
EBD2:56		LD D, (HL)
EBD3:CD13EC	CALL EC13
EBD6:2C		INC L
EBD7:4E		LD C, (HL)
EBD8:2C		INC L
EBD9:3A785C	LD A, (5C78)
EBDC:B9		CP C
EBDD:3802	JR C, EBE1
EBDF:AF		XOR A
EBE0:77		LD (HL), A
EBE1:		label ZZ_NEVYPRSEL
EBE1:7E		LD A, (HL)
EBE2:B7		OR A
EBE3:2804	JR Z, EBE9
EBE5:47		LD B, A
EBE6:CDEEEB	CALL EBEE
EBE9:		label ZZ_BEZ_AKT_ZRANENI
EBE9:2C		INC L
EBEA:C1		POP BC
EBEB:10DD	DJNZ EBCA
EBED:C9		RET
EBEE:		label VYKRESLI_KRVAVY_FLEK
EBEE:E5		PUSH HL
EBEF:7A		LD A, D
EBF0:87		ADD A, A
EBF1:87		ADD A, A
EBF2:87		ADD A, A
EBF3:92		SUB D
Pomocny		EQU 0574
EBF4:D674	SUB 74
EBF6:4F		LD C, A
EBF7:7B		LD A, E
EBF8:E61F	AND 1F
EBFA:3D		DEC A
EBFB:47		LD B, A
EBFC:D5		PUSH DE
EBFD:116770	LD DE, 7067
EC00:CD2EEB	CALL EB2E
EC03:E1		POP HL
EC04:2C		INC L
EC05:2C		INC L
EC06:DD2111EC	LD IX, EC11
EC0A:3E42	LD A, 42
EC0C:CD8BE3	CALL E38B
EC0F:E1		POP HL
EC10:C9		RET
EC11:		label DAMAGE_BUF
EC11:3100	DEFB of 2 bytes
EC13:		label VYKRESLI_ZIVOTY
EC13:E5		PUSH HL
EC14:D5		PUSH DE
EC15:D5		PUSH DE
EC16:AF		XOR A
EC17:67		LD H, A
EC18:69		LD L, C
EC19:57		LD D, A
EC1A:58		LD E, B
EC1B:47		LD B, A
EC1C:29		ADD HL, HL
EC1D:29		ADD HL, HL
EC1E:09		ADD HL, BC
EC1F:4F		LD C, A
EC20:37		SCF
EC21:		label VZ_ZNAKU
EC21:0D		DEC C
EC22:ED52	SBC HL, DE
EC24:30FB	JR NC, EC21
EC26:ED5A	ADC HL, DE
EC28:29		ADD HL, HL
EC29:29		ADD HL, HL
EC2A:29		ADD HL, HL
EC2B:		label VZ_ZBYTEK
EC2B:3C		INC A
EC2C:ED52	SBC HL, DE
EC2E:30FB	JR NC, EC2B
		IF (false)
-     .error      'Seznam CARKY prekracuje segment!'
		ENDIF
EC30:C65B	ADD A, 5B
EC32:6F		LD L, A
EC33:26E0	LD H, E0
EC35:56		LD D, (HL)
EC36:79		LD A, C
EC37:3C		INC A
EC38:2002	JR NZ, EC3C
EC3A:3E42	LD A, 42
EC3C:		label VZ_VICEZNAKOVY
EC3C:E646	AND 46
EC3E:5F		LD E, A
EC3F:E1		POP HL
EC40:0605	LD B, 05
EC42:		label VZ_LOOP_SELF
EC42:7A		LD A, D
EC43:0C		INC C
EC44:2803	JR Z, EC49
EC46:79		LD A, C
EC47:17		RLA
EC48:9F		SBC A, A
EC49:		label VZ_PREDEL
EC49:		label VZ_COL_SELF
EC49:73		LD (HL), E
EC4A:E5		PUSH HL
EC4B:C5		PUSH BC
EC4C:4F		LD C, A
EC4D:CDB4EB	CALL EBB4
EC50:0606	LD B, 06
EC52:		label VZ_LOOP_PX
EC52:24		INC H
EC53:71		LD (HL), C
EC54:10FC	DJNZ EC52
EC56:C1		POP BC
EC57:E1		POP HL
EC58:2C		INC L
EC59:10E7	DJNZ EC42
EC5B:D1		POP DE
EC5C:E1		POP HL
EC5D:C9		RET
EC5E:		label VYHAZEJ_VSECHNO
EC5E:C5		PUSH BC
EC5F:D5		PUSH DE
EC60:7B		LD A, E
EC61:CDADE7	CALL E7AD
EC64:061B	LD B, 1B
EC66:		label VV_LOOP
EC66:D5		PUSH DE
EC67:C5		PUSH BC
EC68:2A45D4	LD HL, (D445)
EC6B:1A		LD A, (DE)
EC6C:B7		OR A
EC6D:C48FE4	CALL NZ, E48F
EC70:C1		POP BC
EC71:D1		POP DE
EC72:AF		XOR A
EC73:12		LD (DE), A
		IF (false)
-     .warning 'Pomalejsi kod kvuli vicesegmentovemu INVENTORY_ITEMS'
-     inc     DE
		ELSE (true)
EC74:1C		INC E
		ENDIF
EC75:10EF	DJNZ EC66
EC77:D1		POP DE
EC78:C1		POP BC
EC79:C9		RET
		IF (false)
-     .error      'Seznam DATA_ZIVOTY prekracuje segment!'
		ENDIF
EC7A:		label HL_DATA_ZIVOTY_A
EC7A:6F		LD L, A
EC7B:87		ADD A, A
EC7C:87		ADD A, A
EC7D:87		ADD A, A
EC7E:95		SUB L
EC7F:C672	ADD A, 72
EC81:6F		LD L, A
EC82:26D7	LD H, D7
EC84:C9		RET
EC85:		label ZRAN_POSTAVU
EC85:D5		PUSH DE
EC86:7B		LD A, E
EC87:CD7AEC	CALL EC7A
EC8A:7E		LD A, (HL)
EC8B:92		SUB D
EC8C:3007	JR NC, EC95
EC8E:AF		XOR A
EC8F:77		LD (HL), A
EC90:CD5EEC	CALL EC5E
EC93:180E	JR ECA3
EC95:		label ZP_ZIJE
EC95:77		LD (HL), A
EC96:23		INC HL
EC97:23		INC HL
EC98:23		INC HL
EC99:23		INC HL
EC9A:23		INC HL
EC9B:3A785C	LD A, (5C78)
EC9E:C632	ADD A, 32
ECA0:77		LD (HL), A
ECA1:23		INC HL
ECA2:72		LD (HL), D
ECA3:		label ZP_EXIT
ECA3:D1		POP DE
ECA4:C9		RET
ECA5:		label OTESTUJ_TRVALE_ZRANENI
ECA5:D5		PUSH DE
ECA6:7B		LD A, E
ECA7:CD7AEC	CALL EC7A
ECAA:23		INC HL
ECAB:23		INC HL
ECAC:7E		LD A, (HL)
ECAD:B7		OR A
ECAE:57		LD D, A
ECAF:C485EC	CALL NZ, EC85
ECB2:D1		POP DE
ECB3:C9		RET
ECB4:		label PLAYERS_WINDOW_AND_DAMAGE
ECB4:		label PWAD_SELF
ECB4:3E00	LD A, 00
ECB6:21785C	LD HL, 5C78
ECB9:AE		XOR (HL)
ECBA:E680	AND 80
ECBC:280F	JR Z, ECCD
ECBE:7E		LD A, (HL)
ECBF:32B5EC	LD (ECB5), A
ECC2:110001	LD DE, 0100
ECC5:0606	LD B, 06
ECC7:		label PWAD_LOOP
ECC7:CDA5EC	CALL ECA5
ECCA:1C		INC E
ECCB:10FA	DJNZ ECC7
ECCD:		label PWAD_NEZRANUJ
ECCD:CDCDE7	CALL E7CD
ECD0:C9		RET
ECD1:		label BUFF2SCREEN
ECD1:CD4DEA	CALL EA4D
ECD4:AF		XOR A
ECD5:D3FE	OUT (FE), A
ECD7:2100C8	LD HL, C800
ECDA:2240ED	LD (ED40), HL
ECDD:76		HALT
ECDE:F3		DI
ECDF:210602	LD HL, 0206
ECE2:		label B2S_WAIT
ECE2:2B		DEC HL
ECE3:7C		LD A, H
ECE4:B5		OR L
ECE5:20FB	JR NZ, ECE2
ECE7:4D		LD C, L
ECE8:39		ADD HL, SP
ECE9:227FED	LD (ED7F), HL
ECEC:0608	LD B, 08
ECEE:2110B0	LD HL, B010
ECF1:1804	JR ECF7
ECF3:		label B2S_PIXEL_DOWN_LOOP
ECF3:211071	LD HL, 7110
ECF6:		label B2S_CHAR_DOWN_LOOP
ECF6:39		ADD HL, SP
ECF7:		label B2S_DIRECT
ECF7:F9		LD SP, HL
ECF8:F1		POP AF
ECF9:D1		POP DE
ECFA:E1		POP HL
ECFB:D9		EXX
ECFC:DDE1	POP IX
ECFE:FDE1	POP IY
ED00:08		EX AF, AF'
ED01:D1		POP DE
ED02:C1		POP BC
ED03:210290	LD HL, 9002
ED06:39		ADD HL, SP
ED07:F1		POP AF
ED08:F9		LD SP, HL
ED09:F5		PUSH AF
ED0A:C5		PUSH BC
ED0B:D5		PUSH DE
ED0C:08		EX AF, AF'
ED0D:FDE5	PUSH IY
ED0F:DDE5	PUSH IX
ED11:D9		EXX
ED12:E5		PUSH HL
ED13:D5		PUSH DE
ED14:F5		PUSH AF
ED15:ED732AED	LD (ED2A), SP
ED19:21F06F	LD HL, 6FF0
ED1C:39		ADD HL, SP
ED1D:F9		LD SP, HL
ED1E:F1		POP AF
ED1F:D1		POP DE
ED20:E1		POP HL
ED21:D9		EXX
ED22:FDE1	POP IY
ED24:08		EX AF, AF'
ED25:E1		POP HL
ED26:D1		POP DE
ED27:C1		POP BC
ED28:F1		POP AF
ED29:		label B2S_SELF_DIRECT
ED29:310000	LD SP, 0000
ED2C:F5		PUSH AF
ED2D:C5		PUSH BC
ED2E:D5		PUSH DE
ED2F:E5		PUSH HL
ED30:08		EX AF, AF'
ED31:FDE5	PUSH IY
ED33:D9		EXX
ED34:E5		PUSH HL
ED35:D5		PUSH DE
ED36:F5		PUSH AF
ED37:10BA	DJNZ ECF3
ED39:ED7366ED	LD (ED66), SP
ED3D:0602	LD B, 02
ED3F:		label B2S_ATTR_LOOP
ED3F:		label B2S_SELF_SRC
ED3F:3100C8	LD SP, C800
ED42:F1		POP AF
ED43:D1		POP DE
ED44:E1		POP HL
ED45:D9		EXX
ED46:DDE1	POP IX
ED48:FDE1	POP IY
ED4A:08		EX AF, AF'
ED4B:D1		POP DE
ED4C:C1		POP BC
ED4D:210290	LD HL, 9002
ED50:39		ADD HL, SP
ED51:F1		POP AF
ED52:ED7340ED	LD (ED40), SP
ED56:F9		LD SP, HL
ED57:F5		PUSH AF
ED58:C5		PUSH BC
ED59:D5		PUSH DE
ED5A:08		EX AF, AF'
ED5B:FDE5	PUSH IY
ED5D:DDE5	PUSH IX
ED5F:D9		EXX
ED60:E5		PUSH HL
ED61:D5		PUSH DE
ED62:F5		PUSH AF
ED63:10DA	DJNZ ED3F
ED65:		label B2S_ATTR_SELF
ED65:310000	LD SP, 0000
ED68:0C		INC C
ED69:213069	LD HL, 6930
ED6C:79		LD A, C
ED6D:FE14	CP 14
ED6F:280D	JR Z, ED7E
ED71:0608	LD B, 08
ED73:E607	AND 07
ED75:C2F6EC	JP NZ, ECF6
ED78:213070	LD HL, 7030
ED7B:C3F6EC	JP ECF6
ED7E:		label B2S_EXIT
ED7E:		label B2S_SELF
ED7E:310000	LD SP, 0000
ED81:FB		EI
ED82:CD67EA	CALL EA67
ED85:C9		RET
		INCLUDE table.h
i_nw		EQU 0000
i_ne		EQU 0001
i_se		EQU 0002
i_sw		EQU 0003
CHODBA_VZ	EQU 0001
CHODBA_SJ	EQU 0000
TYP_DVERE_N	EQU 0004
TYP_DVERE_E	EQU 0005
TYP_DVERE_S	EQU 0006
TYP_DVERE_W	EQU 0007
TYP_ZARAZKA	EQU 00FF
ED86:		label ADR_ZARAZKY
ED86:A2EE	DEFW of 1 words
ED88:		label TABLE_OBJECTS
ED88:010C00	DEFB of 3 bytes
ED8B:060C01	DEFB of 3 bytes
ED8E:101019	DEFB of 3 bytes
ED91:101114	DEFB of 3 bytes
ED94:101219	DEFB of 3 bytes
ED97:101316	DEFB of 3 bytes
ED9A:11101A	DEFB of 3 bytes
ED9D:111117	DEFB of 3 bytes
EDA0:11120A	DEFB of 3 bytes
EDA3:11130B	DEFB of 3 bytes
EDA6:158980	DEFB of 3 bytes
EDA9:201015	DEFB of 3 bytes
EDAC:201113	DEFB of 3 bytes
EDAF:201218	DEFB of 3 bytes
EDB2:201311	DEFB of 3 bytes
EDB5:21100C	DEFB of 3 bytes
EDB8:211106	DEFB of 3 bytes
EDBB:211207	DEFB of 3 bytes
EDBE:211317	DEFB of 3 bytes
EDC1:301019	DEFB of 3 bytes
EDC4:321204	DEFB of 3 bytes
EDC7:321302	DEFB of 3 bytes
EDCA:40101A	DEFB of 3 bytes
EDCD:40111A	DEFB of 3 bytes
EDD0:40121A	DEFB of 3 bytes
EDD3:40131A	DEFB of 3 bytes
EDD6:421010	DEFB of 3 bytes
EDD9:42111C	DEFB of 3 bytes
EDDC:42121D	DEFB of 3 bytes
EDDF:42131E	DEFB of 3 bytes
EDE2:448980	DEFB of 3 bytes
EDE5:50101A	DEFB of 3 bytes
EDE8:50111A	DEFB of 3 bytes
EDEB:50121A	DEFB of 3 bytes
EDEE:50131A	DEFB of 3 bytes
EDF1:521012	DEFB of 3 bytes
EDF4:521108	DEFB of 3 bytes
EDF7:52121B	DEFB of 3 bytes
EDFA:52131D	DEFB of 3 bytes
EDFD:578401	DEFB of 3 bytes
EE00:571016	DEFB of 3 bytes
EE03:57101D	DEFB of 3 bytes
EE06:57101D	DEFB of 3 bytes
EE09:57101D	DEFB of 3 bytes
EE0C:578500	DEFB of 3 bytes
EE0F:578700	DEFB of 3 bytes
EE12:57131A	DEFB of 3 bytes
EE15:571311	DEFB of 3 bytes
EE18:590100	DEFB of 3 bytes
EE1B:005784	DEFB of 3 bytes
EE1E:5F0C00	DEFB of 3 bytes
EE21:738C00	DEFB of 3 bytes
EE24:73121D	DEFB of 3 bytes
EE27:778401	DEFB of 3 bytes
EE2A:778500	DEFB of 3 bytes
EE2D:778700	DEFB of 3 bytes
EE30:810C01	DEFB of 3 bytes
EE33:840200	DEFB of 3 bytes
EE36:007784	DEFB of 3 bytes
EE39:8E8400	DEFB of 3 bytes
EE3C:8E8400	DEFB of 3 bytes
EE3F:8E8600	DEFB of 3 bytes
EE42:9EE400	DEFB of 3 bytes
EE45:9EE400	DEFB of 3 bytes
EE48:9EE600	DEFB of 3 bytes
EE4B:B00C00	DEFB of 3 bytes
PAKA_A		EQU 00B9
PAKA_B		EQU 00BA
PAKA_C		EQU 00BB
PAKA_D		EQU 00BC
EE4E:B90200	DEFB of 3 bytes
EE51:008E84	DEFB of 3 bytes
EE54:009EE4	DEFB of 3 bytes
EE57:00BA82	DEFB of 3 bytes
EE5A:00BB82	DEFB of 3 bytes
EE5D:00BC82	DEFB of 3 bytes
EE60:BA0200	DEFB of 3 bytes
EE63:009EC4	DEFB of 3 bytes
EE66:00BB82	DEFB of 3 bytes
EE69:BB0200	DEFB of 3 bytes
EE6C:009E64	DEFB of 3 bytes
EE6F:00BC82	DEFB of 3 bytes
EE72:BC0200	DEFB of 3 bytes
EE75:009EA4	DEFB of 3 bytes
EE78:00BA82	DEFB of 3 bytes
EE7B:D80100	DEFB of 3 bytes
		IF (false)
- defb      0,                           216,      ZAM_1 + TYP_PREPINAC + west    ; prepne i paku na druhe strane
		ENDIF
EE7E:00E884	DEFB of 3 bytes
EE81:D80300	DEFB of 3 bytes
		IF (false)
- defb      0,                           216,      ZAM_1 + TYP_PREPINAC + east    ; prepne i paku na druhe strane
		ENDIF
EE84:00E884	DEFB of 3 bytes
EE87:E88401	DEFB of 3 bytes
EE8A:E88500	DEFB of 3 bytes
EE8D:E88700	DEFB of 3 bytes
EE90:F60C01	DEFB of 3 bytes
EE93:F6101D	DEFB of 3 bytes
EE96:F6111C	DEFB of 3 bytes
EE99:F6121D	DEFB of 3 bytes
EE9C:F6131D	DEFB of 3 bytes
EE9F:FE0C00	DEFB of 3 bytes
EEA2:		label ZARAZKA
EEA2:FF		DEFB of 1 bytes
		End of INCLUDE
EEA3:		label END_CODE
		IF (false)
-     .error 'Kod preteka do zasobniku.'
		ENDIF
Emiting raw binary from 5F00 to EEA2
