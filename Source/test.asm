spritesStart	EQU 5F00
		INCLUDE sprites.h
Body_left	EQU 5F00
dno_bufferu	EQU 5FEA
D0		EQU 608F
D1		EQU 64CA
D2		EQU 66C5
D3		EQU 6826
ESA1		EQU 68A5
ES1		EQU 6ABE
ES2		EQU 6C61
ES3		EQU 6D5E
ES4		EQU 6DCA
FFace01		EQU 6E1B
FFace02		EQU 6EAE
FFace03		EQU 6F41
FFace04		EQU 6FD4
Flek		EQU 7067
H0		EQU 70DC
H0rune		EQU 779F
H1		EQU 77F6
H1rune		EQU 7AC9
H2		EQU 7AFC
H2rune		EQU 7C27
H3		EQU 7C46
H3rune		EQU 7CD9
H4		EQU 7CF0
H4m1		EQU 7DB3
H4m2		EQU 7E36
H4m3		EQU 7EE1
H4m4		EQU 7F74
H5		EQU 7FB7
I_ankh		EQU 8038
I_armor_ch	EQU 8071
I_armor_l	EQU 80AA
I_armor_p	EQU 80E3
I_axe		EQU 811C
I_bg		EQU 814D
I_bgm		EQU 8186
I_bone		EQU 81BF
I_book		EQU 81F8
I_boots		EQU 8231
I_bow		EQU 826A
I_bracers	EQU 829B
I_dagger	EQU 82D4
I_empty		EQU 82FD
I_helm		EQU 832E
I_helm_d	EQU 8367
I_mace		EQU 83A0
I_necklace	EQU 83D3
I_potion_b	EQU 83FC
I_potion_g	EQU 8425
I_potion_r	EQU 844E
I_prostirani	EQU 8477
I_ram		EQU 84B0
I_rations	EQU 84C9
I_ring		EQU 8502
I_ring_b	EQU 852B
I_ring_g	EQU 8564
I_ring_r	EQU 859D
I_ring_w	EQU 85D6
I_shield	EQU 860F
I_shield2	EQU 8648
I_sling		EQU 8681
I_sword		EQU 86B2
I_toulec	EQU 86E3
I_zakazano	EQU 870C
I0_armor	EQU 8745
I0_bone		EQU 883A
I0_unknwn	EQU 8935
I0_weapon	EQU 89AF
I1_armor	EQU 8A51
I1_bone		EQU 8ACC
I1_unknwn	EQU 8B51
I1_weapon	EQU 8B8A
I2_armor	EQU 8BEB
I2_bone		EQU 8C19
I2_unknwn	EQU 8C4F
I2_weapon	EQU 8C64
Kanal0		EQU 8C89
Kanal1		EQU 8DF4
Kanal2		EQU 8E99
Kanal3		EQU 8EE4
Kompas		EQU 8F0B
Komp_E		EQU 908D
Komp_N		EQU 912D
Komp_S		EQU 91CD
Komp_W		EQU 926D
K1m1		EQU 930D
K2m1		EQU 94A8
K3m1		EQU 9653
K4m2		EQU 9791
MFace01		EQU 9850
MFace02		EQU 98E3
MFace03		EQU 9976
MFace04		EQU 9A09
miss		EQU 9A9C
Pdl1		EQU 9B05
Pdl2		EQU 9B36
Pdl3		EQU 9B5D
Pd0		EQU 9B72
Pd1		EQU 9BE5
Pd2		EQU 9C44
Pd3		EQU 9C6B
Pul1		EQU 9C92
Pul2		EQU 9CCB
Pul3		EQU 9CFC
Pu0		EQU 9D11
Pu1		EQU 9D84
Pu2		EQU 9DE3
Pu3		EQU 9E1C
R0		EQU 9E3B
R1		EQU A25A
R1m1		EQU A64D
R2		EQU A6BC
R2m1		EQU A8AF
R3		EQU A992
R3m1		EQU AA73
R4		EQU AB34
S_doleva	EQU ABB7
S_doprava	EQU ABDE
S_dopredu	EQU AC05
S_dozadu	EQU AC2C
S_vlevo		EQU AC53
S_vpravo	EQU AC7A
S_vsechny	EQU ACA1
V0m1		EQU ADDF
V3m2		EQU AE60
V4m1		EQU AEF2
V4m3		EQU AF55
Seg_Screen	EQU 0040
Adr_Screen	EQU 4000
Seg_Attr_Screen	EQU 0058
Adr_Attr_Screen	EQU 5800
Seg_Buffer	EQU 00B0
Adr_Buffer	EQU B000
Seg_Attr_Buffer	EQU 00C8
Adr_Attr_Buffer	EQU C800
Adr_Buf_end	EQU CB00
		End of INCLUDE
		ORG 5F00
		INCBIN grafika.bin
progStart	EQU D000
		IF (false)
-     .error 'Pretikaji sprity do kodu!'
		ENDIF
		ORG D000
		INCLUDE zrcadlovy.h
D000:		label ZRCADLOVY
D000:00		DEFB of 1 bytes
D001:80		DEFB of 1 bytes
D002:40		DEFB of 1 bytes
D003:C0		DEFB of 1 bytes
D004:20		DEFB of 1 bytes
D005:A0		DEFB of 1 bytes
D006:60		DEFB of 1 bytes
D007:E0		DEFB of 1 bytes
D008:10		DEFB of 1 bytes
D009:90		DEFB of 1 bytes
D00A:50		DEFB of 1 bytes
D00B:D0		DEFB of 1 bytes
D00C:30		DEFB of 1 bytes
D00D:B0		DEFB of 1 bytes
D00E:70		DEFB of 1 bytes
D00F:F0		DEFB of 1 bytes
D010:08		DEFB of 1 bytes
D011:88		DEFB of 1 bytes
D012:48		DEFB of 1 bytes
D013:C8		DEFB of 1 bytes
D014:28		DEFB of 1 bytes
D015:A8		DEFB of 1 bytes
D016:68		DEFB of 1 bytes
D017:E8		DEFB of 1 bytes
D018:18		DEFB of 1 bytes
D019:98		DEFB of 1 bytes
D01A:58		DEFB of 1 bytes
D01B:D8		DEFB of 1 bytes
D01C:38		DEFB of 1 bytes
D01D:B8		DEFB of 1 bytes
D01E:78		DEFB of 1 bytes
D01F:F8		DEFB of 1 bytes
D020:04		DEFB of 1 bytes
D021:84		DEFB of 1 bytes
D022:44		DEFB of 1 bytes
D023:C4		DEFB of 1 bytes
D024:24		DEFB of 1 bytes
D025:A4		DEFB of 1 bytes
D026:64		DEFB of 1 bytes
D027:E4		DEFB of 1 bytes
D028:14		DEFB of 1 bytes
D029:94		DEFB of 1 bytes
D02A:54		DEFB of 1 bytes
D02B:D4		DEFB of 1 bytes
D02C:34		DEFB of 1 bytes
D02D:B4		DEFB of 1 bytes
D02E:74		DEFB of 1 bytes
D02F:F4		DEFB of 1 bytes
D030:0C		DEFB of 1 bytes
D031:8C		DEFB of 1 bytes
D032:4C		DEFB of 1 bytes
D033:CC		DEFB of 1 bytes
D034:2C		DEFB of 1 bytes
D035:AC		DEFB of 1 bytes
D036:6C		DEFB of 1 bytes
D037:EC		DEFB of 1 bytes
D038:1C		DEFB of 1 bytes
D039:9C		DEFB of 1 bytes
D03A:5C		DEFB of 1 bytes
D03B:DC		DEFB of 1 bytes
D03C:3C		DEFB of 1 bytes
D03D:BC		DEFB of 1 bytes
D03E:7C		DEFB of 1 bytes
D03F:FC		DEFB of 1 bytes
D040:02		DEFB of 1 bytes
D041:82		DEFB of 1 bytes
D042:42		DEFB of 1 bytes
D043:C2		DEFB of 1 bytes
D044:22		DEFB of 1 bytes
D045:A2		DEFB of 1 bytes
D046:62		DEFB of 1 bytes
D047:E2		DEFB of 1 bytes
D048:12		DEFB of 1 bytes
D049:92		DEFB of 1 bytes
D04A:52		DEFB of 1 bytes
D04B:D2		DEFB of 1 bytes
D04C:32		DEFB of 1 bytes
D04D:B2		DEFB of 1 bytes
D04E:72		DEFB of 1 bytes
D04F:F2		DEFB of 1 bytes
D050:0A		DEFB of 1 bytes
D051:8A		DEFB of 1 bytes
D052:4A		DEFB of 1 bytes
D053:CA		DEFB of 1 bytes
D054:2A		DEFB of 1 bytes
D055:AA		DEFB of 1 bytes
D056:6A		DEFB of 1 bytes
D057:EA		DEFB of 1 bytes
D058:1A		DEFB of 1 bytes
D059:9A		DEFB of 1 bytes
D05A:5A		DEFB of 1 bytes
D05B:DA		DEFB of 1 bytes
D05C:3A		DEFB of 1 bytes
D05D:BA		DEFB of 1 bytes
D05E:7A		DEFB of 1 bytes
D05F:FA		DEFB of 1 bytes
D060:06		DEFB of 1 bytes
D061:86		DEFB of 1 bytes
D062:46		DEFB of 1 bytes
D063:C6		DEFB of 1 bytes
D064:26		DEFB of 1 bytes
D065:A6		DEFB of 1 bytes
D066:66		DEFB of 1 bytes
D067:E6		DEFB of 1 bytes
D068:16		DEFB of 1 bytes
D069:96		DEFB of 1 bytes
D06A:56		DEFB of 1 bytes
D06B:D6		DEFB of 1 bytes
D06C:36		DEFB of 1 bytes
D06D:B6		DEFB of 1 bytes
D06E:76		DEFB of 1 bytes
D06F:F6		DEFB of 1 bytes
D070:0E		DEFB of 1 bytes
D071:8E		DEFB of 1 bytes
D072:4E		DEFB of 1 bytes
D073:CE		DEFB of 1 bytes
D074:2E		DEFB of 1 bytes
D075:AE		DEFB of 1 bytes
D076:6E		DEFB of 1 bytes
D077:EE		DEFB of 1 bytes
D078:1E		DEFB of 1 bytes
D079:9E		DEFB of 1 bytes
D07A:5E		DEFB of 1 bytes
D07B:DE		DEFB of 1 bytes
D07C:3E		DEFB of 1 bytes
D07D:BE		DEFB of 1 bytes
D07E:7E		DEFB of 1 bytes
D07F:FE		DEFB of 1 bytes
D080:01		DEFB of 1 bytes
D081:81		DEFB of 1 bytes
D082:41		DEFB of 1 bytes
D083:C1		DEFB of 1 bytes
D084:21		DEFB of 1 bytes
D085:A1		DEFB of 1 bytes
D086:61		DEFB of 1 bytes
D087:E1		DEFB of 1 bytes
D088:11		DEFB of 1 bytes
D089:91		DEFB of 1 bytes
D08A:51		DEFB of 1 bytes
D08B:D1		DEFB of 1 bytes
D08C:31		DEFB of 1 bytes
D08D:B1		DEFB of 1 bytes
D08E:71		DEFB of 1 bytes
D08F:F1		DEFB of 1 bytes
D090:09		DEFB of 1 bytes
D091:89		DEFB of 1 bytes
D092:49		DEFB of 1 bytes
D093:C9		DEFB of 1 bytes
D094:29		DEFB of 1 bytes
D095:A9		DEFB of 1 bytes
D096:69		DEFB of 1 bytes
D097:E9		DEFB of 1 bytes
D098:19		DEFB of 1 bytes
D099:99		DEFB of 1 bytes
D09A:59		DEFB of 1 bytes
D09B:D9		DEFB of 1 bytes
D09C:39		DEFB of 1 bytes
D09D:B9		DEFB of 1 bytes
D09E:79		DEFB of 1 bytes
D09F:F9		DEFB of 1 bytes
D0A0:05		DEFB of 1 bytes
D0A1:85		DEFB of 1 bytes
D0A2:45		DEFB of 1 bytes
D0A3:C5		DEFB of 1 bytes
D0A4:25		DEFB of 1 bytes
D0A5:A5		DEFB of 1 bytes
D0A6:65		DEFB of 1 bytes
D0A7:E5		DEFB of 1 bytes
D0A8:15		DEFB of 1 bytes
D0A9:95		DEFB of 1 bytes
D0AA:55		DEFB of 1 bytes
D0AB:D5		DEFB of 1 bytes
D0AC:35		DEFB of 1 bytes
D0AD:B5		DEFB of 1 bytes
D0AE:75		DEFB of 1 bytes
D0AF:F5		DEFB of 1 bytes
D0B0:0D		DEFB of 1 bytes
D0B1:8D		DEFB of 1 bytes
D0B2:4D		DEFB of 1 bytes
D0B3:CD		DEFB of 1 bytes
D0B4:2D		DEFB of 1 bytes
D0B5:AD		DEFB of 1 bytes
D0B6:6D		DEFB of 1 bytes
D0B7:ED		DEFB of 1 bytes
D0B8:1D		DEFB of 1 bytes
D0B9:9D		DEFB of 1 bytes
D0BA:5D		DEFB of 1 bytes
D0BB:DD		DEFB of 1 bytes
D0BC:3D		DEFB of 1 bytes
D0BD:BD		DEFB of 1 bytes
D0BE:7D		DEFB of 1 bytes
D0BF:FD		DEFB of 1 bytes
D0C0:03		DEFB of 1 bytes
D0C1:83		DEFB of 1 bytes
D0C2:43		DEFB of 1 bytes
D0C3:C3		DEFB of 1 bytes
D0C4:23		DEFB of 1 bytes
D0C5:A3		DEFB of 1 bytes
D0C6:63		DEFB of 1 bytes
D0C7:E3		DEFB of 1 bytes
D0C8:13		DEFB of 1 bytes
D0C9:93		DEFB of 1 bytes
D0CA:53		DEFB of 1 bytes
D0CB:D3		DEFB of 1 bytes
D0CC:33		DEFB of 1 bytes
D0CD:B3		DEFB of 1 bytes
D0CE:73		DEFB of 1 bytes
D0CF:F3		DEFB of 1 bytes
D0D0:0B		DEFB of 1 bytes
D0D1:8B		DEFB of 1 bytes
D0D2:4B		DEFB of 1 bytes
D0D3:CB		DEFB of 1 bytes
D0D4:2B		DEFB of 1 bytes
D0D5:AB		DEFB of 1 bytes
D0D6:6B		DEFB of 1 bytes
D0D7:EB		DEFB of 1 bytes
D0D8:1B		DEFB of 1 bytes
D0D9:9B		DEFB of 1 bytes
D0DA:5B		DEFB of 1 bytes
D0DB:DB		DEFB of 1 bytes
D0DC:3B		DEFB of 1 bytes
D0DD:BB		DEFB of 1 bytes
D0DE:7B		DEFB of 1 bytes
D0DF:FB		DEFB of 1 bytes
D0E0:07		DEFB of 1 bytes
D0E1:87		DEFB of 1 bytes
D0E2:47		DEFB of 1 bytes
D0E3:C7		DEFB of 1 bytes
D0E4:27		DEFB of 1 bytes
D0E5:A7		DEFB of 1 bytes
D0E6:67		DEFB of 1 bytes
D0E7:E7		DEFB of 1 bytes
D0E8:17		DEFB of 1 bytes
D0E9:97		DEFB of 1 bytes
D0EA:57		DEFB of 1 bytes
D0EB:D7		DEFB of 1 bytes
D0EC:37		DEFB of 1 bytes
D0ED:B7		DEFB of 1 bytes
D0EE:77		DEFB of 1 bytes
D0EF:F7		DEFB of 1 bytes
D0F0:0F		DEFB of 1 bytes
D0F1:8F		DEFB of 1 bytes
D0F2:4F		DEFB of 1 bytes
D0F3:CF		DEFB of 1 bytes
D0F4:2F		DEFB of 1 bytes
D0F5:AF		DEFB of 1 bytes
D0F6:6F		DEFB of 1 bytes
D0F7:EF		DEFB of 1 bytes
D0F8:1F		DEFB of 1 bytes
D0F9:9F		DEFB of 1 bytes
D0FA:5F		DEFB of 1 bytes
D0FB:DF		DEFB of 1 bytes
D0FC:3F		DEFB of 1 bytes
D0FD:BF		DEFB of 1 bytes
D0FE:7F		DEFB of 1 bytes
D0FF:FF		DEFB of 1 bytes
		End of INCLUDE
		INCLUDE map.h
BIT_NEPRUCHOZI	EQU 0000
BIT_STENA	EQU 0001
D100:		label DUNGEON_MAP
D100:03030303	DEFB of 16 bytes
D104:03030203
D108:03030303
D10C:03030303
D110:00000300	DEFB of 16 bytes
D114:00000003
D118:00000003
D11C:00000003
D120:00000300	DEFB of 16 bytes
D124:00030000
D128:00030003
D12C:00030003
D130:00000000	DEFB of 16 bytes
D134:00000303
D138:03000000
D13C:00030003
D140:00000000	DEFB of 16 bytes
D144:00000303
D148:00000303
D14C:00030003
D150:00000000	DEFB of 16 bytes
D154:00000300
D158:00030000
D15C:00030003
D160:00000000	DEFB of 16 bytes
D164:00030303
D168:03000003
D16C:00030003
D170:03000002	DEFB of 16 bytes
D174:00000000
D178:00000000
D17C:00030003
D180:03020303	DEFB of 16 bytes
D184:03030303
D188:03030003
D18C:03030003
D190:03000000	DEFB of 16 bytes
D194:00000000
D198:03000000
D19C:00030003
D1A0:03000300	DEFB of 16 bytes
D1A4:03000000
D1A8:03000000
D1AC:00030003
D1B0:03000000	DEFB of 16 bytes
D1B4:00000000
D1B8:03030303
D1BC:03030003
D1C0:03000300	DEFB of 16 bytes
D1C4:03000000
D1C8:03000000
D1CC:03030000
D1D0:03000000	DEFB of 16 bytes
D1D4:00000000
D1D8:03000000
D1DC:00000000
D1E0:03000000	DEFB of 16 bytes
D1E4:00000000
D1E8:00000000
D1EC:03030000
D1F0:03030303	DEFB of 16 bytes
D1F4:03030203
D1F8:03030303
D1FC:03030303
sirka		EQU 0010
		End of INCLUDE
dopredu		EQU 0000
dozadu		EQU 0004
vlevo		EQU 0008
vpravo		EQU 000C
D200:		label VEKTORY_POHYBU
D200:F00110FF	DEFB of 4 bytes
D204:10FFF001	DEFB of 4 bytes
D208:FFF00110	DEFB of 4 bytes
D20C:0110FFF0	DEFB of 4 bytes
		IF (false)
-     .error      'Seznam VEKTORY_POHYBU neleze na zacatku segmentu!'
		ENDIF
PRIZNAK_OTEVRENY_INVENTAR EQU 0001
D210:		label PRIZNAKY
D210:00		DEFB of 1 bytes
D211:		label MAIN
D211:CD8DEA	CALL EA8D
D214:F3		DI
D215:ED56	IM 1
D217:FB		EI
D218:3E0C	LD A, 0C
D21A:21095C	LD HL, 5C09
D21D:77		LD (HL), A
D21E:2D		DEC L
D21F:3600	LD (HL), 00
D221:010420	LD BC, 2004
D224:21805A	LD HL, 5A80
D227:CDDFEB	CALL EBDF
D22A:CD54EB	CALL EB54
D22D:CD41E8	CALL E841
D230:		label MAIN_LOOP
D230:110B8F	LD DE, 8F0B
D233:010F07	LD BC, 070F
D236:CD91E0	CALL E091
D239:CD12E7	CALL E712
D23C:CD11E8	CALL E811
D23F:2003	JR NZ, D244
D241:CDF3EC	CALL ECF3
D244:		label MAIN_OTEVRENY_INVENTAR
D244:CD71EB	CALL EB71
D247:11A1AC	LD DE, ACA1
D24A:010F00	LD BC, 000F
D24D:CD91E0	CALL E091
D250:CD10ED	CALL ED10
D253:CDB7EA	CALL EAB7
D256:CDEAE2	CALL E2EA
D259:C330D2	JP D230
D25C:		label POSTAVA_PLUS
D25C:2173D4	LD HL, D473
D25F:7E		LD A, (HL)
D260:2B		DEC HL
D261:34		INC (HL)
D262:96		SUB (HL)
D263:C0		RET NZ
D264:77		LD (HL), A
D265:C9		RET
D266:		label POSTAVA_MINUS
D266:2173D4	LD HL, D473
D269:7E		LD A, (HL)
D26A:2B		DEC HL
D26B:35		DEC (HL)
D26C:F0		RET P
D26D:3D		DEC A
D26E:77		LD (HL), A
D26F:C9		RET
		INCLUDE input.h
TIMER_ADR	EQU 5C78
LAST_KEY_ADR	EQU 5C08
REPEAT_READING_JOY EQU 0006
JOY_PORT	EQU 001F
FLOP_BIT_ATTACK	EQU 0040
KEY_DOPREDU	EQU 0077
KEY_DOZADU	EQU 0073
KEY_VLEVO	EQU 0061
KEY_VPRAVO	EQU 0064
KEY_DOLEVA	EQU 0071
KEY_DOPRAVA	EQU 0065
KEY_SPACE	EQU 0020
KEY_INVENTAR	EQU 0069
KEY_FHAND	EQU 0072
KEY_SHAND	EQU 0066
KEY_PLUS	EQU 006B
KEY_MINUS	EQU 006A
stisknuto_dopredu EQU 0000
stisknuto_dozadu EQU 0001
stisknuto_vlevo	EQU 0002
stisknuto_vpravo EQU 0003
D270:		label DATA_KEMPSTON
D270:0164	DEFB of 2 bytes
D272:0261	DEFB of 2 bytes
D274:0965	DEFB of 2 bytes
D276:0A71	DEFB of 2 bytes
D278:0473	DEFB of 2 bytes
D27A:0877	DEFB of 2 bytes
D27C:1020	DEFB of 2 bytes
D27E:0569	DEFB of 2 bytes
D280:0669	DEFB of 2 bytes
D282:116B	DEFB of 2 bytes
D284:126A	DEFB of 2 bytes
D286:1872	DEFB of 2 bytes
D288:1466	DEFB of 2 bytes
D28A:		label DATA_KEMPSTON_END
D28A:00		DEFB of 1 bytes
DATA_KEMPSTON_SUM EQU 000D
		End of INCLUDE
D28B:		label BOJ
		IF (true)
D28B:D672	SUB 72
		ELSE (false)
-     add     256-KEY_SHAND               ; carry pokud KEY_SHAND
		ENDIF
D28D:3A72D4	LD A, (D472)
D290:8F		ADC A, A
D291:CD63EA	CALL EA63
D294:42		LD B, D
D295:4B		LD C, E
D296:119C9A	LD DE, 9A9C
D299:CD6EE0	CALL E06E
D29C:CD91E0	CALL E091
D29F:CD5DE0	CALL E05D
D2A2:C9		RET
		ORG D300
		INCLUDE font.h
D300:		label PISMO_5PX
D300:00000000	DEFB of 5 bytes
D304:00
D305:003A0000	DEFB of 5 bytes
D309:00
D30A:00600060	DEFB of 5 bytes
D30E:00
D30F:143E143E	DEFB of 5 bytes
D313:14
D314:00122A6B	DEFB of 5 bytes
D318:24
D319:32340816	DEFB of 5 bytes
D31D:26
D31E:00143A14	DEFB of 5 bytes
D322:0A
D323:00006000	DEFB of 5 bytes
D327:00
D328:00003C42	DEFB of 5 bytes
D32C:00
D32D:0000423C	DEFB of 5 bytes
D331:00
D332:00140814	DEFB of 5 bytes
D336:00
D337:00081C08	DEFB of 5 bytes
D33B:00
D33C:00020400	DEFB of 5 bytes
D340:00
D341:00080808	DEFB of 5 bytes
D345:00
D346:00020000	DEFB of 5 bytes
D34A:00
D34B:02040810	DEFB of 5 bytes
D34F:20
D350:001C262A	DEFB of 5 bytes
D354:1C
D355:00123E02	DEFB of 5 bytes
D359:00
D35A:00262A2A	DEFB of 5 bytes
D35E:12
D35F:00222A2A	DEFB of 5 bytes
D363:14
D364:003C040E	DEFB of 5 bytes
D368:04
D369:003A2A2A	DEFB of 5 bytes
D36D:24
D36E:001C2A2A	DEFB of 5 bytes
D372:04
D373:00202628	DEFB of 5 bytes
D377:30
D378:00142A2A	DEFB of 5 bytes
D37C:14
D37D:00102A2A	DEFB of 5 bytes
D381:1C
D382:00001400	DEFB of 5 bytes
D386:00
D387:00021400	DEFB of 5 bytes
D38B:00
D38C:00081422	DEFB of 5 bytes
D390:00
D391:00141414	DEFB of 5 bytes
D395:00
D396:00221408	DEFB of 5 bytes
D39A:00
D39B:0010202A	DEFB of 5 bytes
D39F:10
D3A0:001C223A	DEFB of 5 bytes
D3A4:1A
D3A5:001E2828	DEFB of 5 bytes
D3A9:1E
D3AA:003E2A2A	DEFB of 5 bytes
D3AE:14
D3AF:001C2222	DEFB of 5 bytes
D3B3:22
D3B4:003E2222	DEFB of 5 bytes
D3B8:1C
D3B9:003E2A2A	DEFB of 5 bytes
D3BD:22
D3BE:003E2828	DEFB of 5 bytes
D3C2:20
D3C3:001C222A	DEFB of 5 bytes
D3C7:0C
D3C8:003E0808	DEFB of 5 bytes
D3CC:3E
D3CD:00223E22	DEFB of 5 bytes
D3D1:00
D3D2:00040202	DEFB of 5 bytes
D3D6:3C
D3D7:003E0814	DEFB of 5 bytes
D3DB:22
D3DC:003E0202	DEFB of 5 bytes
D3E0:02
D3E1:003E1010	DEFB of 5 bytes
D3E5:3E
D3E6:003E1008	DEFB of 5 bytes
D3EA:3E
D3EB:001C2222	DEFB of 5 bytes
D3EF:1C
D3F0:003E2828	DEFB of 5 bytes
D3F4:10
D3F5:001C2226	DEFB of 5 bytes
D3F9:1E
D3FA:003E2828	DEFB of 5 bytes
D3FE:16
D3FF:00122A2A	DEFB of 5 bytes
D403:24
D404:00203E20	DEFB of 5 bytes
D408:20
D409:003C0202	DEFB of 5 bytes
D40D:3C
D40E:003E0204	DEFB of 5 bytes
D412:38
D413:003E0404	DEFB of 5 bytes
D417:3E
D418:00360808	DEFB of 5 bytes
D41C:36
D41D:00380608	DEFB of 5 bytes
D421:30
D422:00262A2A	DEFB of 5 bytes
D426:32
D427:00007E42	DEFB of 5 bytes
D42B:00
D42C:20100804	DEFB of 5 bytes
D430:02
D431:0000427E	DEFB of 5 bytes
D435:00
D436:10204020	DEFB of 5 bytes
D43A:10
D43B:00020202	DEFB of 5 bytes
D43F:02
D440:00083E4A	DEFB of 5 bytes
D444:22
		IF (false)
-     .error 'Adresa pocatku fontu PISMO_5PX nelezi na pocatku segmentu'
		ENDIF
		End of INCLUDE
		INCLUDE typy.h
MASKA_PREPINACE	EQU 00E0
ZAM_1		EQU 0080
ZAM_2		EQU 0040
ZAM_3		EQU 0020
ZAM_12		EQU 00C0
ZAM_13		EQU 00A0
ZAM_23		EQU 0060
ZAM_123		EQU 00E0
MASKA_TYP	EQU 001C
MASKA_NATOCENI	EQU 0003
MASKA_PODTYP	EQU 001F
ODEMCENO	EQU 0000
POSUN_TYP	EQU 0004
POSUN_PODTYP	EQU 0001
TYP_PREPINAC	EQU 0000
PODTYP_PAKA	EQU 0000
PODTYP_TLACITKO	EQU 0001
PODTYP_TAJNE_TLACITKO EQU 0002
PODTYP_ZAMEK	EQU 0003
TYP_DVERE	EQU 0004
TYP_ENEMY	EQU 0008
PODTYP_SKRET	EQU 0000
PODTYP_PAVOUK	EQU 0001
PODTYP_TRPASLIK	EQU 0002
PODTYP_NEMRTVY	EQU 0003
TYP_DEKORACE	EQU 000C
PODTYP_KANAL	EQU 0000
PODTYP_RUNA	EQU 0001
PODTYP_RAM	EQU 0002
TYP_ITEM	EQU 0010
PODTYP_EMPTY	EQU 0000
PODTYP_RING	EQU 0001
PODTYP_RING_R	EQU 0002
PODTYP_RING_G	EQU 0003
PODTYP_RING_B	EQU 0004
PODTYP_RING_W	EQU 0005
PODTYP_HELM	EQU 0006
PODTYP_HELM_D	EQU 0007
PODTYP_NECKLACE	EQU 0008
PODTYP_ARMOR	EQU 0009
PODTYP_ARMOR_CH	EQU 000A
PODTYP_ARMOR_L	EQU 000B
PODTYP_ARMOR_P	EQU 000C
PODTYP_ARROW	EQU 000D
PODTYP_BRACERS	EQU 000E
PODTYP_BOOTS	EQU 000F
PODTYP_ANKH	EQU 0010
PODTYP_AXE	EQU 0011
PODTYP_BOOK	EQU 0012
PODTYP_BOW	EQU 0013
PODTYP_DAGGER	EQU 0014
PODTYP_MACE	EQU 0015
PODTYP_SHIELD	EQU 0016
PODTYP_SHIELD2	EQU 0017
PODTYP_SLING	EQU 0018
PODTYP_SWORD	EQU 0019
PODTYP_BONE	EQU 001A
PODTYP_FOOD	EQU 001B
PODTYP_POTION_R	EQU 001C
PODTYP_POTION_G	EQU 001D
PODTYP_POTION_B	EQU 001E
FOOD_HEALING	EQU 0014
		End of INCLUDE
		INCLUDE move.h
north		EQU 0000
east		EQU 0001
south		EQU 0002
west		EQU 0003
D445:		label LOCATION
D445:34		DEFB of 1 bytes
D446:		label VECTOR
D446:00		DEFB of 1 bytes
D447:		label POHYB
D447:00		DEFB of 1 bytes
D448:		label POSUN_VLEVO_INVENTAREM
D448:02F1	DEFB of 2 bytes
D44A:031B	DEFB of 2 bytes
D44C:051A	DEFB of 2 bytes
D44E:0619	DEFB of 2 bytes
D450:0714	DEFB of 2 bytes
D452:080F	DEFB of 2 bytes
D454:15F8	DEFB of 2 bytes
D456:17F9	DEFB of 2 bytes
D458:1BFB	DEFB of 2 bytes
D45A:1DFD	DEFB of 2 bytes
D45C:1FFE	DEFB of 2 bytes
D45E:		label POSUN_VPRAVO_INVENTAREM
D45E:0D08	DEFB of 2 bytes
D460:1107	DEFB of 2 bytes
D462:1206	DEFB of 2 bytes
D464:1605	DEFB of 2 bytes
D466:1710	DEFB of 2 bytes
D468:1804	DEFB of 2 bytes
D46A:1A03	DEFB of 2 bytes
D46C:1B0B	DEFB of 2 bytes
D46E:1D02	DEFB of 2 bytes
D470:1F05	DEFB of 2 bytes
D472:		label POSUN_VLEVO_INVENTAREM_END
		End of INCLUDE
		IF (false)
		ENDIF
		INCLUDE objects.h
KONTROLUJ_NATOCENI_U_PREPINACU EQU 0000
NEXT_PAKA	EQU 0078
PAKA_DOWN	EQU 003C
NEXT_ENEMY	EQU 0048
		IF (false)
- i_ld        equ     0       ; predmet vidim jako levy-dal
- i_pd        equ     2       ; predmet vidim jako pravy-dal
- i_pb        equ     4       ; predmet vidim jako pravy-bliz
- i_lb        equ     6       ; predmet vidim jako levy-bliz
		ENDIF
D472:		label HLAVNI_POSTAVA
D472:00		DEFB of 1 bytes
D473:		label SUM_POSTAV
D473:06		DEFB of 1 bytes
D474:		label BORDER
D474:00		DEFB of 1 bytes
D475:		label POZICE_RUKOU
D475:0116	DEFW of 1 words
D477:0316	DEFW of 1 words
D479:011D	DEFW of 1 words
D47B:031D	DEFW of 1 words
D47D:0816	DEFW of 1 words
D47F:0A16	DEFW of 1 words
D481:081D	DEFW of 1 words
D483:0A1D	DEFW of 1 words
D485:0F16	DEFW of 1 words
D487:1116	DEFW of 1 words
D489:0F1D	DEFW of 1 words
D48B:111D	DEFW of 1 words
D48D:		label POZICE_RUKOU_END
SIPKY_POZICE	EQU 000F
KOMPAS_POZICE	EQU 070F
D48D:		label AVATARS
D48D:E3980112	DEFW of 4 words
D491:AE6E0119
D495:416F0812	DEFW of 4 words
D499:D46F0819
D49D:50980F12	DEFW of 4 words
D4A1:1B6E0F19
D4A5:		label KOMPAS
D4A5:0B8F0F07	DEFW of 2 words
D4A9:		label SIPKY
D4A9:A1AC0F00	DEFW of 2 words
D4AD:		label STISKNUTA_SIPKA
D4AD:05AC0F03	DEFW of 2 words
D4B1:2CAC1103	DEFW of 2 words
D4B5:53AC1101	DEFW of 2 words
D4B9:7AAC1105	DEFW of 2 words
D4BD:B7AB0F01	DEFW of 2 words
D4C1:DEAB0F05	DEFW of 2 words
D4C5:00000000	DEFW of 2 words
D4C9:		label SIPKY_END
SIPKA_DOPREDU	EQU 0000
SIPKA_DOZADU	EQU 0004
SIPKA_VLEVO	EQU 0008
SIPKA_VPRAVO	EQU 000C
SIPKA_OTOCDOLEVA EQU 0010
SIPKA_OTOCDOPRAVA EQU 0014
SIPKA_NIC	EQU 0018
D4C9:		label RUZICE
D4C9:2D910F08	DEFW of 2 words
D4CD:8D900F08	DEFW of 2 words
D4D1:CD910F08	DEFW of 2 words
D4D5:6D920F08	DEFW of 2 words
D4D9:		label RUZICE_END
ENEMY_ATTACK_DISTANCE EQU 000C
D4D9:		label ENEMY_GROUP
D4D9:00000000	DEFW of 12 words
D4DD:00000000
D4E1:00000000
D4E5:00000000
D4E9:00000000
D4ED:00000000
D4F1:0503050A	DEFW of 12 words
D4F5:04040409
D4F9:05110000
D4FD:04100000
D501:000005FC
D505:000004FD
D509:0505050A	DEFW of 12 words
D50D:04060409
D511:050F0000
D515:040E0000
D519:00000500
D51D:00000401
D521:05060509	DEFW of 12 words
D525:05070508
D529:050D050F
D52D:050C050E
D531:05000502
D535:05010503
D539:FB080409	DEFW of 12 words
D53D:FB09FB0A
D541:FB0CFB0E
D545:040AFB0D
D549:04030405
D54D:0404FB07
D551:		label DIV_6
D551:00000000	DEFW of 6 words
D555:00000000
D559:00000000
D55D:02000200	DEFW of 6 words
D561:02000200
D565:02000200
D569:04000400	DEFW of 6 words
D56D:04000400
D571:04000400
D575:06000600	DEFW of 6 words
D579:06000600
D57D:06000600
D581:08000800	DEFW of 6 words
D585:08000800
D589:08000800
D58D:		label ITEM_POZICE
D58D:0C00F311	DEFW of 12 words
D591:00000000
D595:00000000
D599:00000000
D59D:00000000
D5A1:00000000
D5A5:0A04F50D	DEFW of 12 words
D5A9:F40E0B03
D5AD:0A100000
D5B1:00000B11
D5B5:0000F501
D5B9:F4000000
D5BD:0806F70B	DEFW of 12 words
D5C1:F60C0905
D5C5:080DF712
D5C9:F613090E
D5CD:08FFF704
D5D1:F60309FE
D5D5:00000000	DEFW of 12 words
D5D9:00000000
D5DD:00000000
D5E1:00000000
D5E5:00000000
D5E9:00000000
D5ED:00000000	DEFW of 12 words
D5F1:00000000
D5F5:00000000
D5F9:00000000
D5FD:00000000
D601:00000000
MAX_VIDITELNOST_PREDMETU_PLUS_1 EQU 003C
		End of INCLUDE
		INCLUDE inventory.h
MAX_INVENTORY	EQU 001F
MAX_HOLD_INVENTORY EQU 001B
COLOR_OTHER_PLAYERS EQU 0007
COLOR_ACTIVE_PLAYER EQU 0003
D605:		label INVENTORY_ITEMS
D605:0C161B1B	DEFB of 16 bytes
D609:10000000
D60D:00000000
D611:00000000
D615:0007000A	DEFB of 15 bytes
D619:11000F00
D61D:00160405
D621:040302
D624:1B140000	DEFB of 16 bytes
D628:10000000
D62C:00000000
D630:00000000
D634:0006080C	DEFB of 15 bytes
D638:19020000
D63C:0E160000
D640:000000
D643:1C1C1D1E	DEFB of 16 bytes
D647:10000000
D64B:14000000
D64F:00000000
D653:0000080B	DEFB of 15 bytes
D657:15000F00
D65B:00100000
D65F:000000
D662:14171B00	DEFB of 16 bytes
D666:18000000
D66A:00000000
D66E:00000000
D672:00000000	DEFB of 15 bytes
D676:14050F00
D67A:00140000
D67E:000000
D681:14160000	DEFB of 16 bytes
D685:1A000000
D689:00000013
D68D:00000000
D691:00000000	DEFB of 15 bytes
D695:13000000
D699:00000000
D69D:000000
D6A0:14160000	DEFB of 16 bytes
D6A4:00000015
D6A8:00000000
D6AC:00000000
D6B0:00000800	DEFB of 15 bytes
D6B4:00030000
D6B8:00120100
D6BC:000000
D6BF:		label INVENTORY_ITEMS_END
D6BF:		label ITEM2SPRITE
D6BF:0000	DEFW of 1 words
D6C1:0285	DEFW of 1 words
D6C3:9D85	DEFW of 1 words
D6C5:6485	DEFW of 1 words
D6C7:2B85	DEFW of 1 words
D6C9:D685	DEFW of 1 words
MAX_RING_PLUS_1	EQU 0006
D6CB:2E83	DEFW of 1 words
D6CD:6783	DEFW of 1 words
D6CF:D383	DEFW of 1 words
MIN_ARMOR	EQU 0009
D6D1:0000	DEFW of 1 words
D6D3:7180	DEFW of 1 words
D6D5:AA80	DEFW of 1 words
D6D7:E380	DEFW of 1 words
MAX_ARMOR_PLUS_1 EQU 000D
D6D9:0000	DEFW of 1 words
D6DB:9B82	DEFW of 1 words
D6DD:3182	DEFW of 1 words
D6DF:3880	DEFW of 1 words
D6E1:1C81	DEFW of 1 words
D6E3:F881	DEFW of 1 words
D6E5:6A82	DEFW of 1 words
D6E7:D482	DEFW of 1 words
D6E9:A083	DEFW of 1 words
D6EB:0F86	DEFW of 1 words
D6ED:4886	DEFW of 1 words
D6EF:8186	DEFW of 1 words
D6F1:B286	DEFW of 1 words
D6F3:BF81	DEFW of 1 words
MIN_FOOD	EQU 001B
D6F5:C984	DEFW of 1 words
D6F7:4E84	DEFW of 1 words
D6F9:2584	DEFW of 1 words
D6FB:FC83	DEFW of 1 words
D6FD:		label ITEM2SPRITE_END
D6FD:		label PRESOUVANY_PREDMET
D6FD:00		DEFB of 1 bytes
D6FE:		label KURZOR_V_INVENTARI
D6FE:00		DEFB of 1 bytes
POZICE_PROSTIRANI EQU 1904
POZICE_HLAVA	EQU 1A07
POZICE_NAHRDELNIK EQU 1A09
POZICE_BRNENI	EQU 1A0B
POZICE_LPRSTEN	EQU 1810
POZICE_BOTY	EQU 1A12
POZICE_TOULEC	EQU 1D09
POZICE_NATEPNIK	EQU 1D0B
POZICE_PPRSTEN	EQU 1C10
D6FF:		label POZICE_V_INVENTARI
D6FF:04120612	DEFW of 8 words
D703:08120A12
D707:0C120E12
D70B:10121212
D70F:04150615	DEFW of 8 words
D713:08150A15
D717:0C150E15
D71B:10151215
D71F:		label PROSTIRANI
D71F:0419	DEFW of 1 words
D721:071A	DEFW of 1 words
D723:091A	DEFW of 1 words
D725:0B1A	DEFW of 1 words
D727:0D18	DEFW of 1 words
D729:1018	DEFW of 1 words
D72B:121A	DEFW of 1 words
D72D:091D	DEFW of 1 words
D72F:0B1D	DEFW of 1 words
D731:0D1C	DEFW of 1 words
D733:101C	DEFW of 1 words
D735:		label POZICE_V_INVENTARI_HOLD_END
D735:0B04	DEFW of 1 words
D737:0D02	DEFW of 1 words
D739:0B0B	DEFW of 1 words
D73B:0D0D	DEFW of 1 words
D73D:		label POZICE_V_INVENTARI_END
INDEX_PROSTIRANI EQU 0011
INDEX_HLAVA	EQU 0012
INDEX_NAHRDELNIK EQU 0013
INDEX_BRNENI	EQU 0014
INDEX_LRUKA	EQU 0015
INDEX_LPRSTEN	EQU 0016
INDEX_BOTY	EQU 0017
INDEX_TOULEC	EQU 0018
INDEX_NATEPNIK	EQU 0019
INDEX_PRUKA	EQU 001A
INDEX_PPRSTEN	EQU 001B
INDEX_ZEM_LU_M1	EQU 001B
INDEX_ZEM_LD_M1	EQU 001C
INDEX_ZEM_RU_M1	EQU 001D
INDEX_ZEM_RD_M1	EQU 001E
D73D:		label POVOLENE_POZICE
D73D:16		DEFB of 1 bytes
D73E:16		DEFB of 1 bytes
D73F:16		DEFB of 1 bytes
D740:16		DEFB of 1 bytes
D741:16		DEFB of 1 bytes
D742:12		DEFB of 1 bytes
D743:12		DEFB of 1 bytes
D744:13		DEFB of 1 bytes
D745:14		DEFB of 1 bytes
D746:14		DEFB of 1 bytes
D747:14		DEFB of 1 bytes
D748:14		DEFB of 1 bytes
D749:18		DEFB of 1 bytes
D74A:19		DEFB of 1 bytes
D74B:17		DEFB of 1 bytes
D74C:15		DEFB of 1 bytes
D74D:15		DEFB of 1 bytes
D74E:15		DEFB of 1 bytes
D74F:15		DEFB of 1 bytes
D750:15		DEFB of 1 bytes
D751:15		DEFB of 1 bytes
D752:15		DEFB of 1 bytes
D753:15		DEFB of 1 bytes
D754:15		DEFB of 1 bytes
D755:15		DEFB of 1 bytes
D756:15		DEFB of 1 bytes
D757:11		DEFB of 1 bytes
D758:11		DEFB of 1 bytes
D759:11		DEFB of 1 bytes
D75A:11		DEFB of 1 bytes
D75B:		label POVOLENE_POZICE_END
D75B:		label DATA_ZIVOTY
D75B:848401B4	DEFB of 7 bytes
D75F:C80000
D762:5A5A01BB	DEFB of 7 bytes
D766:C80000
D769:40400194	DEFB of 7 bytes
D76D:C90000
D770:2828019B	DEFB of 7 bytes
D774:C90000
D777:2E2E0174	DEFB of 7 bytes
D77B:CA0000
D77E:2828017B	DEFB of 7 bytes
D782:CA0000
D785:		label DATA_ZIVOTY_END
		End of INCLUDE
		INCLUDE draw3D.h
D785:		label TABLE_VIEW_9_DEPTH_4
D785:747FFC11	DEFW of 8 words
D789:00000000
D78D:747F0300
D791:00000000
D795:E17EFC11	DEFW of 8 words
D799:00000000
D79D:E17E0300
D7A1:00000000
D7A5:367EFC0F	DEFW of 8 words
D7A9:00000000
D7AD:367E0302
D7B1:00000000
D7B5:B37DFC0C	DEFW of 10 words
D7B9:00000000
D7BD:B37D0305
D7C1:00000000
D7C5:F07C0307
D7C9:		label TABLE_VIEW_7_DEPTH_3
D7C9:55AFFC11	DEFW of 8 words
D7CD:00000000
D7D1:55AF0300
D7D5:00000000
D7D9:9197FC11	DEFW of 8 words
D7DD:00000000
D7E1:91970300
D7E5:00000000
D7E9:467CFC0E	DEFW of 10 words
D7ED:F2AEFC0B
D7F1:467C0303
D7F5:F2AE0306
D7F9:467C0307
D7FD:		label TABLE_VIEW_5_DEPTH_2
D7FD:60AEFC11	DEFW of 8 words
D801:00000000
D805:60AE0300
D809:00000000
D80D:5396FC11	DEFW of 10 words
D811:00000000
D815:53960300
D819:00000000
D81D:FC7A0305
D821:		label TABLE_DEPTH_1
D821:A894FD11	DEFW of 10 words
D825:00000000
D829:A8940200
D82D:00000000
D831:F6770204
D835:		label TABLE_DEPTH_0
D835:0D93FE11	DEFW of 10 words
D839:00000000
D83D:0D930100
D841:00000000
D845:DC700101
D849:		label TABLE_DEPTH_x
D849:DFADFF11	DEFW of 10 words
D84D:00000000
D851:DFAD0000
D855:00000000
D859:00000000
D85D:		label PAKY_TABLE
D85D:00000000	DEFW of 6 words
D861:00000000
D865:00000000
D869:119D0207	DEFW of 6 words
D86D:00000000
D871:00000000
D875:849D0307	DEFW of 6 words
D879:00000000
D87D:00000000
D881:E39D0308	DEFW of 6 words
D885:E39DFC0F
D889:E39D0302
D88D:1C9E0308	DEFW of 6 words
D891:1C9EFC0D
D895:1C9E0304
D899:00000000	DEFW of 6 words
D89D:00000000
D8A1:00000000
D8A5:729B0407	DEFW of 6 words
D8A9:00000000
D8AD:00000000
D8B1:E59B0407	DEFW of 6 words
D8B5:00000000
D8B9:00000000
D8BD:449C0408	DEFW of 6 words
D8C1:449CFB0F
D8C5:449C0402
D8C9:6B9C0408	DEFW of 6 words
D8CD:6B9CFB0D
D8D1:6B9C0404
D8D5:00000000	DEFW of 6 words
D8D9:00000000
D8DD:00000000
D8E1:00000000	DEFW of 6 words
D8E5:00000000
D8E9:929C0302
D8ED:00000000	DEFW of 6 words
D8F1:00000000
D8F5:CB9C0304
D8F9:00000000	DEFW of 6 words
D8FD:00000000
D901:FC9C0406
D905:00000000	DEFW of 6 words
D909:00000000
D90D:00000407
D911:00000000	DEFW of 6 words
D915:00000000
D919:00000000
D91D:00000000	DEFW of 6 words
D921:00000000
D925:059B0402
D929:00000000	DEFW of 6 words
D92D:00000000
D931:369B0404
D935:00000000	DEFW of 6 words
D939:00000000
D93D:5D9B0406
D941:00000000	DEFW of 6 words
D945:00000000
D949:00000000
D94D:00000000	DEFW of 6 words
D951:00000000
D955:00000000
D959:00000000	DEFW of 6 words
D95D:929CFC0F
D961:00000000
D965:00000000	DEFW of 6 words
D969:CB9CFC0D
D96D:00000000
D971:00000000	DEFW of 6 words
D975:FC9CFB0B
D979:00000000
D97D:00000000	DEFW of 6 words
D981:00000000
D985:00000000
D989:00000000	DEFW of 6 words
D98D:00000000
D991:00000000
D995:00000000	DEFW of 6 words
D999:059BFB0F
D99D:00000000
D9A1:00000000	DEFW of 6 words
D9A5:369BFB0D
D9A9:00000000
D9AD:00000000	DEFW of 6 words
D9B1:5D9BFB0B
D9B5:00000000
D9B9:00000000	DEFW of 6 words
D9BD:0000040A
D9C1:00000000
D9C5:		label DOOR_TABLE
D9C5:00000000	DEFW of 6 words
D9C9:00000000
D9CD:00000000
D9D1:8F600203	DEFW of 6 words
D9D5:00000000
D9D9:00000000
D9DD:CA640305	DEFW of 6 words
D9E1:CA64030F
D9E5:CA6403FB
D9E9:C5660306	DEFW of 6 words
D9ED:C566030C
D9F1:C5660300
D9F5:26680407	DEFW of 6 words
D9F9:2668040B
D9FD:26680403
DA01:		label RAM_TABLE
DA01:3B9E0004	DEFW of 6 words
DA05:00000000
DA09:00000000
DA0D:5AA20101	DEFW of 6 words
DA11:4DA6FE11
DA15:4DA60100
DA19:BCA60204	DEFW of 6 words
DA1D:AFA8FD11
DA21:AFA80200
DA25:92A90306	DEFW of 6 words
DA29:92A9030C
DA2D:73AA0300
DA31:34AB0307	DEFW of 6 words
DA35:34AB030B
DA39:34AB0303
NEXT_TYP_ENEMY	EQU 000A
DA3D:		label ENEMY_TABLE
DA3D:0000	DEFW of 1 words
DA3F:BE6A	DEFW of 1 words
DA41:616C	DEFW of 1 words
DA43:5E6D	DEFW of 1 words
DA45:CA6D	DEFW of 1 words
DA47:0000	DEFW of 1 words
DA49:A568	DEFW of 1 words
DA4B:0000	DEFW of 1 words
DA4D:0000	DEFW of 1 words
DA4F:0000	DEFW of 1 words
DA51:		label ITEM_TABLE
DA51:00000000	DEFW of 4 words
DA55:00000000
DA59:3589518B	DEFW of 4 words
DA5D:4F8C0000
DA61:3589518B	DEFW of 4 words
DA65:4F8C0000
DA69:3589518B	DEFW of 4 words
DA6D:4F8C0000
DA71:3589518B	DEFW of 4 words
DA75:4F8C0000
DA79:3589518B	DEFW of 4 words
DA7D:4F8C0000
DA81:4587518A	DEFW of 4 words
DA85:EB8B0000
DA89:4587518A	DEFW of 4 words
DA8D:EB8B0000
DA91:3589518B	DEFW of 4 words
DA95:4F8C0000
DA99:0000518A	DEFW of 4 words
DA9D:EB8B0000
DAA1:4587518A	DEFW of 4 words
DAA5:EB8B0000
DAA9:4587518A	DEFW of 4 words
DAAD:EB8B0000
DAB1:4587518A	DEFW of 4 words
DAB5:EB8B0000
DAB9:3589518B	DEFW of 4 words
DABD:4F8C0000
DAC1:3589518B	DEFW of 4 words
DAC5:4F8C0000
DAC9:3589518B	DEFW of 4 words
DACD:4F8C0000
DAD1:3589518B	DEFW of 4 words
DAD5:4F8C0000
DAD9:AF898A8B	DEFW of 4 words
DADD:648C0000
DAE1:3589518B	DEFW of 4 words
DAE5:4F8C0000
DAE9:AF898A8B	DEFW of 4 words
DAED:648C0000
DAF1:AF898A8B	DEFW of 4 words
DAF5:648C0000
DAF9:AF898A8B	DEFW of 4 words
DAFD:648C0000
DB01:4587518A	DEFW of 4 words
DB05:EB8B0000
DB09:4587518A	DEFW of 4 words
DB0D:EB8B0000
DB11:AF898A8B	DEFW of 4 words
DB15:648C0000
DB19:AF898A8B	DEFW of 4 words
DB1D:648C0000
DB21:3A88CC8A	DEFW of 4 words
DB25:198C0000
DB29:3589518B	DEFW of 4 words
DB2D:4F8C0000
DB31:3589518B	DEFW of 4 words
DB35:4F8C0000
DB39:3589518B	DEFW of 4 words
DB3D:4F8C0000
DB41:3589518B	DEFW of 4 words
DB45:4F8C0000
DB49:		label KANAL_TABLE
DB49:00000000	DEFW of 6 words
DB4D:00000000
DB51:00000000
DB55:898C0805	DEFW of 6 words
DB59:00000000
DB5D:00000000
DB61:F48D0706	DEFW of 6 words
DB65:F48D0710
DB69:F48D07FC
DB6D:998E0607	DEFW of 6 words
DB71:998E060D
DB75:998E0601
DB79:E48E0508	DEFW of 6 words
DB7D:E48E050C
DB81:E48E0504
DB85:		label RUNE_TABLE
DB85:00000000	DEFW of 6 words
DB89:00000000
DB8D:00000000
DB91:9F770407	DEFW of 6 words
DB95:00000417
DB99:000004F7
DB9D:C97A0407	DEFW of 6 words
DBA1:C97A0411
DBA5:C97A04FD
DBA9:277C0408	DEFW of 6 words
DBAD:277C040E
DBB1:277C0402
DBB5:D97C0408	DEFW of 6 words
DBB9:D97C040C
DBBD:D97C0404
		End of INCLUDE
		INCLUDE strings.h
DBC1:		label VETA_NO_WAY
DBC1:594F5520	DEFB of 23 bytes
DBC5:43414E27
DBC9:5420474F
DBCD:20544841
DBD1:54205741
DBD5:592E00
DBD8:		label VETA_NO_PUT
DBD8:594F5520	DEFB of 30 bytes
DBDC:43414E54
DBE0:20505554
DBE4:20544841
DBE8:54204954
DBEC:454D2054
DBF0:48455245
DBF4:2E00
DBF6:		label VETA_CASTS
DBF6:3F3F3F20	DEFB of 17 bytes
DBFA:43415354
DBFE:5320424C
DC02:4553532E
DC06:00
DC07:		label VETA_PRY_DOOR
DC07:4E4F204F	DEFB of 38 bytes
DC0B:4E452049
DC0F:53204142
DC13:4C452054
DC17:4F205052
DC1B:59205448
DC1F:49532044
DC23:4F4F5220
DC27:4F50454E
DC2B:2E00
DC2D:		label VETA_FORCES
DC2D:54484520	DEFB of 27 bytes
DC31:50415254
DC35:5920464F
DC39:52434553
DC3D:20544845
DC41:20444F4F
DC45:522E00
DC48:		label VETA_TAKEN
DC48:2054414B	DEFB of 8 bytes
DC4C:454E2E00
DC50:		label VETA_PUT
DC50:20574153	DEFB of 10 bytes
DC54:20505554
DC58:2E00
DC5A:		label VETA_DRINK
DC5A:20574153	DEFB of 12 bytes
DC5E:20445255
DC62:4E4B2E00
DC66:		label VETA_EAT
DC66:20574153	DEFB of 12 bytes
DC6A:20454154
DC6E:454E2E00
DC72:		label ARRAY_STRING_DEKORACE
DC72:534F4D45	DEFB of 48 bytes
DC76:5448494E
DC7A:47205343
DC7E:55525249
DC82:45532044
DC86:45455045
DC8A:5220494E
DC8E:544F2054
DC92:48452046
DC96:4C4F4F52
DC9A:20445241
DC9E:494E2E00
DCA2:54484953	DEFB of 27 bytes
DCA6:2052554E
DCAA:45204953
DCAE:20554E52
DCB2:45434F47
DCB6:4E495A45
DCBA:442E00
DCBD:		label ARRAY_STRING_PREPINACE
DCBD:594F5520	DEFB of 24 bytes
DCC1:53574954
DCC5:43484544
DCC9:20544845
DCCD:204C4556
DCD1:45522E00
DCD5:594F5520	DEFB of 24 bytes
DCD9:50524553
DCDD:53454420
DCE1:54484520
DCE5:42555454
DCE9:4F4E2E00
DCED:594F5520	DEFB of 29 bytes
DCF1:50524553
DCF5:53454420
DCF9:54484520
DCFD:48494445
DD01:20425554
DD05:544F4E2E
DD09:00
DD0A:594F5520	DEFB of 23 bytes
DD0E:53574954
DD12:43484544
DD16:20544845
DD1A:204C4F43
DD1E:4B2E00
DD21:		label VETA_11
DD21:54484953	DEFB of 47 bytes
DD25:20534C49
DD29:4D592C20
DD2D:534D454C
DD31:4C592044
DD35:5241494E
DD39:20504950
DD3D:45205245
DD41:5645414C
DD45:53204E4F
DD49:5448494E
DD4D:472E00
DD50:		label VETA_13
DD50:54484552	DEFB of 32 bytes
DD54:45204953
DD58:20412044
DD5C:5241494E
DD60:41474520
DD64:47524154
DD68:45204845
DD6C:52452E00
DD70:		label VETA_14
DD70:4F4E4C59	DEFB of 28 bytes
DD74:20544845
DD78:20535452
DD7C:4F4E4720
DD80:5348414C
DD84:4C205041
DD88:53532E00
DD8C:		label VETA_15
DD8C:57415443	DEFB of 17 bytes
DD90:4820594F
DD94:55522053
DD98:5445502E
DD9C:00
DD9D:		label VETA_16
DD9D:4E4F5420	DEFB of 25 bytes
DDA1:414C4C20
DDA5:49532041
DDA9:53204954
DDAD:20415050
DDB1:45415253
DDB5:00
DDB6:		label VETA_EXP
DDB6:3F3F3F20	DEFB of 38 bytes
DDBA:48415320
DDBE:4741494E
DDC2:45442041
DDC6:204C4556
DDCA:454C204F
DDCE:46204558
DDD2:50455249
DDD6:454E4345
DDDA:2E00
DDDC:		label VETA_DOWN
DDDC:474F494E	DEFB of 14 bytes
DDE0:4720444F
DDE4:574E2E2E
DDE8:2E00
DDEA:		label VETA_UP
DDEA:474F494E	DEFB of 10 bytes
DDEE:47205550
DDF2:2E00
DDF4:		label VETA_DOOR
DDF4:54484520	DEFB of 24 bytes
DDF8:444F4F52
DDFC:20415050
DE00:45415253
DE04:20535455
DE08:434B2E00
DE0C:		label VETA_DAGGER
DE0C:54484520	DEFB of 17 bytes
DE10:44414747
DE14:45522046
DE18:4954532E
DE1C:00
DE1D:		label VETA_HOLLOW
DE1D:4120484F	DEFB of 34 bytes
DE21:4C4C4F57
DE25:204C4155
DE29:47485445
DE2D:52204543
DE31:484F4553
DE35:20464149
DE39:4E544C59
DE3D:2E00
DE3F:		label VETA_UNDEAD
DE3F:3F3F3F20	DEFB of 35 bytes
DE43:55534553
DE47:20544845
DE4B:20504F57
DE4F:45522054
DE53:4F205455
DE57:524E2055
DE5B:4E444541
DE5F:442100
DE62:		label HELP_STRING
DE62:54455354	DEFB of 28 bytes
DE66:205A5820
DE6A:44554E47
DE6E:454F4E20
DE72:44454D4F
DE76:20562030
DE7A:2E373200
DE7E:4F564C41	DEFB of 44 bytes
DE82:44414E49
DE86:3A20512C
DE8A:452D4F54
DE8E:4F43454E
DE92:493B2057
DE96:2C532D50
DE9A:4F485942
DE9E:3B20412C
DEA2:442D554B
DEA6:524F4B00
DEAA:4A2C4B2C	DEFB of 48 bytes
DEAE:312E2E36
DEB2:2D414B54
DEB6:49564E49
DEBA:20504F53
DEBE:54415641
DEC2:3B20492D
DEC6:494E5645
DECA:4E544152
DECE:3B20522C
DED2:462D4841
DED6:4E445300
DEDA:53504143	DEFB of 47 bytes
DEDE:4520284D
DEE2:455A4552
DEE6:4E494B29
DEEA:202D2041
DEEE:4B43453B
DEF2:2053532B
DEF6:58202843
DEFA:54524C2B
DEFE:5829202D
DF02:204B4F4E
DF06:454300
NEXT_NAME	EQU 000B
DF09:		label VETA_HP
DF09:485000	DEFB of 3 bytes
DF0C:		label NAMES
DF0C:444F4852	DEFB of 11 bytes
DF10:554D2020
DF14:202000
DF17:57595244	DEFB of 11 bytes
DF1B:20202020
DF1F:202000
DF22:4C494E44	DEFB of 11 bytes
DF26:41202020
DF2A:202000
DF2D:45495448	DEFB of 11 bytes
DF31:4E452020
DF35:202000
DF38:544F4420	DEFB of 11 bytes
DF3C:55504849
DF40:4C4C00
DF43:49524953	DEFB of 11 bytes
DF47:20202020
DF4B:202000
DF4E:		label NAMES_END
DF4E:		label ARRAY_STRING_ITEMS
DF4E:00		DEFB of 1 bytes
DF4F:52494E47	DEFB of 5 bytes
DF53:00
DF54:52554249	DEFB of 11 bytes
DF58:4E205249
DF5C:4E4700
DF5F:534D4152	DEFB of 13 bytes
DF63:41474420
DF67:52494E47
DF6B:00
DF6C:53415050	DEFB of 14 bytes
DF70:48495245
DF74:2052494E
DF78:4700
DF7A:4449414D	DEFB of 13 bytes
DF7E:4F4E4420
DF82:52494E47
DF86:00
DF87:48454C4D	DEFB of 5 bytes
DF8B:00
DF8C:44574152	DEFB of 13 bytes
DF90:56454E20
DF94:48454C4D
DF98:00
DF99:4E45434B	DEFB of 9 bytes
DF9D:4C414345
DFA1:00
DFA2:41524D4F	DEFB of 6 bytes
DFA6:5200
DFA8:43484149	DEFB of 10 bytes
DFAC:4E4D4149
DFB0:4C00
DFB2:4C454154	DEFB of 14 bytes
DFB6:48455220
DFBA:41524D4F
DFBE:5200
DFC0:504C4154	DEFB of 12 bytes
DFC4:45204152
DFC8:4D4F5200
DFCC:4152524F	DEFB of 6 bytes
DFD0:5700
DFD2:42524143	DEFB of 8 bytes
DFD6:45525300
DFDA:424F4F54	DEFB of 6 bytes
DFDE:5300
DFE0:414E4B48	DEFB of 5 bytes
DFE4:00
DFE5:41584500	DEFB of 4 bytes
DFE9:424F4F4B	DEFB of 5 bytes
DFED:00
DFEE:424F5700	DEFB of 4 bytes
DFF2:44414747	DEFB of 7 bytes
DFF6:455200
DFF9:4D414345	DEFB of 5 bytes
DFFD:00
DFFE:53484945	DEFB of 7 bytes
E002:4C4400
E005:53504944	DEFB of 14 bytes
E009:45522053
E00D:4849454C
E011:4400
E013:534C494E	DEFB of 6 bytes
E017:4700
E019:53574F52	DEFB of 6 bytes
E01D:4400
E01F:424F4E45	DEFB of 5 bytes
E023:00
E024:52415449	DEFB of 8 bytes
E028:4F4E5300
E02C:4845414C	DEFB of 15 bytes
E030:494E4720
E034:504F5449
E038:4F4E00
E03B:414E5449	DEFB of 16 bytes
E03F:444F5445
E043:20504F54
E047:494F4E00
E04B:504F5449	DEFB of 9 bytes
E04F:4F4E5F42
E053:00
		End of INCLUDE
		REPT 0
E054:		label CARKY
E054:00		DEFB of 1 bytes
E055:80		DEFB of 1 bytes
E056:C0		DEFB of 1 bytes
E057:E0		DEFB of 1 bytes
E058:F0		DEFB of 1 bytes
E059:F8		DEFB of 1 bytes
E05A:FC		DEFB of 1 bytes
E05B:FE		DEFB of 1 bytes
E05C:FF		DEFB of 1 bytes
E05D:		label CARKY_END
		INCLUDE sprite2buffer.asm
MEZERA		EQU 0040
E05D:		label SET_TARGET_BUFFER
E05D:3EB0	LD A, B0
E05F:32D7E0	LD (E0D7), A
E062:32D2E1	LD (E1D2), A
E065:3EC8	LD A, C8
E067:32E5E0	LD (E0E5), A
E06A:32E0E1	LD (E1E0), A
E06D:C9		RET
E06E:		label SET_TARGET_SCREEN
E06E:3E40	LD A, 40
E070:32D7E0	LD (E0D7), A
E073:32D2E1	LD (E1D2), A
E076:3E58	LD A, 58
E078:32E5E0	LD (E0E5), A
E07B:32E0E1	LD (E1E0), A
E07E:C9		RET
E07F:		label SET_MAX_31
E07F:3E1F	LD A, 1F
E081:32B7E0	LD (E0B7), A
E084:32A9E1	LD (E1A9), A
E087:C9		RET
E088:		label SET_MAX_17
E088:3E11	LD A, 11
E08A:32B7E0	LD (E0B7), A
E08D:32A9E1	LD (E1A9), A
E090:C9		RET
E091:		label COPY_SPRITE2BUFFER
E091:F3		DI
E092:FDE5	PUSH IY
E094:1A		LD A, (DE)
E095:83		ADD A, E
E096:D9		EXX
E097:6F		LD L, A
E098:D9		EXX
E099:8A		ADC A, D
E09A:D9		EXX
E09B:95		SUB L
E09C:67		LD H, A
E09D:D9		EXX
E09E:13		INC DE
E09F:1A		LD A, (DE)
E0A0:FD67	LD IYH, A
E0A2:13		INC DE
E0A3:1A		LD A, (DE)
E0A4:DD67	LD IXH, A
E0A6:79		LD A, C
E0A7:EEFF	XOR FF
E0A9:F2A7E1	JP P, E1A7
		IF (false)
-     .error 'Adresa bufferu obrazovky nema horni bit nastaveny na jednicku!'
		ENDIF
E0AC:CB78	BIT 7, B
E0AE:FD68	LD IYL, B
E0B0:DD2E00	LD IXL, 00
E0B3:C49EE2	CALL NZ, E29E
E0B6:		label CS2B_SELF_MAXSLOUPEC
E0B6:3E11	LD A, 11
E0B8:90		SUB B
E0B9:FA1FE1	JP M, E11F
E0BC:		label CS2B_TEST_ZKRACENI_SIRKY
E0BC:3C		INC A
E0BD:FDBC	CP IYH
E0BF:3002	JR NC, E0C3
E0C1:FD67	LD IYH, A
E0C3:		label CS2B_KONEC_OK
E0C3:79		LD A, C
E0C4:0F		RRCA
E0C5:0F		RRCA
E0C6:0F		RRCA
E0C7:67		LD H, A
E0C8:E6E0	AND E0
E0CA:80		ADD A, B
E0CB:6F		LD L, A
E0CC:08		EX AF, AF'
E0CD:79		LD A, C
E0CE:D9		EXX
E0CF:ED731DE1	LD (E11D), SP
E0D3:F9		LD SP, HL
E0D4:E618	AND 18
E0D6:		label CS2B_SELF_ADR_BUFF
E0D6:C6B0	ADD A, B0
E0D8:320EE1	LD (E10E), A
E0DB:67		LD H, A
E0DC:08		EX AF, AF'
E0DD:6F		LD L, A
E0DE:FD6F	LD IYL, A
E0E0:D9		EXX
E0E1:7C		LD A, H
E0E2:E603	AND 03
E0E4:		label CS2B_SELF_ADR_ATTR_BUFF
E0E4:C6C8	ADD A, C8
E0E6:67		LD H, A
E0E7:3218E1	LD (E118), A
E0EA:FD44	LD B, IYH
E0EC:DD6C	LD IXL, H
E0EE:C33AE1	JP E13A
E0F1:		label CS2B_MASK
E0F1:87		ADD A, A
E0F2:79		LD A, C
E0F3:2004	JR NZ, E0F9
E0F5:AE		XOR (HL)
E0F6:E607	AND 07
E0F8:AE		XOR (HL)
E0F9:		label CS2B_MASK_NEZACHOVAT_PAPER
E0F9:E67F	AND 7F
E0FB:77		LD (HL), A
E0FC:D9		EXX
E0FD:0608	LD B, 08
E0FF:4C		LD C, H
E100:		label CS2B_MASK_LOOP
E100:D1		POP DE
E101:7E		LD A, (HL)
E102:A3		AND E
E103:B2		OR D
E104:77		LD (HL), A
E105:24		INC H
E106:10F8	DJNZ E100
E108:DD2D	DEC IXL
E10A:C231E1	JP NZ, E131
E10D:		label CS2B_FIRST_ROW
E10D:		label CS2B_SELF_H_SHADOW
E10D:2600	LD H, 00
E10F:DD6C	LD IXL, H
E111:FD2C	INC IYL
E113:FD7D	LD A, IYL
E115:6F		LD L, A
E116:D9		EXX
E117:		label CS2B_SELF_H
E117:2600	LD H, 00
E119:6F		LD L, A
E11A:101E	DJNZ E13A
E11C:		label CS2B_EXIT
E11C:310000	LD SP, 0000
E11F:		label CS2B_EXIT_SP_OK
E11F:FDE1	POP IY
E121:FB		EI
E122:C9		RET
E123:		label CS2B_TRETINA
E123:D9		EXX
E124:24		INC H
E125:1812	JR E139
E127:		label CS2B_CELOPRUHLEDNY
E127:D9		EXX
E128:4C		LD C, H
E129:7C		LD A, H
E12A:C608	ADD A, 08
E12C:67		LD H, A
E12D:		label CS2B_DOLU
E12D:DD2D	DEC IXL
E12F:28DC	JR Z, E10D
E131:		label CS2B_O_ZNAK_NIZE
E131:3E20	LD A, 20
E133:85		ADD A, L
E134:6F		LD L, A
E135:38EC	JR C, E123
E137:61		LD H, C
E138:D9		EXX
E139:		label CS2B_ATTR_NEXT
E139:6F		LD L, A
E13A:		label CS2B_POCATEK
E13A:13		INC DE
E13B:1A		LD A, (DE)
E13C:4F		LD C, A
E13D:E6B8	AND B8
E13F:2822	JR Z, E163
E141:FAF1E0	JP M, E0F1
E144:71		LD (HL), C
E145:D9		EXX
E146:4C		LD C, H
E147:D1		POP DE
E148:73		LD (HL), E
E149:24		INC H
E14A:72		LD (HL), D
E14B:24		INC H
E14C:D1		POP DE
E14D:73		LD (HL), E
E14E:24		INC H
E14F:72		LD (HL), D
E150:24		INC H
E151:D1		POP DE
E152:73		LD (HL), E
E153:24		INC H
E154:72		LD (HL), D
E155:24		INC H
E156:D1		POP DE
E157:73		LD (HL), E
E158:24		INC H
E159:72		LD (HL), D
E15A:24		INC H
E15B:DD2D	DEC IXL
E15D:C231E1	JP NZ, E131
E160:C30DE1	JP E10D
E163:		label CS2B_ADD_INK
E163:79		LD A, C
E164:87		ADD A, A
		IF (false)
-     .error 'Zmenit kod, MEZERA != $.1000...!'
		ENDIF
E165:87		ADD A, A
E166:38BF	JR C, E127
E168:87		ADD A, A
E169:AE		XOR (HL)
E16A:E638	AND 38
E16C:2825	JR Z, E193
E16E:7E		LD A, (HL)
E16F:E6F8	AND F8
E171:B1		OR C
E172:77		LD (HL), A
E173:D9		EXX
E174:0602	LD B, 02
E176:4C		LD C, H
E177:		label CS2B_ADD_INK_LOOP
E177:D1		POP DE
E178:7E		LD A, (HL)
E179:B3		OR E
E17A:77		LD (HL), A
E17B:24		INC H
E17C:7E		LD A, (HL)
E17D:B2		OR D
E17E:77		LD (HL), A
E17F:24		INC H
E180:D1		POP DE
E181:7E		LD A, (HL)
E182:B3		OR E
E183:77		LD (HL), A
E184:24		INC H
E185:7E		LD A, (HL)
E186:B2		OR D
E187:77		LD (HL), A
E188:24		INC H
E189:10EC	DJNZ E177
E18B:DD2D	DEC IXL
E18D:C231E1	JP NZ, E131
E190:C30DE1	JP E10D
E193:		label CS2B_DELETE_INK
E193:D9		EXX
E194:0604	LD B, 04
E196:4C		LD C, H
E197:		label CS2B_DEL_INK_LOOP
E197:D1		POP DE
E198:7B		LD A, E
E199:2F		CPL
E19A:A6		AND (HL)
E19B:77		LD (HL), A
E19C:24		INC H
E19D:7A		LD A, D
E19E:2F		CPL
E19F:A6		AND (HL)
E1A0:77		LD (HL), A
E1A1:24		INC H
E1A2:10F3	DJNZ E197
E1A4:C32DE1	JP E12D
E1A7:		label CS2B_ZRCADLOVE
E1A7:4F		LD C, A
E1A8:		label CS2B_Z_SELF_MAX_BUFF
E1A8:3E11	LD A, 11
E1AA:DD6F	LD IXL, A
E1AC:90		SUB B
E1AD:FD6F	LD IYL, A
E1AF:FC9EE2	CALL M, E29E
E1B2:78		LD A, B
E1B3:B7		OR A
E1B4:FA1FE1	JP M, E11F
E1B7:3C		INC A
E1B8:FDBC	CP IYH
E1BA:3002	JR NC, E1BE
E1BC:FD67	LD IYH, A
E1BE:		label CS2B_Z_KONEC_OK
E1BE:79		LD A, C
E1BF:0F		RRCA
E1C0:0F		RRCA
E1C1:0F		RRCA
E1C2:67		LD H, A
E1C3:E6E0	AND E0
E1C5:80		ADD A, B
E1C6:6F		LD L, A
E1C7:08		EX AF, AF'
E1C8:79		LD A, C
E1C9:D9		EXX
E1CA:ED731AE2	LD (E21A), SP
E1CE:F9		LD SP, HL
E1CF:E618	AND 18
E1D1:		label CS2B_Z_SELF_ADR_BUFF
E1D1:C6B0	ADD A, B0
E1D3:320BE2	LD (E20B), A
E1D6:67		LD H, A
E1D7:08		EX AF, AF'
E1D8:6F		LD L, A
E1D9:FD6F	LD IYL, A
E1DB:D9		EXX
E1DC:7C		LD A, H
E1DD:E603	AND 03
E1DF:		label CS2B_Z_SELF_ADR_ATTR_BUFF
E1DF:C6C8	ADD A, C8
E1E1:67		LD H, A
E1E2:3215E2	LD (E215), A
E1E5:FD44	LD B, IYH
E1E7:DD6C	LD IXL, H
E1E9:C33AE2	JP E23A
E1EC:		label CS2B_Z_MASK
E1EC:87		ADD A, A
E1ED:79		LD A, C
E1EE:2004	JR NZ, E1F4
E1F0:AE		XOR (HL)
E1F1:E607	AND 07
E1F3:AE		XOR (HL)
E1F4:		label CS2B_Z_MASK_NEW_PAPER
E1F4:E67F	AND 7F
E1F6:77		LD (HL), A
E1F7:D9		EXX
E1F8:EB		EX DE, HL
E1F9:0608	LD B, 08
E1FB:		label CS2B_Z_MASK_LOOP
E1FB:E1		POP HL
E1FC:1A		LD A, (DE)
E1FD:4C		LD C, H
E1FE:26D0	LD H, D0
E200:A6		AND (HL)
E201:69		LD L, C
E202:B6		OR (HL)
E203:12		LD (DE), A
E204:14		INC D
E205:10F4	DJNZ E1FB
E207:EB		EX DE, HL
E208:181F	JR E229
E20A:		label CS2B_Z_FIRST_ROW
E20A:		label CS2B_Z_SELF_H_SHADOW
E20A:2600	LD H, 00
E20C:DD6C	LD IXL, H
E20E:FD2D	DEC IYL
E210:FD7D	LD A, IYL
E212:6F		LD L, A
E213:D9		EXX
E214:		label CS2B_Z_SELF_H
E214:2600	LD H, 00
E216:6F		LD L, A
E217:1021	DJNZ E23A
E219:		label CS2B_Z_EXIT
E219:310000	LD SP, 0000
E21C:FDE1	POP IY
E21E:FB		EI
E21F:C9		RET
E220:		label CS2B_Z_TRETINA
E220:D9		EXX
E221:24		INC H
E222:1815	JR E239
E224:		label CS2B_Z_CELOPRUHLEDNY
E224:D9		EXX
E225:7C		LD A, H
E226:C608	ADD A, 08
E228:67		LD H, A
E229:		label CS2B_Z_DOLU
E229:DD2D	DEC IXL
E22B:28DD	JR Z, E20A
E22D:		label CS2B_Z_O_ZNAK_NIZE
E22D:3E20	LD A, 20
E22F:85		ADD A, L
E230:6F		LD L, A
E231:38ED	JR C, E220
E233:7C		LD A, H
E234:D608	SUB 08
E236:67		LD H, A
E237:7D		LD A, L
E238:D9		EXX
E239:		label CS2B_Z_ATTR_NEXT
E239:6F		LD L, A
E23A:		label CS2B_Z_POCATEK
E23A:13		INC DE
E23B:1A		LD A, (DE)
E23C:4F		LD C, A
E23D:E6B8	AND B8
E23F:281C	JR Z, E25D
E241:FAECE1	JP M, E1EC
E244:		label CS2B_Z_ADD_ALL
E244:71		LD (HL), C
E245:D9		EXX
E246:0604	LD B, 04
E248:		label CS2B_Z_ADD_ALL_LOOP
E248:D1		POP DE
E249:4A		LD C, D
E24A:16D0	LD D, D0
E24C:1A		LD A, (DE)
E24D:77		LD (HL), A
E24E:24		INC H
E24F:59		LD E, C
E250:1A		LD A, (DE)
E251:77		LD (HL), A
E252:24		INC H
E253:10F3	DJNZ E248
E255:DD2D	DEC IXL
E257:C22DE2	JP NZ, E22D
E25A:C30AE2	JP E20A
E25D:		label CS2B_Z_ADD_INK
E25D:79		LD A, C
E25E:87		ADD A, A
		IF (false)
-     .error 'Zmenit kod, MEZERA != $.1000...!'
		ENDIF
E25F:87		ADD A, A
E260:38C2	JR C, E224
E262:87		ADD A, A
E263:AE		XOR (HL)
E264:E638	AND 38
E266:281F	JR Z, E287
E268:7E		LD A, (HL)
E269:E6F8	AND F8
E26B:B1		OR C
E26C:77		LD (HL), A
E26D:D9		EXX
E26E:0604	LD B, 04
E270:		label CS2B_Z_ADD_INK_LOOP
E270:D1		POP DE
E271:4A		LD C, D
E272:16D0	LD D, D0
E274:1A		LD A, (DE)
E275:B6		OR (HL)
E276:77		LD (HL), A
E277:24		INC H
E278:59		LD E, C
E279:1A		LD A, (DE)
E27A:B6		OR (HL)
E27B:77		LD (HL), A
E27C:24		INC H
E27D:10F1	DJNZ E270
E27F:DD2D	DEC IXL
E281:C22DE2	JP NZ, E22D
E284:C30AE2	JP E20A
E287:		label CS2B_Z_DELETE_INK
E287:D9		EXX
E288:0604	LD B, 04
E28A:		label CS2B_Z_DEL_LOOP
E28A:D1		POP DE
E28B:4A		LD C, D
E28C:16D0	LD D, D0
E28E:1A		LD A, (DE)
E28F:2F		CPL
E290:A6		AND (HL)
E291:77		LD (HL), A
E292:24		INC H
E293:59		LD E, C
E294:1A		LD A, (DE)
E295:2F		CPL
E296:A6		AND (HL)
E297:77		LD (HL), A
E298:24		INC H
E299:10EF	DJNZ E28A
E29B:C329E2	JP E229
E29E:		label IGNORE_COLUMN
E29E:D9		EXX
E29F:110800	LD DE, 0008
E2A2:		label IC_COLUMN_LOOP
E2A2:DD44	LD B, IXH
E2A4:		label IC_ROW_LOOP
E2A4:D9		EXX
E2A5:13		INC DE
E2A6:1A		LD A, (DE)
E2A7:D9		EXX
E2A8:E6F8	AND F8
E2AA:FE40	CP 40
E2AC:2805	JR Z, E2B3
E2AE:87		ADD A, A
E2AF:3001	JR NC, E2B2
E2B1:19		ADD HL, DE
E2B2:		label IC_NO_MASK
E2B2:19		ADD HL, DE
E2B3:		label IC_NO_DATA
E2B3:10EF	DJNZ E2A4
E2B5:FD25	DEC IYH
E2B7:2808	JR Z, E2C1
E2B9:FD2C	INC IYL
E2BB:20E5	JR NZ, E2A2
E2BD:D9		EXX
E2BE:DD45	LD B, IXL
E2C0:C9		RET
E2C1:		label IC_EXIT_SPRITE2BUFFER
E2C1:F1		POP AF
E2C2:C31FE1	JP E11F
		End of INCLUDE
		INCLUDE input.asm
E2C5:		label TEST_KEMPSTON
E2C5:AF		XOR A
E2C6:67		LD H, A
E2C7:6F		LD L, A
E2C8:		label TK_NOVY_STAV
E2C8:0606	LD B, 06
E2CA:B4		OR H
E2CB:67		LD H, A
E2CC:		label TK_LOOP
E2CC:76		HALT
E2CD:DB1F	IN A, (1F)
E2CF:E61F	AND 1F
E2D1:FE1F	CP 1F
E2D3:C8		RET Z
E2D4:BD		CP L
E2D5:6F		LD L, A
E2D6:20F0	JR NZ, E2C8
E2D8:10F2	DJNZ E2CC
E2DA:7C		LD A, H
E2DB:2170D2	LD HL, D270
E2DE:060D	LD B, 0D
E2E0:		label TK_TEST_STAVU
E2E0:BE		CP (HL)
E2E1:23		INC HL
E2E2:2803	JR Z, E2E7
E2E4:23		INC HL
E2E5:10F9	DJNZ E2E0
E2E7:		label TK_SHODNY_STAV
E2E7:7E		LD A, (HL)
E2E8:B7		OR A
E2E9:C9		RET
E2EA:		label KEYPRESSED
E2EA:11785C	LD DE, 5C78
E2ED:1A		LD A, (DE)
E2EE:E620	AND 20
E2F0:47		LD B, A
E2F1:21085C	LD HL, 5C08
E2F4:		label KEYPRESSED_NO
E2F4:1A		LD A, (DE)
E2F5:E620	AND 20
E2F7:A8		XOR B
E2F8:C0		RET NZ
E2F9:7E		LD A, (HL)
E2FA:B7		OR A
E2FB:E5		PUSH HL
E2FC:C5		PUSH BC
E2FD:CCC5E2	CALL Z, E2C5
E300:C1		POP BC
E301:E1		POP HL
E302:28F0	JR Z, E2F4
E304:0600	LD B, 00
E306:70		LD (HL), B
E307:2A45D4	LD HL, (D445)
E30A:4C		LD C, H
E30B:26D1	LD H, D1
E30D:11ABE3	LD DE, E3AB
E310:D5		PUSH DE
		IF (true)
E311:FE77	CP 77
E313:C8		RET Z
E314:04		INC B
E315:FE73	CP 73
E317:C8		RET Z
E318:04		INC B
E319:FE61	CP 61
E31B:C8		RET Z
E31C:04		INC B
E31D:FE64	CP 64
E31F:C8		RET Z
		ELSE (false)
- .warning 'Delsi kod o 4 bajty protoze stisknuto_dopredu..stisknuto_vpravo != 0..3'
-     cp      KEY_DOPREDU             ;  7:2, "w" = dopredu
-     ret     z
-     ld      B, stisknuto_dozadu     ;  7:2, offset radku tabulky VEKTORY_POHYBU
-     cp      KEY_DOZADU              ;  7:2, "s" = dozadu
-     ret     z
-     ld      B, stisknuto_vlevo      ;  7:2, offset radku tabulky VEKTORY_POHYBU
-     cp      KEY_VLEVO               ;  7:2, "a" = vlevo
-     ret     z
-     ld      B, stisknuto_vpravo     ;  7:2, offset radku tabulky VEKTORY_POHYBU
-     cp      KEY_VPRAVO              ;  7:2, "d" = vpravo
-     ret     z
		ENDIF
E320:D1		POP DE
E321:06FF	LD B, FF
E323:FE71	CP 71
E325:284B	JR Z, E372
E327:0601	LD B, 01
E329:FE65	CP 65
E32B:2845	JR Z, E372
E32D:FE20	CP 20
E32F:CAC8EA	JP Z, EAC8
E332:FE69	CP 69
E334:CA2DE8	JP Z, E82D
E337:FE72	CP 72
E339:CA8BD2	JP Z, D28B
E33C:FE66	CP 66
E33E:CA8BD2	JP Z, D28B
E341:FE2A	CP 2A
E343:CA69E3	JP Z, E369
E346:FE60	CP 60
E348:2005	JR NZ, E34F
E34A:E1		POP HL
E34B:CDA5EA	CALL EAA5
E34E:C9		RET
E34F:		label K_NOEXIT
E34F:2173D4	LD HL, D473
E352:113BE8	LD DE, E83B
E355:D5		PUSH DE
E356:FE6B	CP 6B
E358:CA5CD2	JP Z, D25C
E35B:FE6A	CP 6A
E35D:CA66D2	JP Z, D266
E360:D631	SUB 31
E362:BE		CP (HL)
E363:D254EB	JP NC, EB54
E366:2B		DEC HL
E367:77		LD (HL), A
E368:C9		RET
E369:		label SET_BORDER
E369:3A74D4	LD A, (D474)
E36C:EE07	XOR 07
E36E:3274D4	LD (D474), A
E371:C9		RET
		End of INCLUDE
		INCLUDE move.asm
E372:		label OTOC_SE
E372:3E12	LD A, 12
E374:80		ADD A, B
E375:80		ADD A, B
E376:CD7FEB	CALL EB7F
E379:79		LD A, C
E37A:80		ADD A, B
E37B:E603	AND 03
E37D:2146D4	LD HL, D446
E380:77		LD (HL), A
E381:CD99E3	CALL E399
E384:C9		RET
E385:		label HL_NOVA_POZICE
E385:16D2	LD D, D2
E387:81		ADD A, C
E388:5F		LD E, A
E389:1A		LD A, (DE)
E38A:85		ADD A, L
E38B:6F		LD L, A
E38C:C9		RET
E38D:		label HL_VEPREDU
E38D:2A45D4	LD HL, (D445)
E390:E5		PUSH HL
E391:7D		LD A, L
E392:6C		LD L, H
E393:26D2	LD H, D2
E395:86		ADD A, (HL)
E396:E1		POP HL
E397:6F		LD L, A
E398:C9		RET
E399:		label INC_POCITADLO_POHYBU_A_ZVUK
E399:2147D4	LD HL, D447
E39C:34		INC (HL)
E39D:21E803	LD HL, 03E8
E3A0:		label IPPAZ_LOOP
E3A0:7E		LD A, (HL)
E3A1:E6F8	AND F8
E3A3:D3FE	OUT (FE), A
E3A5:2B		DEC HL
E3A6:7C		LD A, H
E3A7:B5		OR L
E3A8:20F6	JR NZ, E3A0
E3AA:C9		RET
E3AB:		label POSUN
E3AB:78		LD A, B
E3AC:87		ADD A, A
E3AD:87		ADD A, A
E3AE:CD7FEB	CALL EB7F
E3B1:CD11E8	CALL E811
E3B4:CADEE3	JP Z, E3DE
E3B7:48		LD C, B
E3B8:05		DEC B
E3B9:2812	JR Z, E3CD
E3BB:48		LD C, B
E3BC:FACDE3	JP M, E3CD
		IF (false)
-     .error      'Seznam POSUN_VLEVO_INVENTAREM prekracuje 256 bajtovy segment!'
		ENDIF
E3BF:2147D4	LD HL, D447
E3C2:05		DEC B
E3C3:2802	JR Z, E3C7
E3C5:2E5D	LD L, 5D
E3C7:		label POSUN_LOOP
E3C7:2C		INC L
E3C8:BE		CP (HL)
E3C9:2C		INC L
E3CA:30FB	JR NC, E3C7
E3CC:4E		LD C, (HL)
E3CD:		label POSUN_PRICTI
E3CD:81		ADD A, C
E3CE:061F	LD B, 1F
E3D0:F2D4E3	JP P, E3D4
E3D3:80		ADD A, B
E3D4:		label POSUN_NEZAPORNY
E3D4:B8		CP B
E3D5:3801	JR C, E3D8
E3D7:90		SUB B
E3D8:		label POSUN_V_MEZICH
E3D8:32FED6	LD (D6FE), A
E3DB:C3CEE8	JP E8CE
E3DE:		label POSUN_NEJSEM_V_INVENTARI
E3DE:78		LD A, B
E3DF:87		ADD A, A
E3E0:87		ADD A, A
E3E1:F5		PUSH AF
E3E2:CD7FEB	CALL EB7F
E3E5:F1		POP AF
E3E6:CD85E3	CALL E385
E3E9:DD21C1DB	LD IX, DBC1
E3ED:CB46	BIT 0, (HL)
E3EF:207E	JR NZ, E46F
E3F1:CDE5E4	CALL E4E5
E3F4:3879	JR C, E46F
E3F6:7D		LD A, L
E3F7:3245D4	LD (D445), A
E3FA:189D	JR E399
		End of INCLUDE
		INCLUDE strings.asm
E3FC:		label PRINT_STRING
E3FC:3E07	LD A, 07
E3FE:		label PRINT_STRING_COLOR
E3FE:5D		LD E, L
E3FF:6F		LD L, A
E400:E5		PUSH HL
E401:CDF3EB	CALL EBF3
E404:54		LD D, H
E405:0E40	LD C, 40
E407:		label PS_NEXT_CHAR
E407:E1		POP HL
E408:		label PRINT_STRING_CONTINUE
E408:7D		LD A, L
E409:6B		LD L, E
E40A:77		LD (HL), A
E40B:6F		LD L, A
E40C:DD7E00	LD A, (IX+00)
E40F:DD23	INC IX
E411:D620	SUB 20
E413:D8		RET C
E414:E5		PUSH HL
E415:67		LD H, A
E416:87		ADD A, A
E417:6F		LD L, A
E418:84		ADD A, H
E419:85		ADD A, L
E41A:6F		LD L, A
E41B:CED3	ADC A, D3
E41D:95		SUB L
E41E:67		LD H, A
E41F:0605	LD B, 05
E421:		label PS_RIGHT_LOOP
E421:7E		LD A, (HL)
E422:B7		OR A
E423:2813	JR Z, E438
E425:E5		PUSH HL
E426:6F		LD L, A
E427:62		LD H, D
E428:C5		PUSH BC
E429:0608	LD B, 08
E42B:		label PS_LOOP_PX_DOWN
E42B:CB15	RL L
E42D:3003	JR NC, E432
E42F:1A		LD A, (DE)
E430:A9		XOR C
E431:12		LD (DE), A
E432:		label PS_NEXT_PX_DOWN
E432:14		INC D
E433:10F6	DJNZ E42B
E435:C1		POP BC
E436:54		LD D, H
E437:E1		POP HL
E438:		label PS_PX_RIGHT
E438:23		INC HL
E439:AF		XOR A
E43A:CB09	RRC C
E43C:8B		ADC A, E
E43D:5F		LD E, A
E43E:10E1	DJNZ E421
E440:18C5	JR E407
E442:		label PRINT_STRING_OBAL
E442:E5		PUSH HL
E443:D5		PUSH DE
E444:C5		PUSH BC
E445:CDFEE3	CALL E3FE
E448:C1		POP BC
E449:D1		POP DE
E44A:E1		POP HL
E44B:C9		RET
		IF (false)
- PRINT2BUFFER:
-     ld	a,Adr_Buffer / 256
-     ld	(PS_ADRESA_SEGMENTU+1),a
-     ret
- PRINT2SCREEN:
-     ld	a,$40
-     ld	(PS_ADRESA_SEGMENTU+1),a
-     ret
		ENDIF
E44C:		label SCROLL
E44C:2650	LD H, 50
E44E:		label SCROLL_LOOP
E44E:54		LD D, H
E44F:1E80	LD E, 80
E451:2EA0	LD L, A0
E453:016000	LD BC, 0060
E456:EDB0	LDIR
E458:CB5C	BIT 3, H
E45A:28F2	JR Z, E44E
E45C:CB44	BIT 0, H
E45E:265A	LD H, 5A
E460:28EC	JR Z, E44E
E462:		label SCROLL_LAST_LINE
E462:0608	LD B, 08
E464:2650	LD H, 50
E466:		label SCROLL_NEXT_MICROLINE
E466:6B		LD L, E
E467:		label SCROLL_CLEAR_MICROLINE
E467:71		LD (HL), C
E468:2C		INC L
E469:20FC	JR NZ, E467
E46B:24		INC H
E46C:10F8	DJNZ E466
E46E:C9		RET
E46F:		label PRINT_MESSAGE
E46F:3E07	LD A, 07
E471:		label PRINT_MESSAGE_COLOR
E471:CD4CE4	CALL E44C
E474:21E05A	LD HL, 5AE0
E477:CDFEE3	CALL E3FE
E47A:C9		RET
E47B:		label PRINT_MESSAGE_ARRAY
E47B:CDADE4	CALL E4AD
E47E:3E05	LD A, 05
E480:CD71E4	CALL E471
E483:C9		RET
E484:		label PRINT_DEKORACE
E484:CD8DEA	CALL EA8D
E487:13		INC DE
E488:1A		LD A, (DE)
E489:E61F	AND 1F
E48B:47		LD B, A
E48C:2172DC	LD HL, DC72
E48F:CD7BE4	CALL E47B
E492:CDA5EA	CALL EAA5
E495:C9		RET
E496:		label PRINT_PREPINAC
E496:CD8DEA	CALL EA8D
E499:1A		LD A, (DE)
E49A:E61F	AND 1F
E49C:CB3F	SRL A
E49E:CB3F	SRL A
E4A0:47		LD B, A
E4A1:21BDDC	LD HL, DCBD
E4A4:CD7BE4	CALL E47B
E4A7:CDA5EA	CALL EAA5
E4AA:C9		RET
E4AB:		label AXS_NEXT_STRING
E4AB:EDB1	CPIR
E4AD:		label ADR_X_STRING
E4AD:AF		XOR A
E4AE:4F		LD C, A
E4AF:B8		CP B
E4B0:20F9	JR NZ, E4AB
E4B2:E5		PUSH HL
E4B3:DDE1	POP IX
E4B5:C9		RET
		IF (false)
- STRING_COPY:
- 	ld	a,(hl)
- 	inc	hl
- 	ld	(de),a
- 	inc	de
- 	or	a
- 	jr	nz,STRING_COPY
- 	ret
		ENDIF
E4B6:		label ITEM_MAKE_A
E4B6:B7		OR A
E4B7:C8		RET Z
E4B8:E5		PUSH HL
E4B9:47		LD B, A
E4BA:214EDF	LD HL, DF4E
E4BD:CDADE4	CALL E4AD
E4C0:CD4CE4	CALL E44C
E4C3:21E05A	LD HL, 5AE0
E4C6:CDFCE3	CALL E3FC
E4C9:DDE1	POP IX
E4CB:CD08E4	CALL E408
E4CE:C9		RET
E4CF:		label ITEM_TAKEN_A
E4CF:2148DC	LD HL, DC48
E4D2:18E2	JR E4B6
E4D4:		label ITEM_PUT_A
E4D4:2150DC	LD HL, DC50
E4D7:18DD	JR E4B6
		End of INCLUDE
		INCLUDE objects.asm
E4D9:		label DE_FIND_FIRST_OBJECT_L
E4D9:11C5ED	LD DE, EDC5
E4DC:		label FFO_NEXT
E4DC:13		INC DE
E4DD:		label FIND_NEXT_OBJECT
E4DD:13		INC DE
E4DE:1A		LD A, (DE)
E4DF:13		INC DE
E4E0:BD		CP L
E4E1:DADCE4	JP C, E4DC
E4E4:C9		RET
E4E5:		label JE_POZICE_BLOKOVANA_L
E4E5:CDD9E4	CALL E4D9
E4E8:C0		RET NZ
E4E9:		label JPB_NALEZEN_OBJECT
E4E9:1A		LD A, (DE)
E4EA:C6E0	ADD A, E0
E4EC:D8		RET C
E4ED:CDDCE4	CALL E4DC
E4F0:28F7	JR Z, E4E9
E4F2:C9		RET
E4F3:		label DEH_FIND_LAST_ITEM_HL
E4F3:11C5ED	LD DE, EDC5
E4F6:7C		LD A, H
E4F7:E603	AND 03
E4F9:3C		INC A
E4FA:67		LD H, A
E4FB:		label FLI_LOOP
E4FB:13		INC DE
E4FC:13		INC DE
E4FD:1A		LD A, (DE)
E4FE:13		INC DE
E4FF:BD		CP L
E500:38F9	JR C, E4FB
E502:2006	JR NZ, E50A
E504:1A		LD A, (DE)
E505:E603	AND 03
E507:BC		CP H
E508:38F1	JR C, E4FB
E50A:		label FLI_EXIT
E50A:1B		DEC DE
E50B:3E0F	LD A, 0F
E50D:84		ADD A, H
E50E:67		LD H, A
E50F:C9		RET
E510:		label VLOZ_ITEM_NA_POZICI
E510:F5		PUSH AF
E511:CDF3E4	CALL E4F3
E514:E5		PUSH HL
E515:2AC5ED	LD HL, (EDC5)
E518:E5		PUSH HL
E519:ED52	SBC HL, DE
E51B:44		LD B, H
E51C:4D		LD C, L
E51D:03		INC BC
E51E:E1		POP HL
E51F:54		LD D, H
E520:5D		LD E, L
E521:23		INC HL
E522:23		INC HL
E523:23		INC HL
E524:22C5ED	LD (EDC5), HL
E527:EB		EX DE, HL
E528:EDB8	LDDR
E52A:C1		POP BC
E52B:F1		POP AF
E52C:EB		EX DE, HL
E52D:77		LD (HL), A
E52E:2B		DEC HL
E52F:70		LD (HL), B
E530:2B		DEC HL
E531:71		LD (HL), C
E532:CDD4E4	CALL E4D4
E535:AF		XOR A
E536:32FDD6	LD (D6FD), A
E539:C3CEE8	JP E8CE
E53C:		label VEZMI_ITEM_Z_POZICE
E53C:CDF3E4	CALL E4F3
E53F:EB		EX DE, HL
E540:2B		DEC HL
E541:7E		LD A, (HL)
E542:2B		DEC HL
E543:46		LD B, (HL)
E544:2B		DEC HL
E545:4E		LD C, (HL)
E546:EB		EX DE, HL
E547:ED42	SBC HL, BC
E549:C0		RET NZ
E54A:32FDD6	LD (D6FD), A
E54D:2AC5ED	LD HL, (EDC5)
E550:ED52	SBC HL, DE
E552:23		INC HL
E553:44		LD B, H
E554:4D		LD C, L
E555:62		LD H, D
E556:6B		LD L, E
E557:23		INC HL
E558:23		INC HL
E559:23		INC HL
E55A:EDB0	LDIR
E55C:1B		DEC DE
E55D:ED53C5ED	LD (EDC5), DE
E561:C3CEE8	JP E8CE
E564:		label PREPNI_OBJECT
E564:D5		PUSH DE
E565:CDD9E4	CALL E4D9
E568:2012	JR NZ, E57C
E56A:		label PO_NALEZEN_OBJECT
E56A:1A		LD A, (DE)
E56B:AC		XOR H
E56C:E61C	AND 1C
E56E:2007	JR NZ, E577
		IF (false)
-     ld      A, H
-     and     MASKA_TYP
-     cp      TYP_DVERE
-     jr      z, PO_FOUND
-     ld      a,(de)                      ;  7:1 typ
-     sub     h
-     and     MASKA_NATOCENI
-     jr      nz,PO_NEXT_OBJECT           ;12/7:2       ??? pokud je horni bit nastaven tak to bude blbnout?
- PO_FOUND:
		ENDIF
E570:7C		LD A, H
E571:E6E0	AND E0
E573:EB		EX DE, HL
E574:AE		XOR (HL)
E575:77		LD (HL), A
E576:EB		EX DE, HL
E577:		label PO_NEXT_OBJECT
E577:CDDCE4	CALL E4DC
E57A:28EE	JR Z, E56A
E57C:		label PO_EXIT
E57C:D1		POP DE
E57D:C9		RET
E57E:		label FIND_OBJECT
E57E:DD2C	INC IXL
E580:C8		RET Z
E581:DD2D	DEC IXL
E583:11C5ED	LD DE, EDC5
E586:		label FO_LOOP
E586:13		INC DE
E587:		label FO_LOOP_DODATECNY
E587:13		INC DE
E588:1A		LD A, (DE)
E589:13		INC DE
E58A:DD95	SUB IXL
E58C:38F8	JR C, E586
E58E:C0		RET NZ
E58F:1A		LD A, (DE)
E590:E61C	AND 1C
		IF (false)
-     cp      TYP_PREPINAC            ;  7:2 
-     .warning 'Delsi kod, protoze TYP_PREPINAC != 0'
		ELSE (true)
E592:B7		OR A
		ENDIF
E593:2826	JR Z, E5BB
E595:FE08	CP 08
E597:284F	JR Z, E5E8
E599:FE04	CP 04
E59B:CA80E6	JP Z, E680
E59E:FE10	CP 10
E5A0:CA95E6	JP Z, E695
E5A3:FE0C	CP 0C
E5A5:20DF	JR NZ, E586
E5A7:13		INC DE
E5A8:1A		LD A, (DE)
E5A9:E61F	AND 1F
E5AB:2185DB	LD HL, DB85
E5AE:FE01	CP 01
E5B0:2803	JR Z, E5B5
E5B2:2149DB	LD HL, DB49
E5B5:		label FOUND_DEKORACE
E5B5:CDE1E7	CALL E7E1
E5B8:18CD	JR E587
E5BA:		label FO_EXIT
E5BA:C9		RET
E5BB:		label FOUND_PREPINAC
E5BB:C5		PUSH BC
E5BC:1A		LD A, (DE)
E5BD:E603	AND 03
E5BF:2146D4	LD HL, D446
E5C2:6E		LD L, (HL)
E5C3:95		SUB L
E5C4:215DD8	LD HL, D85D
E5C7:09		ADD HL, BC
E5C8:E603	AND 03
E5CA:280D	JR Z, E5D9
E5CC:017800	LD BC, 0078
E5CF:09		ADD HL, BC
E5D0:FE03	CP 03
E5D2:2805	JR Z, E5D9
E5D4:09		ADD HL, BC
E5D5:FE01	CP 01
E5D7:200C	JR NZ, E5E5
E5D9:		label FD_PREPINAC_INIT
E5D9:1A		LD A, (DE)
E5DA:B7		OR A
E5DB:F2E2E5	JP P, E5E2
E5DE:013C00	LD BC, 003C
E5E1:09		ADD HL, BC
E5E2:		label FD_PREPINAC_VIEW
E5E2:CDE2E7	CALL E7E2
E5E5:		label FD_PREPINAC_EXIT
E5E5:C1		POP BC
E5E6:189E	JR E586
E5E8:		label FOUND_ENEMY
E5E8:D5		PUSH DE
E5E9:DDE5	PUSH IX
E5EB:C5		PUSH BC
E5EC:3E0C	LD A, 0C
E5EE:B9		CP C
E5EF:200C	JR NZ, E5FD
E5F1:3A785C	LD A, (5C78)
E5F4:E640	AND 40
E5F6:3E02	LD A, 02
E5F8:CAFDE5	JP Z, E5FD
E5FB:3E01	LD A, 01
E5FD:		label FE_FAR
E5FD:3242E6	LD (E642), A
E600:1A		LD A, (DE)
E601:E6E0	AND E0
E603:07		RLCA
E604:07		RLCA
E605:07		RLCA
E606:DD6F	LD IXL, A
E608:07		RLCA
E609:81		ADD A, C
E60A:81		ADD A, C
E60B:C6D9	ADD A, D9
E60D:6F		LD L, A
E60E:CED4	ADC A, D4
E610:95		SUB L
E611:67		LD H, A
E612:13		INC DE
E613:1A		LD A, (DE)
E614:EB		EX DE, HL
E615:2151D5	LD HL, D551
E618:09		ADD HL, BC
E619:4E		LD C, (HL)
E61A:213EDA	LD HL, DA3E
E61D:09		ADD HL, BC
E61E:E61F	AND 1F
E620:2807	JR Z, E629
E622:010A00	LD BC, 000A
E625:		label FE_NEXT
E625:09		ADD HL, BC
E626:3D		DEC A
E627:20FC	JR NZ, E625
E629:		label FE_VIEW
E629:7E		LD A, (HL)
E62A:B7		OR A
E62B:CA5EE6	JP Z, E65E
E62E:2B		DEC HL
E62F:6E		LD L, (HL)
E630:67		LD H, A
E631:223FE6	LD (E63F), HL
E634:EB		EX DE, HL
E635:		label FE_LOOP
E635:2B		DEC HL
E636:46		LD B, (HL)
E637:2B		DEC HL
E638:4E		LD C, (HL)
E639:0C		INC C
E63A:0D		DEC C
E63B:CA5AE6	JP Z, E65A
E63E:		label FE_SELFMODIFIYNG
E63E:110000	LD DE, 0000
E641:		label FE_SELFMODIFIYNG2
E641:3E00	LD A, 00
E643:DDBD	CP IXL
E645:C251E6	JP NZ, E651
E648:11A568	LD DE, 68A5
E64B:78		LD A, B
E64C:C6FF	ADD A, FF
E64E:47		LD B, A
E64F:0E03	LD C, 03
E651:		label FE_CALL
E651:E5		PUSH HL
E652:DDE5	PUSH IX
E654:CD91E0	CALL E091
E657:DDE1	POP IX
E659:E1		POP HL
E65A:		label FE_TEST_LOOP
E65A:DD2D	DEC IXL
E65C:20D7	JR NZ, E635
E65E:		label FE_EXIT
E65E:C1		POP BC
E65F:DDE1	POP IX
E661:D1		POP DE
E662:C386E5	JP E586
E665:		label FOUND_DOOR
E665:0C		INC C
E666:0D		DEC C
E667:C8		RET Z
E668:1A		LD A, (DE)
E669:3C		INC A
E66A:3C		INC A
E66B:AC		XOR H
E66C:E603	AND 03
E66E:C0		RET NZ
E66F:2101DA	LD HL, DA01
E672:CDE1E7	CALL E7E1
E675:1A		LD A, (DE)
E676:C6E0	ADD A, E0
E678:D0		RET NC
E679:21C5D9	LD HL, D9C5
E67C:CDE1E7	CALL E7E1
E67F:C9		RET
E680:		label FOUND_RAM
E680:13		INC DE
E681:1A		LD A, (DE)
E682:13		INC DE
E683:13		INC DE
E684:0C		INC C
E685:0D		DEC C
E686:200D	JR NZ, E695
E688:67		LD H, A
E689:3A46D4	LD A, (D446)
E68C:AC		XOR H
E68D:E601	AND 01
E68F:2101DA	LD HL, DA01
E692:CDE4E7	CALL E7E4
E695:		label FOUND_ITEM
		IF (false)
-     ld      a,c
-     cp      MAX_VIDITELNOST_PREDMETU_PLUS_1
-     jp      nc, FO_LOOP                     ; return ( bohuzel tolikrat, kolikrat je predmetu na policku )
		ENDIF
E695:DDCB004E	BIT 1, (IX+00)
E699:C0		RET NZ
E69A:D5		PUSH DE
E69B:3A46D4	LD A, (D446)
E69E:67		LD H, A
E69F:		label FI_HLEDANI_NEJVZDALENEJSIHO
E69F:1A		LD A, (DE)
E6A0:E603	AND 03
E6A2:BC		CP H
E6A3:300D	JR NC, E6B2
E6A5:		label FI_DALSI_RADEK
E6A5:13		INC DE
E6A6:13		INC DE
E6A7:1A		LD A, (DE)
E6A8:13		INC DE
E6A9:B7		OR A
E6AA:28F9	JR Z, E6A5
E6AC:DDBD	CP IXL
E6AE:28EF	JR Z, E69F
E6B0:D1		POP DE
E6B1:D5		PUSH DE
E6B2:		label FI_NEJVZDALENEJSI
E6B2:6B		LD L, E
E6B3:		label FI_VYKRESLI_ITEM_LOOP
E6B3:E5		PUSH HL
E6B4:D5		PUSH DE
E6B5:DDE5	PUSH IX
E6B7:C5		PUSH BC
E6B8:1A		LD A, (DE)
E6B9:E61C	AND 1C
E6BB:FE10	CP 10
E6BD:2807	JR Z, E6C6
E6BF:FE04	CP 04
E6C1:CC65E6	CALL Z, E665
E6C4:1837	JR E6FD
E6C6:		label FI_ITEM
E6C6:1A		LD A, (DE)
E6C7:94		SUB H
E6C8:E603	AND 03
E6CA:87		ADD A, A
E6CB:2151D5	LD HL, D551
E6CE:09		ADD HL, BC
E6CF:47		LD B, A
E6D0:7E		LD A, (HL)
E6D1:FE06	CP 06
E6D3:3028	JR NC, E6FD
E6D5:13		INC DE
E6D6:1A		LD A, (DE)
E6D7:87		ADD A, A
E6D8:87		ADD A, A
E6D9:87		ADD A, A
E6DA:86		ADD A, (HL)
E6DB:C651	ADD A, 51
E6DD:6F		LD L, A
E6DE:CEDA	ADC A, DA
E6E0:95		SUB L
E6E1:67		LD H, A
E6E2:5E		LD E, (HL)
E6E3:23		INC HL
E6E4:56		LD D, (HL)
E6E5:14		INC D
E6E6:15		DEC D
E6E7:2814	JR Z, E6FD
E6E9:79		LD A, C
E6EA:87		ADD A, A
E6EB:80		ADD A, B
E6EC:C68D	ADD A, 8D
E6EE:6F		LD L, A
E6EF:CED5	ADC A, D5
E6F1:95		SUB L
E6F2:67		LD H, A
E6F3:4E		LD C, (HL)
E6F4:0C		INC C
E6F5:0D		DEC C
E6F6:2805	JR Z, E6FD
E6F8:23		INC HL
E6F9:46		LD B, (HL)
E6FA:CD91E0	CALL E091
E6FD:		label FI_NEKRESLI
E6FD:C1		POP BC
E6FE:DDE1	POP IX
E700:D1		POP DE
E701:E1		POP HL
E702:13		INC DE
E703:13		INC DE
E704:1A		LD A, (DE)
E705:13		INC DE
E706:DDBD	CP IXL
E708:2802	JR Z, E70C
E70A:D1		POP DE
E70B:D5		PUSH DE
E70C:		label FI_TEST_ZACATKU_SELF
E70C:7D		LD A, L
E70D:BB		CP E
E70E:20A3	JR NZ, E6B3
E710:D1		POP DE
E711:C9		RET
		End of INCLUDE
		INCLUDE draw3D.asm
E712:		label DRAW3D
E712:CD88E0	CALL E088
E715:0612	LD B, 12
E717:3A47D4	LD A, (D447)
E71A:0F		RRCA
E71B:9F		SBC A, A
E71C:4F		LD C, A
E71D:		label D_POZADI_LOOP
E71D:11B77F	LD DE, 7FB7
E720:C5		PUSH BC
E721:05		DEC B
E722:CD91E0	CALL E091
E725:C1		POP BC
E726:10F5	DJNZ E71D
E728:11EA5F	LD DE, 5FEA
E72B:010E00	LD BC, 000E
E72E:CD91E0	CALL E091
E731:26D2	LD H, D2
E733:3A46D4	LD A, (D446)
E736:6F		LD L, A
E737:4E		LD C, (HL)
E738:C60C	ADD A, 0C
E73A:6F		LD L, A
E73B:7E		LD A, (HL)
E73C:5F		LD E, A
E73D:87		ADD A, A
E73E:87		ADD A, A
E73F:57		LD D, A
E740:26D1	LD H, D1
E742:3A45D4	LD A, (D445)
E745:0606	LD B, 06
E747:		label NULA
E747:6F		LD L, A
E748:E5		PUSH HL
E749:81		ADD A, C
E74A:10FB	DJNZ E747
E74C:DDE1	POP IX
E74E:D5		PUSH DE
E74F:2185D7	LD HL, D785
E752:06FF	LD B, FF
E754:CDA2E7	CALL E7A2
E757:D1		POP DE
E758:7A		LD A, D
E759:93		SUB E
E75A:57		LD D, A
E75B:DDE1	POP IX
E75D:D5		PUSH DE
E75E:21C9D7	LD HL, D7C9
E761:0630	LD B, 30
E763:CDA2E7	CALL E7A2
E766:D1		POP DE
E767:7A		LD A, D
E768:93		SUB E
E769:57		LD D, A
E76A:DDE1	POP IX
E76C:D5		PUSH DE
E76D:21FDD7	LD HL, D7FD
E770:0624	LD B, 24
E772:CDA2E7	CALL E7A2
E775:D1		POP DE
E776:7A		LD A, D
E777:93		SUB E
E778:57		LD D, A
E779:DDE1	POP IX
E77B:D5		PUSH DE
E77C:2121D8	LD HL, D821
E77F:0618	LD B, 18
E781:CDA2E7	CALL E7A2
E784:D1		POP DE
E785:DDE1	POP IX
E787:D5		PUSH DE
E788:2135D8	LD HL, D835
E78B:060C	LD B, 0C
E78D:CDA2E7	CALL E7A2
E790:D1		POP DE
E791:DDE1	POP IX
E793:2149D8	LD HL, D849
E796:0600	LD B, 00
E798:CDA2E7	CALL E7A2
E79B:CDCAE9	CALL E9CA
E79E:CD7FE0	CALL E07F
E7A1:C9		RET
E7A2:		label PROHLEDEJ_PROSTOR_VPREDU
E7A2:DD4D	LD C, IXL
E7A4:7A		LD A, D
E7A5:		label PPV_LOOP
E7A5:81		ADD A, C
E7A6:DD6F	LD IXL, A
E7A8:DDCB004E	BIT 1, (IX+00)
E7AC:CDE4E7	CALL E7E4
E7AF:CDE4E7	CALL E7E4
E7B2:7A		LD A, D
E7B3:BB		CP E
E7B4:3E04	LD A, 04
E7B6:CC00E8	CALL Z, E800
E7B9:79		LD A, C
E7BA:92		SUB D
E7BB:DD6F	LD IXL, A
E7BD:DDCB004E	BIT 1, (IX+00)
E7C1:CDE4E7	CALL E7E4
E7C4:CDE4E7	CALL E7E4
E7C7:7A		LD A, D
E7C8:BB		CP E
E7C9:3E08	LD A, 08
E7CB:CC00E8	CALL Z, E800
E7CE:7A		LD A, D
E7CF:93		SUB E
E7D0:57		LD D, A
E7D1:20D2	JR NZ, E7A5
E7D3:DD69	LD IXL, C
E7D5:DDCB004E	BIT 1, (IX+00)
E7D9:CDE4E7	CALL E7E4
E7DC:AF		XOR A
E7DD:CD00E8	CALL E800
E7E0:C9		RET
E7E1:		label ADD_BC_INIT_COPY_PATTERN2BUFFER_NOZEROFLAG
E7E1:09		ADD HL, BC
E7E2:		label INIT_COPY_PATTERN2BUFFER_NOZEROFLAG
E7E2:F601	OR 01
E7E4:		label INIT_COPY_PATTERN2BUFFER
E7E4:D5		PUSH DE
E7E5:C5		PUSH BC
E7E6:5E		LD E, (HL)
E7E7:23		INC HL
E7E8:56		LD D, (HL)
E7E9:23		INC HL
E7EA:4E		LD C, (HL)
E7EB:23		INC HL
E7EC:46		LD B, (HL)
E7ED:23		INC HL
E7EE:280D	JR Z, E7FD
E7F0:14		INC D
E7F1:15		DEC D
E7F2:F5		PUSH AF
E7F3:E5		PUSH HL
E7F4:DDE5	PUSH IX
E7F6:C491E0	CALL NZ, E091
E7F9:DDE1	POP IX
E7FB:E1		POP HL
E7FC:F1		POP AF
E7FD:		label ICP_EXIT
E7FD:C1		POP BC
E7FE:D1		POP DE
E7FF:C9		RET
E800:		label INIT_FIND_OBJECT
E800:CB78	BIT 7, B
E802:C0		RET NZ
E803:E5		PUSH HL
E804:D5		PUSH DE
E805:C5		PUSH BC
E806:80		ADD A, B
E807:4F		LD C, A
E808:0600	LD B, 00
E80A:CD7EE5	CALL E57E
E80D:C1		POP BC
E80E:D1		POP DE
E80F:E1		POP HL
E810:C9		RET
		End of INCLUDE
		INCLUDE inventory.asm
E811:		label TEST_OTEVRENY_INVENTAR
E811:3A10D2	LD A, (D210)
E814:E601	AND 01
E816:3AFED6	LD A, (D6FE)
E819:C9		RET
E81A:		label DE_INVENTORY_ITEMS_AKTIVNI_B0
E81A:0600	LD B, 00
E81C:		label DE_INVENTORY_ITEMS_AKTIVNI_B
E81C:3A72D4	LD A, (D472)
E81F:5F		LD E, A
E820:		label DE_INVENTORY_ITEMS_ABE
		IF (false)
-     .error 'Zmenit kod pro nasobeni 27x'
		ENDIF
E820:87		ADD A, A
E821:87		ADD A, A
E822:87		ADD A, A
E823:87		ADD A, A
E824:87		ADD A, A
E825:93		SUB E
E826:80		ADD A, B
E827:C605	ADD A, 05
E829:5F		LD E, A
		IF (false)
-      .warning 'Delsi kod o 2 bajty! Pole INVENTORY_ITEMS = preleza segment!'
-     adc     A, INVENTORY_ITEMS / 256;  7:2
-     sub     E                       ;  4:1
-     ld      D, A                    ;  4:1
		ELSE (true)
E82A:16D6	LD D, D6
		ENDIF
E82C:C9		RET
E82D:		label SET_RIGHT_PANEL
E82D:2110D2	LD HL, D210
E830:7E		LD A, (HL)
E831:EE01	XOR 01
E833:77		LD (HL), A
E834:E601	AND 01
E836:C2CEE8	JP NZ, E8CE
E839:1806	JR E841
E83B:		label NEW_PLAYER_ACTIVE
E83B:CD11E8	CALL E811
E83E:C2CEE8	JP NZ, E8CE
E841:		label PLAYERS_WINDOW
E841:01010E	LD BC, 0E01
E844:2112C8	LD HL, C812
E847:CDDFEB	CALL EBDF
E84A:01030E	LD BC, 0E03
E84D:21B2C8	LD HL, C8B2
E850:CDDFEB	CALL EBDF
E853:01030E	LD BC, 0E03
E856:2192C9	LD HL, C992
E859:CDDFEB	CALL EBDF
E85C:01010E	LD BC, 0E01
E85F:2172CA	LD HL, CA72
E862:CDDFEB	CALL EBDF
E865:DD210CDF	LD IX, DF0C
E869:ED4B72D4	LD BC, (D472)
E86D:0C		INC C
E86E:2112C8	LD HL, C812
E871:1119C8	LD DE, C819
E874:		label PW_JMENA_LOOP
E874:3E03	LD A, 03
E876:0D		DEC C
E877:2802	JR Z, E87B
E879:3E07	LD A, 07
E87B:		label PW_AKTIVNI
E87B:F5		PUSH AF
E87C:CD42E4	CALL E442
E87F:7D		LD A, L
E880:C6A0	ADD A, A0
E882:6F		LD L, A
E883:8C		ADC A, H
E884:95		SUB L
E885:67		LD H, A
E886:F1		POP AF
E887:DDE5	PUSH IX
E889:DD2109DF	LD IX, DF09
E88D:CD42E4	CALL E442
E890:DDE1	POP IX
E892:7D		LD A, L
E893:C640	ADD A, 40
E895:6F		LD L, A
E896:8C		ADC A, H
E897:95		SUB L
E898:67		LD H, A
E899:EB		EX DE, HL
E89A:10D8	DJNZ E874
E89C:DD2105D6	LD IX, D605
E8A0:AF		XOR A
E8A1:F5		PUSH AF
E8A2:0E1F	LD C, 1F
E8A4:		label PW_HANDS_LOOP
E8A4:47		LD B, A
E8A5:DD7E14	LD A, (IX+14)
E8A8:CD6DEA	CALL EA6D
E8AB:04		INC B
E8AC:DD7E19	LD A, (IX+19)
E8AF:CD6DEA	CALL EA6D
E8B2:04		INC B
E8B3:78		LD A, B
E8B4:0600	LD B, 00
E8B6:DD09	ADD IX, BC
E8B8:FE0C	CP 0C
E8BA:C2A4E8	JP NZ, E8A4
E8BD:CD99E9	CALL E999
E8C0:218DD4	LD HL, D48D
E8C3:0606	LD B, 06
E8C5:		label PW_AVATARS
E8C5:CDE2E7	CALL E7E2
E8C8:10FB	DJNZ E8C5
E8CA:CD04EC	CALL EC04
E8CD:C9		RET
E8CE:		label INVENTORY_WINDOW_OPEN
E8CE:		label INVENTORY_WINDOW_KURZOR
E8CE:		label INVENTORY_WINDOW_REFRESH
E8CE:010408	LD BC, 0804
E8D1:2198C8	LD HL, C898
E8D4:CDDFEB	CALL EBDF
E8D7:010808	LD BC, 0808
E8DA:2118C9	LD HL, C918
E8DD:CDDFEB	CALL EBDF
E8E0:010408	LD BC, 0804
E8E3:2118CA	LD HL, CA18
E8E6:CDDFEB	CALL EBDF
E8E9:01040A	LD BC, 0A04
E8EC:2116C8	LD HL, C816
E8EF:CDDFEB	CALL EBDF
E8F2:3A72D4	LD A, (D472)
E8F5:F5		PUSH AF
		IF (false)
-     .warning 'Pomalejsi kod protoze NAMES preleza segment!'
-     inc     a                       ;  4:1
-     ld      bc,NEXT_NAME            ; 10:3
-     ld      hl,NAMES-NEXT_NAME      ; 10:3
- IW_NEXT_NAME:        
-     add     hl,bc                   ; 11:1
-     dec     a                       ;  4:1
-     jr      nz,IW_NEXT_NAME         ;12/7:2
-     push    hl                      ; 11:1
-     pop     ix                      ; 14:2 ix <- hl
		ELSE (true)
E8F6:67		LD H, A
E8F7:87		ADD A, A
E8F8:87		ADD A, A
E8F9:6F		LD L, A
E8FA:87		ADD A, A
E8FB:85		ADD A, L
E8FC:94		SUB H
E8FD:C60C	ADD A, 0C
E8FF:DD6F	LD IXL, A
E901:DD26DF	LD IXH, DF
		ENDIF
		IF (false)
-     .error 'Zmen kod protoze se NEXT_NAME != 11!'
		ENDIF
E904:2116C8	LD HL, C816
E907:CDFCE3	CALL E3FC
E90A:F1		POP AF
E90B:87		ADD A, A
E90C:87		ADD A, A
E90D:C68D	ADD A, 8D
E90F:6F		LD L, A
E910:CED4	ADC A, D4
E912:95		SUB L
E913:67		LD H, A
E914:5E		LD E, (HL)
E915:23		INC HL
E916:56		LD D, (HL)
E917:010012	LD BC, 1200
E91A:CD91E0	CALL E091
E91D:AF		XOR A
E91E:F5		PUSH AF
E91F:061B	LD B, 1B
E921:		label IW_LOOP
E921:CD45E9	CALL E945
E924:10FB	DJNZ E921
E926:11E386	LD DE, 86E3
E929:D5		PUSH DE
E92A:11091D	LD DE, 1D09
E92D:D5		PUSH DE
E92E:11005F	LD DE, 5F00
E931:D5		PUSH DE
E932:110719	LD DE, 1907
E935:D5		PUSH DE
E936:11005F	LD DE, 5F00
E939:D5		PUSH DE
E93A:11F81D	LD DE, 1DF8
E93D:D5		PUSH DE
E93E:CD99E9	CALL E999
E941:CDCAE9	CALL E9CA
E944:C9		RET
E945:		label VYKRESLI_ITEM_NA_POZICI_B
E945:E1		POP HL
E946:2297E9	LD (E997), HL
E949:78		LD A, B
E94A:87		ADD A, A
PVIm2		EQU D6FD
E94B:C6FD	ADD A, FD
E94D:6F		LD L, A
		IF (true)
E94E:CED6	ADC A, D6
E950:95		SUB L
E951:67		LD H, A
E952:7E		LD A, (HL)
E953:23		INC HL
		ELSE (false)
-     ld      H, POZICE_V_INVENTARI / 256
-     ld      A, (HL)
-     inc     L
		ENDIF
E954:66		LD H, (HL)
E955:6F		LD L, A
E956:3AFDD6	LD A, (D6FD)
E959:4F		LD C, A
E95A:CD32EA	CALL EA32
E95D:2805	JR Z, E964
E95F:110C87	LD DE, 870C
E962:D5		PUSH DE
E963:E5		PUSH HL
E964:		label IW_BEZ_MRIZKY
E964:48		LD C, B
E965:CD1CE8	CALL E81C
		IF (false)
-     .warning 'Pomalejsi kod, INVENTORY_ITEMS preleza segment!'
-     dec     DE
		ELSE (true)
E968:1D		DEC E
		ENDIF
E969:1A		LD A, (DE)
E96A:87		ADD A, A
E96B:2806	JR Z, E973
E96D:CDA8E9	CALL E9A8
E970:D5		PUSH DE
E971:E5		PUSH HL
E972:0D		DEC C
E973:		label IW_BEZ_PREDMETU
E973:78		LD A, B
E974:FE11	CP 11
E976:2005	JR NZ, E97D
E978:117784	LD DE, 8477
E97B:D5		PUSH DE
E97C:E5		PUSH HL
E97D:		label IW_NENI_PROSTIRANI
E97D:11B084	LD DE, 84B0
E980:3805	JR C, E987
E982:2803	JR Z, E987
E984:B9		CP C
E985:2803	JR Z, E98A
E987:		label IW_MODRY
E987:114D81	LD DE, 814D
E98A:		label IW_PRAZDNE_POLICKO
E98A:3AFED6	LD A, (D6FE)
E98D:3C		INC A
E98E:B8		CP B
E98F:2003	JR NZ, E994
E991:118681	LD DE, 8186
E994:		label IW_NEJSME_NA_KURZORU
E994:D5		PUSH DE
E995:E5		PUSH HL
E996:		label VINPB_SELF
E996:C30000	JP 0000
E999:		label KRESLI_ZE_ZASOBNIKU
E999:E1		POP HL
E99A:C1		POP BC
E99B:04		INC B
E99C:05		DEC B
E99D:2807	JR Z, E9A6
E99F:D1		POP DE
E9A0:E5		PUSH HL
E9A1:CD91E0	CALL E091
E9A4:18F3	JR E999
E9A6:		label KZZ_EXIT
E9A6:E5		PUSH HL
E9A7:C9		RET
E9A8:		label DE_2DSPRITE_A
E9A8:E5		PUSH HL
E9A9:C6BF	ADD A, BF
E9AB:6F		LD L, A
		IF (false)
-     .warning 'ITEM2SPRITE preleze segment!'
-     adc     A, ITEM2SPRITE / 256
-     sub     L
-     ld      H, A
-     ld      E, (HL)
-     inc     HL
		ELSE (true)
E9AC:26D6	LD H, D6
E9AE:5E		LD E, (HL)
E9AF:2C		INC L
		ENDIF
E9B0:56		LD D, (HL)
E9B1:E1		POP HL
E9B2:C9		RET
E9B3:		label A_NAJDI_POLOZENY_PREDMET_HL
E9B3:E5		PUSH HL
E9B4:C5		PUSH BC
E9B5:D5		PUSH DE
E9B6:CDF3E4	CALL E4F3
E9B9:EB		EX DE, HL
E9BA:2B		DEC HL
E9BB:7E		LD A, (HL)
E9BC:2B		DEC HL
E9BD:46		LD B, (HL)
E9BE:2B		DEC HL
E9BF:4E		LD C, (HL)
E9C0:EB		EX DE, HL
E9C1:ED42	SBC HL, BC
E9C3:2801	JR Z, E9C6
E9C5:AF		XOR A
E9C6:		label NPP_EXIT
E9C6:D1		POP DE
E9C7:C1		POP BC
E9C8:E1		POP HL
E9C9:C9		RET
E9CA:		label VYKRESLI_AKTIVNI_PREDMET
E9CA:CD11E8	CALL E811
E9CD:C8		RET Z
E9CE:CD1AE8	CALL E81A
E9D1:D5		PUSH DE
E9D2:DDE1	POP IX
E9D4:2A45D4	LD HL, (D445)
E9D7:CDB3E9	CALL E9B3
E9DA:DD771C	LD (IX+1C), A
E9DD:24		INC H
E9DE:CDB3E9	CALL E9B3
E9E1:DD771E	LD (IX+1E), A
E9E4:CD8DE3	CALL E38D
E9E7:25		DEC H
E9E8:CDB3E9	CALL E9B3
E9EB:DD771B	LD (IX+1B), A
E9EE:25		DEC H
E9EF:CDB3E9	CALL E9B3
E9F2:DD771D	LD (IX+1D), A
E9F5:AF		XOR A
E9F6:F5		PUSH AF
E9F7:061F	LD B, 1F
E9F9:		label VAP_LOOP
E9F9:CD45E9	CALL E945
E9FC:05		DEC B
E9FD:3E1B	LD A, 1B
E9FF:B8		CP B
EA00:20F7	JR NZ, E9F9
EA02:CD99E9	CALL E999
EA05:3AFDD6	LD A, (D6FD)
EA08:87		ADD A, A
EA09:C8		RET Z
EA0A:C6BF	ADD A, BF
EA0C:6F		LD L, A
		IF (true)
EA0D:CED6	ADC A, D6
EA0F:95		SUB L
EA10:67		LD H, A
EA11:5E		LD E, (HL)
EA12:23		INC HL
		ELSE (false)
-     ld      h, ITEM2SPRITE / 256
-     ld      e, (hl)
-     inc     l
		ENDIF
EA13:56		LD D, (HL)
EA14:D5		PUSH DE
EA15:3AFED6	LD A, (D6FE)
EA18:87		ADD A, A
EA19:C6FF	ADD A, FF
EA1B:6F		LD L, A
EA1C:CED6	ADC A, D6
EA1E:95		SUB L
EA1F:67		LD H, A
EA20:4E		LD C, (HL)
EA21:23		INC HL
EA22:46		LD B, (HL)
EA23:05		DEC B
EA24:0D		DEC C
EA25:118681	LD DE, 8186
EA28:C5		PUSH BC
EA29:CD91E0	CALL E091
EA2C:C1		POP BC
EA2D:D1		POP DE
EA2E:CD91E0	CALL E091
EA31:C9		RET
EA32:		label TEST_NEPOVOLENE_POZICE
EA32:78		LD A, B
EA33:3D		DEC A
EA34:FE1B	CP 1B
EA36:380D	JR C, EA45
EA38:E601	AND 01
EA3A:C8		RET Z
EA3B:E5		PUSH HL
EA3C:CD8DE3	CALL E38D
EA3F:26D1	LD H, D1
EA41:CB46	BIT 0, (HL)
EA43:E1		POP HL
EA44:C9		RET
EA45:		label TNP_NOSENE
EA45:E6F0	AND F0
EA47:C8		RET Z
EA48:79		LD A, C
EA49:B7		OR A
EA4A:C8		RET Z
POZICE_M1	EQU D73C
EA4B:E5		PUSH HL
EA4C:C63C	ADD A, 3C
EA4E:6F		LD L, A
EA4F:CED7	ADC A, D7
EA51:95		SUB L
EA52:67		LD H, A
EA53:78		LD A, B
EA54:FE1B	CP 1B
EA56:2002	JR NZ, EA5A
EA58:3E16	LD A, 16
EA5A:		label TNP_NENI_PRSTEN
EA5A:FE1A	CP 1A
EA5C:2002	JR NZ, EA60
EA5E:3E15	LD A, 15
EA60:		label TNP_NENI_RUKA
EA60:BE		CP (HL)
EA61:E1		POP HL
EA62:C9		RET
EA63:		label DE_POZICE_RUKOU_A
		IF (false)
-     .error      'Seznam POZICE_RUKOU prekracuje 256 bajtovy segment!'
		ENDIF
EA63:87		ADD A, A
EA64:C675	ADD A, 75
EA66:6F		LD L, A
EA67:26D4	LD H, D4
EA69:5E		LD E, (HL)
EA6A:2C		INC L
EA6B:56		LD D, (HL)
EA6C:C9		RET
EA6D:		label VYKRESLI_RUKU
EA6D:E1		POP HL
EA6E:228BEA	LD (EA8B), HL
EA71:11FD82	LD DE, 82FD
EA74:87		ADD A, A
EA75:2808	JR Z, EA7F
EA77:C6BF	ADD A, BF
EA79:6F		LD L, A
		IF (false)
-     adc     A, ITEM2SPRITE / 256
-     sub     L
-     ld      H, A
-     ld      E, (HL)
-     inc     HL
		ELSE (true)
EA7A:26D6	LD H, D6
EA7C:5E		LD E, (HL)
EA7D:2C		INC L
		ENDIF
EA7E:56		LD D, (HL)
EA7F:		label VR_PRAZDNA
EA7F:D5		PUSH DE
EA80:78		LD A, B
EA81:CD63EA	CALL EA63
EA84:D5		PUSH DE
EA85:214D81	LD HL, 814D
EA88:E5		PUSH HL
EA89:D5		PUSH DE
EA8A:		label VR_SELF
EA8A:C30000	JP 0000
		End of INCLUDE
EA8D:		label PUSH_ALL
EA8D:22A2EA	LD (EAA2), HL
EA90:E3		EX (SP), HL
EA91:F5		PUSH AF
EA92:C5		PUSH BC
EA93:D5		PUSH DE
EA94:DDE5	PUSH IX
EA96:FDE5	PUSH IY
EA98:08		EX AF, AF'
EA99:F5		PUSH AF
EA9A:08		EX AF, AF'
EA9B:D9		EXX
EA9C:C5		PUSH BC
EA9D:D5		PUSH DE
EA9E:E5		PUSH HL
EA9F:D9		EXX
EAA0:E5		PUSH HL
EAA1:		label PUSH_ALL_HL
EAA1:210000	LD HL, 0000
EAA4:C9		RET
EAA5:		label POP_ALL
EAA5:E1		POP HL
EAA6:D9		EXX
EAA7:E1		POP HL
EAA8:D1		POP DE
EAA9:C1		POP BC
EAAA:D9		EXX
EAAB:08		EX AF, AF'
EAAC:F1		POP AF
EAAD:08		EX AF, AF'
EAAE:FDE1	POP IY
EAB0:DDE1	POP IX
EAB2:D1		POP DE
EAB3:C1		POP BC
EAB4:F1		POP AF
EAB5:E3		EX (SP), HL
EAB6:C9		RET
EAB7:		label TIME_SCROLL
EAB7:3A795C	LD A, (5C79)
EABA:E602	AND 02
EABC:47		LD B, A
EABD:		label TIME_SCROLL_LAST
EABD:EE00	XOR 00
EABF:C8		RET Z
EAC0:78		LD A, B
EAC1:32BEEA	LD (EABE), A
EAC4:CD4CE4	CALL E44C
EAC7:C9		RET
EAC8:		label PREHOD_PREPINAC
EAC8:CD11E8	CALL E811
EACB:CA1EEB	JP Z, EB1E
EACE:47		LD B, A
EACF:04		INC B
EAD0:21FDD6	LD HL, D6FD
EAD3:4E		LD C, (HL)
EAD4:CD32EA	CALL EA32
EAD7:DD21D8DB	LD IX, DBD8
EADB:C26FE4	JP NZ, E46F
EADE:3E11	LD A, 11
EAE0:90		SUB B
EAE1:E5		PUSH HL
EAE2:CCABEB	CALL Z, EBAB
EAE5:05		DEC B
EAE6:CD1CE8	CALL E81C
EAE9:1A		LD A, (DE)
EAEA:EB		EX DE, HL
EAEB:71		LD (HL), C
EAEC:E1		POP HL
EAED:77		LD (HL), A
EAEE:C5		PUSH BC
EAEF:CDCFE4	CALL E4CF
EAF2:C1		POP BC
EAF3:2AFDD6	LD HL, (D6FD)
EAF6:7C		LD A, H
EAF7:D61B	SUB 1B
EAF9:DACEE8	JP C, E8CE
EAFC:26EB	LD H, EB
EAFE:C61A	ADD A, 1A
EB00:6F		LD L, A
EB01:46		LD B, (HL)
EB02:2A45D4	LD HL, (D445)
EB05:CB48	BIT 1, B
EB07:C48DE3	CALL NZ, E38D
EB0A:7C		LD A, H
EB0B:80		ADD A, B
EB0C:67		LD H, A
EB0D:79		LD A, C
EB0E:B7		OR A
EB0F:F5		PUSH AF
EB10:C410E5	CALL NZ, E510
EB13:F1		POP AF
EB14:CC3CE5	CALL Z, E53C
EB17:C3CEE8	JP E8CE
EB1A:		label PP_DATA
EB1A:03000201	DEFB of 4 bytes
EB1E:		label PP_DATA_END
		IF (false)
-     .error 'PP_DATA!'
		ENDIF
EB1E:		label PP_NEJSME_V_INVENTARI
EB1E:CD8DE3	CALL E38D
EB21:3E00	LD A, 00
EB23:81		ADD A, C
EB24:47		LD B, A
EB25:CDD9E4	CALL E4D9
EB28:		label PP_NALEZEN_OBJEKT
EB28:C0		RET NZ
EB29:1A		LD A, (DE)
EB2A:E61F	AND 1F
EB2C:B8		CP B
EB2D:280C	JR Z, EB3B
EB2F:E61C	AND 1C
EB31:FE0C	CP 0C
EB33:CC84E4	CALL Z, E484
EB36:CDDCE4	CALL E4DC
EB39:18ED	JR EB28
EB3B:		label PP_PROHOD_PAKU
		IF (false)
-     ld      A, (DE)                     ;  7:1 typ
-     xor     ZAM_1                       ;  7:2 prepneme paku / prohodime horni bit
-     ld      (de),a                      ;  7:1 typ
		ELSE (true)
EB3B:2680	LD H, 80
EB3D:CD64E5	CALL E564
		ENDIF
EB40:13		INC DE
EB41:CD96E4	CALL E496
EB44:		label PP_LOOP
EB44:13		INC DE
EB45:1A		LD A, (DE)
EB46:B7		OR A
EB47:C0		RET NZ
EB48:13		INC DE
EB49:1A		LD A, (DE)
EB4A:6F		LD L, A
EB4B:13		INC DE
EB4C:1A		LD A, (DE)
EB4D:67		LD H, A
EB4E:CD64E5	CALL E564
EB51:C344EB	JP EB44
EB54:		label HELP
EB54:DD2162DE	LD IX, DE62
EB58:3E02	LD A, 02
EB5A:CD71E4	CALL E471
EB5D:CD6FE4	CALL E46F
EB60:CD6FE4	CALL E46F
EB63:CD6FE4	CALL E46F
EB66:C9		RET
EB67:		label OBAL_SPRITE2BUFFER
EB67:F5		PUSH AF
EB68:E5		PUSH HL
EB69:D5		PUSH DE
EB6A:CD91E0	CALL E091
EB6D:D1		POP DE
EB6E:E1		POP HL
EB6F:F1		POP AF
EB70:C9		RET
EB71:		label AKTUALIZUJ_RUZICI
EB71:3A46D4	LD A, (D446)
EB74:87		ADD A, A
EB75:87		ADD A, A
EB76:C6C9	ADD A, C9
EB78:6F		LD L, A
		IF (false)
- .warning 'Delsi kod o 2 bajty! RUZICE a RUZICE_END lezi na dvou segmentech!'
-     adc     a,RUZICE / 256              ;  7:2 resi preteceni
-     sub     l                           ;  7:2 
-     ld      h,a                         ;  4:1 hl = ukazatel na ukazatel spravneho spritu
		ELSE (true)
EB79:26D4	LD H, D4
		ENDIF
EB7B:CDE4E7	CALL E7E4
EB7E:C9		RET
EB7F:		label AKTUALIZUJ_SIPKY
EB7F:C5		PUSH BC
EB80:E5		PUSH HL
EB81:6F		LD L, A
EB82:CD6EE0	CALL E06E
EB85:7D		LD A, L
EB86:21A9D4	LD HL, D4A9
EB89:CDE4E7	CALL E7E4
EB8C:85		ADD A, L
EB8D:6F		LD L, A
		IF (false)
-     .warning    'Delsi kod o 3 bajty! Pole SIPKY preleza 256 bajtovy segment!'
-     adc     A, H                        ; 4:1
-     sub     L                           ; 4:1
-     ld      H, A                        ; 4:1 H + carry
		ENDIF
EB8E:CDE4E7	CALL E7E4
EB91:CD5DE0	CALL E05D
EB94:E1		POP HL
EB95:C1		POP BC
EB96:C9		RET
		IF (false)
- HORIZONTAL_FULL_LINE:
-     ld      a,$ff
- HORIZONTAL_MASK_LINE:
- HML_LOOP:
-     ld      (hl),a
-     inc     l
-     djnz    HML_LOOP
-     ret
		ENDIF
		IF (false)
- FILL_BLOCK:
-     ld      A, L                ;  4:1 nastavime na prvni znak a budeme postupne zvysovat o 32 => o znak nize
- FB_DALSI_MICROLINE:
-     push    AF                  ; 11:1 ulozime L
-     ld      C, IXL              ;  8:2 nastavime citac poctu radku
- FB_DALSI_RADEK:
-     ld      B, IXH              ;  8:2 nastavime citac poctu sloupcu
- FB_DALSI_SLOUPEC:
-     ld      (HL), E             ;  7:1
-     inc     L                   ;  4:1
-     djnz    FB_DALSI_SLOUPEC    ;13/8:2
-     add     A, $20              ;  7:2
-     ld      L, A                ;  4:1 stejna mikroradka o znak/radek nize
-     dec     C                   ;  4:1
-     jr      nz, FB_DALSI_RADEK  ;12/7:2
-     pop     AF                  ; 10:1
-     ld      L, A                ;  4:1
-     dec     D                   ;  4:1
-     ret     z                   ;11/5:1 pokud byla vyplnena jen jedna mikroradka ( atributy ) tak hl nebylo zmeneno
-     inc     H                   ;  4:1 o mikroradek nize
-     jp      FB_DALSI_MICROLINE  ; 10:3
- FILL_ATTR_BLOCK:
-     ld      IXH, B                  ; 8:2 push    bc + pop     ix = 11+14:1+2
-     ld      IXL, C                  ; 8:2
-     ld      DE, $0107               ; 10:3 jen 1 mikroradek a bila barva (vzor)
-     call    FILL_BLOCK
-     call    SEG_ATTR2SCREEN
-     ld      DE, $0800               ; 10:3 8 mikroradku a vyplnujeme nulama
-     call    FILL_BLOCK
-     ret
		ELSE (true)
EB97:		label FILL_BLOCK
EB97:		label FB_PIXEL
EB97:C5		PUSH BC
EB98:E5		PUSH HL
EB99:7D		LD A, L
EB9A:		label FB_RADEK
EB9A:42		LD B, D
EB9B:		label FB_DALSI_SLOUPEC
EB9B:73		LD (HL), E
EB9C:2C		INC L
EB9D:10FC	DJNZ EB9B
EB9F:C620	ADD A, 20
EBA1:6F		LD L, A
EBA2:0D		DEC C
EBA3:20F5	JR NZ, EB9A
EBA5:E1		POP HL
EBA6:C1		POP BC
EBA7:24		INC H
EBA8:10ED	DJNZ EB97
EBAA:C9		RET
EBAB:		label EATING
EBAB:C5		PUSH BC
EBAC:3A72D4	LD A, (D472)
EBAF:CDB9EC	CALL ECB9
EBB2:23		INC HL
EBB3:46		LD B, (HL)
EBB4:115ADC	LD DE, DC5A
EBB7:79		LD A, C
EBB8:D61B	SUB 1B
EBBA:200D	JR NZ, EBC9
EBBC:1166DC	LD DE, DC66
EBBF:2B		DEC HL
EBC0:7E		LD A, (HL)
EBC1:C614	ADD A, 14
EBC3:B8		CP B
EBC4:3801	JR C, EBC7
EBC6:78		LD A, B
EBC7:		label E_LESS
EBC7:77		LD (HL), A
EBC8:AF		XOR A
EBC9:		label E_NO_FOOD
EBC9:3D		DEC A
EBCA:2002	JR NZ, EBCE
EBCC:2B		DEC HL
EBCD:70		LD (HL), B
EBCE:		label E_NO_R
EBCE:3D		DEC A
EBCF:2002	JR NZ, EBD3
EBD1:23		INC HL
EBD2:77		LD (HL), A
EBD3:		label E_NO_G
EBD3:3D		DEC A
EBD4:2000	JR NZ, EBD6
EBD6:		label E_NO_B
EBD6:		label E_PRINT
EBD6:EB		EX DE, HL
EBD7:79		LD A, C
EBD8:CDB6E4	CALL E4B6
EBDB:C1		POP BC
EBDC:0E00	LD C, 00
EBDE:C9		RET
EBDF:		label FILL_ATTR_BLOCK
EBDF:50		LD D, B
EBE0:1E07	LD E, 07
EBE2:0601	LD B, 01
EBE4:CD97EB	CALL EB97
EBE7:25		DEC H
EBE8:CDF3EB	CALL EBF3
EBEB:1E00	LD E, 00
EBED:0608	LD B, 08
EBEF:CD97EB	CALL EB97
EBF2:C9		RET
		ENDIF
EBF3:		label SEG_ATTR2SCREEN
EBF3:7C		LD A, H
EBF4:26B0	LD H, B0
EBF6:D6C8	SUB C8
EBF8:3004	JR NC, EBFE
EBFA:2640	LD H, 40
EBFC:C670	ADD A, 70
EBFE:		label SA_BUFF
EBFE:87		ADD A, A
EBFF:87		ADD A, A
EC00:87		ADD A, A
EC01:84		ADD A, H
EC02:67		LD H, A
EC03:C9		RET
EC04:		label ZOBRAZ_ZIVOTY
EC04:215BD7	LD HL, D75B
EC07:0606	LD B, 06
EC09:		label ZZ_LOOP
EC09:C5		PUSH BC
EC0A:4E		LD C, (HL)
EC0B:2C		INC L
EC0C:46		LD B, (HL)
EC0D:2C		INC L
EC0E:2C		INC L
EC0F:5E		LD E, (HL)
EC10:2C		INC L
EC11:56		LD D, (HL)
EC12:CD52EC	CALL EC52
EC15:2C		INC L
EC16:4E		LD C, (HL)
EC17:2C		INC L
EC18:3A785C	LD A, (5C78)
EC1B:B9		CP C
EC1C:3802	JR C, EC20
EC1E:AF		XOR A
EC1F:77		LD (HL), A
EC20:		label ZZ_NEVYPRSEL
EC20:7E		LD A, (HL)
EC21:B7		OR A
EC22:2804	JR Z, EC28
EC24:47		LD B, A
EC25:CD2DEC	CALL EC2D
EC28:		label ZZ_BEZ_AKT_ZRANENI
EC28:2C		INC L
EC29:C1		POP BC
EC2A:10DD	DJNZ EC09
EC2C:C9		RET
EC2D:		label VYKRESLI_KRVAVY_FLEK
EC2D:E5		PUSH HL
EC2E:7A		LD A, D
EC2F:87		ADD A, A
EC30:87		ADD A, A
EC31:87		ADD A, A
EC32:92		SUB D
Pomocny		EQU 0574
EC33:D674	SUB 74
EC35:4F		LD C, A
EC36:7B		LD A, E
EC37:E61F	AND 1F
EC39:3D		DEC A
EC3A:47		LD B, A
EC3B:D5		PUSH DE
EC3C:116770	LD DE, 7067
EC3F:CD67EB	CALL EB67
EC42:E1		POP HL
EC43:2C		INC L
EC44:2C		INC L
EC45:DD2150EC	LD IX, EC50
EC49:3E42	LD A, 42
EC4B:CDFEE3	CALL E3FE
EC4E:E1		POP HL
EC4F:C9		RET
EC50:		label DAMAGE_BUF
EC50:3100	DEFB of 2 bytes
EC52:		label VYKRESLI_ZIVOTY
EC52:E5		PUSH HL
EC53:D5		PUSH DE
EC54:D5		PUSH DE
EC55:AF		XOR A
EC56:67		LD H, A
EC57:69		LD L, C
EC58:57		LD D, A
EC59:58		LD E, B
EC5A:47		LD B, A
EC5B:29		ADD HL, HL
EC5C:29		ADD HL, HL
EC5D:09		ADD HL, BC
EC5E:4F		LD C, A
EC5F:37		SCF
EC60:		label VZ_ZNAKU
EC60:0D		DEC C
EC61:ED52	SBC HL, DE
EC63:30FB	JR NC, EC60
EC65:ED5A	ADC HL, DE
EC67:29		ADD HL, HL
EC68:29		ADD HL, HL
EC69:29		ADD HL, HL
EC6A:		label VZ_ZBYTEK
EC6A:3C		INC A
EC6B:ED52	SBC HL, DE
EC6D:30FB	JR NC, EC6A
		IF (false)
-     .error      'Seznam CARKY prekracuje segment!'
		ENDIF
EC6F:C653	ADD A, 53
EC71:6F		LD L, A
EC72:26E0	LD H, E0
EC74:56		LD D, (HL)
EC75:79		LD A, C
EC76:3C		INC A
EC77:2002	JR NZ, EC7B
EC79:3E42	LD A, 42
EC7B:		label VZ_VICEZNAKOVY
EC7B:E646	AND 46
EC7D:5F		LD E, A
EC7E:E1		POP HL
EC7F:0605	LD B, 05
EC81:		label VZ_LOOP_SELF
EC81:7A		LD A, D
EC82:0C		INC C
EC83:2803	JR Z, EC88
EC85:79		LD A, C
EC86:17		RLA
EC87:9F		SBC A, A
EC88:		label VZ_PREDEL
EC88:		label VZ_COL_SELF
EC88:73		LD (HL), E
EC89:E5		PUSH HL
EC8A:C5		PUSH BC
EC8B:4F		LD C, A
EC8C:CDF3EB	CALL EBF3
EC8F:0606	LD B, 06
EC91:		label VZ_LOOP_PX
EC91:24		INC H
EC92:71		LD (HL), C
EC93:10FC	DJNZ EC91
EC95:C1		POP BC
EC96:E1		POP HL
EC97:2C		INC L
EC98:10E7	DJNZ EC81
EC9A:D1		POP DE
EC9B:E1		POP HL
EC9C:C9		RET
EC9D:		label VYHAZEJ_VSECHNO
EC9D:C5		PUSH BC
EC9E:D5		PUSH DE
EC9F:7B		LD A, E
ECA0:061B	LD B, 1B
ECA2:CD20E8	CALL E820
ECA5:		label VV_LOOP
		IF (false)
-     .warning 'Pomalejsi kod kvuli vicesegmentovemu INVENTORY_ITEMS'
-     dec     DE
		ELSE (true)
ECA5:1D		DEC E
		ENDIF
ECA6:D5		PUSH DE
ECA7:C5		PUSH BC
ECA8:2A45D4	LD HL, (D445)
ECAB:1A		LD A, (DE)
ECAC:B7		OR A
ECAD:C410E5	CALL NZ, E510
ECB0:C1		POP BC
ECB1:D1		POP DE
ECB2:AF		XOR A
ECB3:12		LD (DE), A
ECB4:10EF	DJNZ ECA5
ECB6:D1		POP DE
ECB7:C1		POP BC
ECB8:C9		RET
		IF (false)
-     .error      'Seznam DATA_ZIVOTY prekracuje segment!'
		ENDIF
ECB9:		label HL_DATA_ZIVOTY_A
ECB9:6F		LD L, A
ECBA:87		ADD A, A
ECBB:87		ADD A, A
ECBC:87		ADD A, A
ECBD:95		SUB L
ECBE:C65B	ADD A, 5B
ECC0:6F		LD L, A
ECC1:26D7	LD H, D7
ECC3:C9		RET
ECC4:		label ZRAN_POSTAVU
ECC4:D5		PUSH DE
ECC5:7B		LD A, E
ECC6:CDB9EC	CALL ECB9
ECC9:7E		LD A, (HL)
ECCA:92		SUB D
ECCB:3007	JR NC, ECD4
ECCD:AF		XOR A
ECCE:77		LD (HL), A
ECCF:CD9DEC	CALL EC9D
ECD2:180E	JR ECE2
ECD4:		label ZP_ZIJE
ECD4:77		LD (HL), A
ECD5:23		INC HL
ECD6:23		INC HL
ECD7:23		INC HL
ECD8:23		INC HL
ECD9:23		INC HL
ECDA:3A785C	LD A, (5C78)
ECDD:C632	ADD A, 32
ECDF:77		LD (HL), A
ECE0:23		INC HL
ECE1:72		LD (HL), D
ECE2:		label ZP_EXIT
ECE2:D1		POP DE
ECE3:C9		RET
ECE4:		label OTESTUJ_TRVALE_ZRANENI
ECE4:D5		PUSH DE
ECE5:7B		LD A, E
ECE6:CDB9EC	CALL ECB9
ECE9:23		INC HL
ECEA:23		INC HL
ECEB:7E		LD A, (HL)
ECEC:B7		OR A
ECED:57		LD D, A
ECEE:C4C4EC	CALL NZ, ECC4
ECF1:D1		POP DE
ECF2:C9		RET
ECF3:		label PLAYERS_WINDOW_AND_DAMAGE
ECF3:		label PWAD_SELF
ECF3:3E00	LD A, 00
ECF5:21785C	LD HL, 5C78
ECF8:AE		XOR (HL)
ECF9:E680	AND 80
ECFB:280F	JR Z, ED0C
ECFD:7E		LD A, (HL)
ECFE:32F4EC	LD (ECF4), A
ED01:110001	LD DE, 0100
ED04:0606	LD B, 06
ED06:		label PWAD_LOOP
ED06:CDE4EC	CALL ECE4
ED09:1C		INC E
ED0A:10FA	DJNZ ED06
ED0C:		label PWAD_NEZRANUJ
ED0C:CD41E8	CALL E841
ED0F:C9		RET
ED10:		label BUFF2SCREEN
ED10:CD8DEA	CALL EA8D
ED13:AF		XOR A
ED14:D3FE	OUT (FE), A
ED16:2100C8	LD HL, C800
ED19:227FED	LD (ED7F), HL
ED1C:76		HALT
ED1D:F3		DI
ED1E:210602	LD HL, 0206
ED21:		label B2S_WAIT
ED21:2B		DEC HL
ED22:7C		LD A, H
ED23:B5		OR L
ED24:20FB	JR NZ, ED21
ED26:4D		LD C, L
ED27:39		ADD HL, SP
ED28:22BEED	LD (EDBE), HL
ED2B:0608	LD B, 08
ED2D:2110B0	LD HL, B010
ED30:1804	JR ED36
ED32:		label B2S_PIXEL_DOWN_LOOP
ED32:211071	LD HL, 7110
ED35:		label B2S_CHAR_DOWN_LOOP
ED35:39		ADD HL, SP
ED36:		label B2S_DIRECT
ED36:F9		LD SP, HL
ED37:F1		POP AF
ED38:D1		POP DE
ED39:E1		POP HL
ED3A:D9		EXX
ED3B:DDE1	POP IX
ED3D:FDE1	POP IY
ED3F:08		EX AF, AF'
ED40:D1		POP DE
ED41:C1		POP BC
ED42:210290	LD HL, 9002
ED45:39		ADD HL, SP
ED46:F1		POP AF
ED47:F9		LD SP, HL
ED48:F5		PUSH AF
ED49:C5		PUSH BC
ED4A:D5		PUSH DE
ED4B:08		EX AF, AF'
ED4C:FDE5	PUSH IY
ED4E:DDE5	PUSH IX
ED50:D9		EXX
ED51:E5		PUSH HL
ED52:D5		PUSH DE
ED53:F5		PUSH AF
ED54:ED7369ED	LD (ED69), SP
ED58:21F06F	LD HL, 6FF0
ED5B:39		ADD HL, SP
ED5C:F9		LD SP, HL
ED5D:F1		POP AF
ED5E:D1		POP DE
ED5F:E1		POP HL
ED60:D9		EXX
ED61:FDE1	POP IY
ED63:08		EX AF, AF'
ED64:E1		POP HL
ED65:D1		POP DE
ED66:C1		POP BC
ED67:F1		POP AF
ED68:		label B2S_SELF_DIRECT
ED68:310000	LD SP, 0000
ED6B:F5		PUSH AF
ED6C:C5		PUSH BC
ED6D:D5		PUSH DE
ED6E:E5		PUSH HL
ED6F:08		EX AF, AF'
ED70:FDE5	PUSH IY
ED72:D9		EXX
ED73:E5		PUSH HL
ED74:D5		PUSH DE
ED75:F5		PUSH AF
ED76:10BA	DJNZ ED32
ED78:ED73A5ED	LD (EDA5), SP
ED7C:0602	LD B, 02
ED7E:		label B2S_ATTR_LOOP
ED7E:		label B2S_SELF_SRC
ED7E:3100C8	LD SP, C800
ED81:F1		POP AF
ED82:D1		POP DE
ED83:E1		POP HL
ED84:D9		EXX
ED85:DDE1	POP IX
ED87:FDE1	POP IY
ED89:08		EX AF, AF'
ED8A:D1		POP DE
ED8B:C1		POP BC
ED8C:210290	LD HL, 9002
ED8F:39		ADD HL, SP
ED90:F1		POP AF
ED91:ED737FED	LD (ED7F), SP
ED95:F9		LD SP, HL
ED96:F5		PUSH AF
ED97:C5		PUSH BC
ED98:D5		PUSH DE
ED99:08		EX AF, AF'
ED9A:FDE5	PUSH IY
ED9C:DDE5	PUSH IX
ED9E:D9		EXX
ED9F:E5		PUSH HL
EDA0:D5		PUSH DE
EDA1:F5		PUSH AF
EDA2:10DA	DJNZ ED7E
EDA4:		label B2S_ATTR_SELF
EDA4:310000	LD SP, 0000
EDA7:0C		INC C
EDA8:213069	LD HL, 6930
EDAB:79		LD A, C
EDAC:FE14	CP 14
EDAE:280D	JR Z, EDBD
EDB0:0608	LD B, 08
EDB2:E607	AND 07
EDB4:C235ED	JP NZ, ED35
EDB7:213070	LD HL, 7030
EDBA:C335ED	JP ED35
EDBD:		label B2S_EXIT
EDBD:		label B2S_SELF
EDBD:310000	LD SP, 0000
EDC0:FB		EI
EDC1:CDA5EA	CALL EAA5
EDC4:C9		RET
		INCLUDE table.h
i_nw		EQU 0000
i_ne		EQU 0001
i_se		EQU 0002
i_sw		EQU 0003
CHODBA_VZ	EQU 0001
CHODBA_SJ	EQU 0000
TYP_DVERE_N	EQU 0004
TYP_DVERE_E	EQU 0005
TYP_DVERE_S	EQU 0006
TYP_DVERE_W	EQU 0007
TYP_ZARAZKA	EQU 00FF
EDC5:		label ADR_ZARAZKY
EDC5:E1EE	DEFW of 1 words
EDC7:		label TABLE_OBJECTS
EDC7:010C00	DEFB of 3 bytes
EDCA:060C01	DEFB of 3 bytes
EDCD:101019	DEFB of 3 bytes
EDD0:101114	DEFB of 3 bytes
EDD3:101219	DEFB of 3 bytes
EDD6:101316	DEFB of 3 bytes
EDD9:11101A	DEFB of 3 bytes
EDDC:111117	DEFB of 3 bytes
EDDF:11120A	DEFB of 3 bytes
EDE2:11130B	DEFB of 3 bytes
EDE5:158980	DEFB of 3 bytes
EDE8:201015	DEFB of 3 bytes
EDEB:201113	DEFB of 3 bytes
EDEE:201218	DEFB of 3 bytes
EDF1:201311	DEFB of 3 bytes
EDF4:21100C	DEFB of 3 bytes
EDF7:211106	DEFB of 3 bytes
EDFA:211207	DEFB of 3 bytes
EDFD:211317	DEFB of 3 bytes
EE00:301019	DEFB of 3 bytes
EE03:321204	DEFB of 3 bytes
EE06:321302	DEFB of 3 bytes
EE09:40101A	DEFB of 3 bytes
EE0C:40111A	DEFB of 3 bytes
EE0F:40121A	DEFB of 3 bytes
EE12:40131A	DEFB of 3 bytes
EE15:421010	DEFB of 3 bytes
EE18:42111C	DEFB of 3 bytes
EE1B:42121D	DEFB of 3 bytes
EE1E:42131E	DEFB of 3 bytes
EE21:448980	DEFB of 3 bytes
EE24:50101A	DEFB of 3 bytes
EE27:50111A	DEFB of 3 bytes
EE2A:50121A	DEFB of 3 bytes
EE2D:50131A	DEFB of 3 bytes
EE30:521012	DEFB of 3 bytes
EE33:521108	DEFB of 3 bytes
EE36:52121B	DEFB of 3 bytes
EE39:52131D	DEFB of 3 bytes
EE3C:578401	DEFB of 3 bytes
EE3F:571016	DEFB of 3 bytes
EE42:57101D	DEFB of 3 bytes
EE45:57101D	DEFB of 3 bytes
EE48:57101D	DEFB of 3 bytes
EE4B:578500	DEFB of 3 bytes
EE4E:578700	DEFB of 3 bytes
EE51:57131A	DEFB of 3 bytes
EE54:571311	DEFB of 3 bytes
EE57:590100	DEFB of 3 bytes
EE5A:005784	DEFB of 3 bytes
EE5D:5F0C00	DEFB of 3 bytes
EE60:738C00	DEFB of 3 bytes
EE63:73121D	DEFB of 3 bytes
EE66:778401	DEFB of 3 bytes
EE69:778500	DEFB of 3 bytes
EE6C:778700	DEFB of 3 bytes
EE6F:810C01	DEFB of 3 bytes
EE72:840200	DEFB of 3 bytes
EE75:007784	DEFB of 3 bytes
EE78:8E8400	DEFB of 3 bytes
EE7B:8E8400	DEFB of 3 bytes
EE7E:8E8600	DEFB of 3 bytes
EE81:9EE400	DEFB of 3 bytes
EE84:9EE400	DEFB of 3 bytes
EE87:9EE600	DEFB of 3 bytes
EE8A:B00C00	DEFB of 3 bytes
PAKA_A		EQU 00B9
PAKA_B		EQU 00BA
PAKA_C		EQU 00BB
PAKA_D		EQU 00BC
EE8D:B90200	DEFB of 3 bytes
EE90:008E84	DEFB of 3 bytes
EE93:009EE4	DEFB of 3 bytes
EE96:00BA82	DEFB of 3 bytes
EE99:00BB82	DEFB of 3 bytes
EE9C:00BC82	DEFB of 3 bytes
EE9F:BA0200	DEFB of 3 bytes
EEA2:009EC4	DEFB of 3 bytes
EEA5:00BB82	DEFB of 3 bytes
EEA8:BB0200	DEFB of 3 bytes
EEAB:009E64	DEFB of 3 bytes
EEAE:00BC82	DEFB of 3 bytes
EEB1:BC0200	DEFB of 3 bytes
EEB4:009EA4	DEFB of 3 bytes
EEB7:00BA82	DEFB of 3 bytes
EEBA:D80100	DEFB of 3 bytes
		IF (false)
- defb      0,                           216,      ZAM_1 + TYP_PREPINAC + west    ; prepne i paku na druhe strane
		ENDIF
EEBD:00E884	DEFB of 3 bytes
EEC0:D80300	DEFB of 3 bytes
		IF (false)
- defb      0,                           216,      ZAM_1 + TYP_PREPINAC + east    ; prepne i paku na druhe strane
		ENDIF
EEC3:00E884	DEFB of 3 bytes
EEC6:E88401	DEFB of 3 bytes
EEC9:E88500	DEFB of 3 bytes
EECC:E88700	DEFB of 3 bytes
EECF:F60C01	DEFB of 3 bytes
EED2:F6101D	DEFB of 3 bytes
EED5:F6111C	DEFB of 3 bytes
EED8:F6121D	DEFB of 3 bytes
EEDB:F6131D	DEFB of 3 bytes
EEDE:FE0C00	DEFB of 3 bytes
EEE1:		label ZARAZKA
EEE1:FF		DEFB of 1 bytes
		End of INCLUDE
EEE2:		label END_CODE
		IF (false)
-     .error 'Kod preteka do zasobniku.'
		ENDIF
Emiting raw binary from 5F00 to EEE1
