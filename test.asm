spritesStart	EQU 5F00
		INCLUDE sprites.h
Body_left	EQU 5F00
dno_bufferu	EQU 5FEA
D0		EQU 608F
D1		EQU 64CA
D2		EQU 66C5
D3		EQU 6826
ESA1		EQU 68A5
ES1		EQU 6ABE
ES2		EQU 6C61
ES3		EQU 6D5E
ES4		EQU 6DCA
FFace01		EQU 6E1B
FFace02		EQU 6EAE
FFace03		EQU 6F41
FFace04		EQU 6FD4
Flek		EQU 7067
H0		EQU 70DC
H0rune		EQU 779F
H1		EQU 77F6
H1rune		EQU 7AC9
H2		EQU 7AFC
H2rune		EQU 7C27
H3		EQU 7C46
H3rune		EQU 7CD9
H4		EQU 7CF0
H4m1		EQU 7DB3
H4m2		EQU 7E36
H4m3		EQU 7EE1
H4m4		EQU 7F74
H5		EQU 7FB7
I_ankh		EQU 8038
I_armor_ch	EQU 8071
I_armor_l	EQU 80AA
I_armor_p	EQU 80E3
I_axe		EQU 811C
I_bg		EQU 814D
I_bgm		EQU 8186
I_bone		EQU 81BF
I_book		EQU 81F8
I_boots		EQU 8231
I_bow		EQU 826A
I_bracers	EQU 829B
I_dagger	EQU 82D4
I_empty		EQU 82FD
I_helm		EQU 832E
I_helm_d	EQU 8367
I_mace		EQU 83A0
I_necklace	EQU 83D3
I_potion_b	EQU 83FC
I_potion_g	EQU 8425
I_potion_r	EQU 844E
I_prostirani	EQU 8477
I_ram		EQU 84B0
I_rations	EQU 84C9
I_ring		EQU 8502
I_ring_b	EQU 852B
I_ring_g	EQU 8564
I_ring_r	EQU 859D
I_ring_w	EQU 85D6
I_shield	EQU 860F
I_shield2	EQU 8648
I_sling		EQU 8681
I_sword		EQU 86B2
I_toulec	EQU 86E3
I_zakazano	EQU 870C
I0_armor	EQU 8745
I0_bone		EQU 883A
I0_unknwn	EQU 8935
I0_weapon	EQU 89AF
I1_armor	EQU 8A51
I1_bone		EQU 8ACC
I1_unknwn	EQU 8B51
I1_weapon	EQU 8B8A
I2_armor	EQU 8BEB
I2_bone		EQU 8C19
I2_unknwn	EQU 8C4F
I2_weapon	EQU 8C64
Kanal0		EQU 8C89
Kanal1		EQU 8DF4
Kanal2		EQU 8E99
Kanal3		EQU 8EE4
Kompas		EQU 8F0B
Komp_E		EQU 908D
Komp_N		EQU 912D
Komp_S		EQU 91CD
Komp_W		EQU 926D
K1m1		EQU 930D
K2m1		EQU 94A8
K3m1		EQU 9653
K4m2		EQU 9791
MFace01		EQU 9850
MFace02		EQU 98E3
MFace03		EQU 9976
MFace04		EQU 9A09
miss		EQU 9A9C
Pdl1		EQU 9B05
Pdl2		EQU 9B36
Pdl3		EQU 9B5D
Pd0		EQU 9B72
Pd1		EQU 9BE5
Pd2		EQU 9C44
Pd3		EQU 9C6B
Pul1		EQU 9C92
Pul2		EQU 9CCB
Pul3		EQU 9CFC
Pu0		EQU 9D11
Pu1		EQU 9D84
Pu2		EQU 9DE3
Pu3		EQU 9E1C
R0		EQU 9E3B
R1		EQU A25A
R1m1		EQU A64D
R2		EQU A6BC
R2m1		EQU A8AF
R3		EQU A992
R3m1		EQU AA73
R4		EQU AB34
S_doleva	EQU ABB7
S_doprava	EQU ABDE
S_dopredu	EQU AC05
S_dozadu	EQU AC2C
S_vlevo		EQU AC53
S_vpravo	EQU AC7A
S_vsechny	EQU ACA1
V0m1		EQU ADDF
V3m2		EQU AE60
V4m1		EQU AEF2
V4m3		EQU AF55
Seg_Screen	EQU 0040
Adr_Screen	EQU 4000
Seg_Attr_Screen	EQU 0058
Adr_Attr_Screen	EQU 5800
Seg_Buffer	EQU 00B0
Adr_Buffer	EQU B000
Seg_Attr_Buffer	EQU 00C8
Adr_Attr_Buffer	EQU C800
Adr_Buf_end	EQU CB00
		End of INCLUDE
		ORG 5F00
		INCBIN grafika.bin
progStart	EQU D000
		IF (false)
-     .error 'Pretikaji sprity do kodu!'
		ENDIF
		ORG D000
		INCLUDE zrcadlovy.h
D000:		label ZRCADLOVY
D000:00		DEFB of 1 bytes
D001:80		DEFB of 1 bytes
D002:40		DEFB of 1 bytes
D003:C0		DEFB of 1 bytes
D004:20		DEFB of 1 bytes
D005:A0		DEFB of 1 bytes
D006:60		DEFB of 1 bytes
D007:E0		DEFB of 1 bytes
D008:10		DEFB of 1 bytes
D009:90		DEFB of 1 bytes
D00A:50		DEFB of 1 bytes
D00B:D0		DEFB of 1 bytes
D00C:30		DEFB of 1 bytes
D00D:B0		DEFB of 1 bytes
D00E:70		DEFB of 1 bytes
D00F:F0		DEFB of 1 bytes
D010:08		DEFB of 1 bytes
D011:88		DEFB of 1 bytes
D012:48		DEFB of 1 bytes
D013:C8		DEFB of 1 bytes
D014:28		DEFB of 1 bytes
D015:A8		DEFB of 1 bytes
D016:68		DEFB of 1 bytes
D017:E8		DEFB of 1 bytes
D018:18		DEFB of 1 bytes
D019:98		DEFB of 1 bytes
D01A:58		DEFB of 1 bytes
D01B:D8		DEFB of 1 bytes
D01C:38		DEFB of 1 bytes
D01D:B8		DEFB of 1 bytes
D01E:78		DEFB of 1 bytes
D01F:F8		DEFB of 1 bytes
D020:04		DEFB of 1 bytes
D021:84		DEFB of 1 bytes
D022:44		DEFB of 1 bytes
D023:C4		DEFB of 1 bytes
D024:24		DEFB of 1 bytes
D025:A4		DEFB of 1 bytes
D026:64		DEFB of 1 bytes
D027:E4		DEFB of 1 bytes
D028:14		DEFB of 1 bytes
D029:94		DEFB of 1 bytes
D02A:54		DEFB of 1 bytes
D02B:D4		DEFB of 1 bytes
D02C:34		DEFB of 1 bytes
D02D:B4		DEFB of 1 bytes
D02E:74		DEFB of 1 bytes
D02F:F4		DEFB of 1 bytes
D030:0C		DEFB of 1 bytes
D031:8C		DEFB of 1 bytes
D032:4C		DEFB of 1 bytes
D033:CC		DEFB of 1 bytes
D034:2C		DEFB of 1 bytes
D035:AC		DEFB of 1 bytes
D036:6C		DEFB of 1 bytes
D037:EC		DEFB of 1 bytes
D038:1C		DEFB of 1 bytes
D039:9C		DEFB of 1 bytes
D03A:5C		DEFB of 1 bytes
D03B:DC		DEFB of 1 bytes
D03C:3C		DEFB of 1 bytes
D03D:BC		DEFB of 1 bytes
D03E:7C		DEFB of 1 bytes
D03F:FC		DEFB of 1 bytes
D040:02		DEFB of 1 bytes
D041:82		DEFB of 1 bytes
D042:42		DEFB of 1 bytes
D043:C2		DEFB of 1 bytes
D044:22		DEFB of 1 bytes
D045:A2		DEFB of 1 bytes
D046:62		DEFB of 1 bytes
D047:E2		DEFB of 1 bytes
D048:12		DEFB of 1 bytes
D049:92		DEFB of 1 bytes
D04A:52		DEFB of 1 bytes
D04B:D2		DEFB of 1 bytes
D04C:32		DEFB of 1 bytes
D04D:B2		DEFB of 1 bytes
D04E:72		DEFB of 1 bytes
D04F:F2		DEFB of 1 bytes
D050:0A		DEFB of 1 bytes
D051:8A		DEFB of 1 bytes
D052:4A		DEFB of 1 bytes
D053:CA		DEFB of 1 bytes
D054:2A		DEFB of 1 bytes
D055:AA		DEFB of 1 bytes
D056:6A		DEFB of 1 bytes
D057:EA		DEFB of 1 bytes
D058:1A		DEFB of 1 bytes
D059:9A		DEFB of 1 bytes
D05A:5A		DEFB of 1 bytes
D05B:DA		DEFB of 1 bytes
D05C:3A		DEFB of 1 bytes
D05D:BA		DEFB of 1 bytes
D05E:7A		DEFB of 1 bytes
D05F:FA		DEFB of 1 bytes
D060:06		DEFB of 1 bytes
D061:86		DEFB of 1 bytes
D062:46		DEFB of 1 bytes
D063:C6		DEFB of 1 bytes
D064:26		DEFB of 1 bytes
D065:A6		DEFB of 1 bytes
D066:66		DEFB of 1 bytes
D067:E6		DEFB of 1 bytes
D068:16		DEFB of 1 bytes
D069:96		DEFB of 1 bytes
D06A:56		DEFB of 1 bytes
D06B:D6		DEFB of 1 bytes
D06C:36		DEFB of 1 bytes
D06D:B6		DEFB of 1 bytes
D06E:76		DEFB of 1 bytes
D06F:F6		DEFB of 1 bytes
D070:0E		DEFB of 1 bytes
D071:8E		DEFB of 1 bytes
D072:4E		DEFB of 1 bytes
D073:CE		DEFB of 1 bytes
D074:2E		DEFB of 1 bytes
D075:AE		DEFB of 1 bytes
D076:6E		DEFB of 1 bytes
D077:EE		DEFB of 1 bytes
D078:1E		DEFB of 1 bytes
D079:9E		DEFB of 1 bytes
D07A:5E		DEFB of 1 bytes
D07B:DE		DEFB of 1 bytes
D07C:3E		DEFB of 1 bytes
D07D:BE		DEFB of 1 bytes
D07E:7E		DEFB of 1 bytes
D07F:FE		DEFB of 1 bytes
D080:01		DEFB of 1 bytes
D081:81		DEFB of 1 bytes
D082:41		DEFB of 1 bytes
D083:C1		DEFB of 1 bytes
D084:21		DEFB of 1 bytes
D085:A1		DEFB of 1 bytes
D086:61		DEFB of 1 bytes
D087:E1		DEFB of 1 bytes
D088:11		DEFB of 1 bytes
D089:91		DEFB of 1 bytes
D08A:51		DEFB of 1 bytes
D08B:D1		DEFB of 1 bytes
D08C:31		DEFB of 1 bytes
D08D:B1		DEFB of 1 bytes
D08E:71		DEFB of 1 bytes
D08F:F1		DEFB of 1 bytes
D090:09		DEFB of 1 bytes
D091:89		DEFB of 1 bytes
D092:49		DEFB of 1 bytes
D093:C9		DEFB of 1 bytes
D094:29		DEFB of 1 bytes
D095:A9		DEFB of 1 bytes
D096:69		DEFB of 1 bytes
D097:E9		DEFB of 1 bytes
D098:19		DEFB of 1 bytes
D099:99		DEFB of 1 bytes
D09A:59		DEFB of 1 bytes
D09B:D9		DEFB of 1 bytes
D09C:39		DEFB of 1 bytes
D09D:B9		DEFB of 1 bytes
D09E:79		DEFB of 1 bytes
D09F:F9		DEFB of 1 bytes
D0A0:05		DEFB of 1 bytes
D0A1:85		DEFB of 1 bytes
D0A2:45		DEFB of 1 bytes
D0A3:C5		DEFB of 1 bytes
D0A4:25		DEFB of 1 bytes
D0A5:A5		DEFB of 1 bytes
D0A6:65		DEFB of 1 bytes
D0A7:E5		DEFB of 1 bytes
D0A8:15		DEFB of 1 bytes
D0A9:95		DEFB of 1 bytes
D0AA:55		DEFB of 1 bytes
D0AB:D5		DEFB of 1 bytes
D0AC:35		DEFB of 1 bytes
D0AD:B5		DEFB of 1 bytes
D0AE:75		DEFB of 1 bytes
D0AF:F5		DEFB of 1 bytes
D0B0:0D		DEFB of 1 bytes
D0B1:8D		DEFB of 1 bytes
D0B2:4D		DEFB of 1 bytes
D0B3:CD		DEFB of 1 bytes
D0B4:2D		DEFB of 1 bytes
D0B5:AD		DEFB of 1 bytes
D0B6:6D		DEFB of 1 bytes
D0B7:ED		DEFB of 1 bytes
D0B8:1D		DEFB of 1 bytes
D0B9:9D		DEFB of 1 bytes
D0BA:5D		DEFB of 1 bytes
D0BB:DD		DEFB of 1 bytes
D0BC:3D		DEFB of 1 bytes
D0BD:BD		DEFB of 1 bytes
D0BE:7D		DEFB of 1 bytes
D0BF:FD		DEFB of 1 bytes
D0C0:03		DEFB of 1 bytes
D0C1:83		DEFB of 1 bytes
D0C2:43		DEFB of 1 bytes
D0C3:C3		DEFB of 1 bytes
D0C4:23		DEFB of 1 bytes
D0C5:A3		DEFB of 1 bytes
D0C6:63		DEFB of 1 bytes
D0C7:E3		DEFB of 1 bytes
D0C8:13		DEFB of 1 bytes
D0C9:93		DEFB of 1 bytes
D0CA:53		DEFB of 1 bytes
D0CB:D3		DEFB of 1 bytes
D0CC:33		DEFB of 1 bytes
D0CD:B3		DEFB of 1 bytes
D0CE:73		DEFB of 1 bytes
D0CF:F3		DEFB of 1 bytes
D0D0:0B		DEFB of 1 bytes
D0D1:8B		DEFB of 1 bytes
D0D2:4B		DEFB of 1 bytes
D0D3:CB		DEFB of 1 bytes
D0D4:2B		DEFB of 1 bytes
D0D5:AB		DEFB of 1 bytes
D0D6:6B		DEFB of 1 bytes
D0D7:EB		DEFB of 1 bytes
D0D8:1B		DEFB of 1 bytes
D0D9:9B		DEFB of 1 bytes
D0DA:5B		DEFB of 1 bytes
D0DB:DB		DEFB of 1 bytes
D0DC:3B		DEFB of 1 bytes
D0DD:BB		DEFB of 1 bytes
D0DE:7B		DEFB of 1 bytes
D0DF:FB		DEFB of 1 bytes
D0E0:07		DEFB of 1 bytes
D0E1:87		DEFB of 1 bytes
D0E2:47		DEFB of 1 bytes
D0E3:C7		DEFB of 1 bytes
D0E4:27		DEFB of 1 bytes
D0E5:A7		DEFB of 1 bytes
D0E6:67		DEFB of 1 bytes
D0E7:E7		DEFB of 1 bytes
D0E8:17		DEFB of 1 bytes
D0E9:97		DEFB of 1 bytes
D0EA:57		DEFB of 1 bytes
D0EB:D7		DEFB of 1 bytes
D0EC:37		DEFB of 1 bytes
D0ED:B7		DEFB of 1 bytes
D0EE:77		DEFB of 1 bytes
D0EF:F7		DEFB of 1 bytes
D0F0:0F		DEFB of 1 bytes
D0F1:8F		DEFB of 1 bytes
D0F2:4F		DEFB of 1 bytes
D0F3:CF		DEFB of 1 bytes
D0F4:2F		DEFB of 1 bytes
D0F5:AF		DEFB of 1 bytes
D0F6:6F		DEFB of 1 bytes
D0F7:EF		DEFB of 1 bytes
D0F8:1F		DEFB of 1 bytes
D0F9:9F		DEFB of 1 bytes
D0FA:5F		DEFB of 1 bytes
D0FB:DF		DEFB of 1 bytes
D0FC:3F		DEFB of 1 bytes
D0FD:BF		DEFB of 1 bytes
D0FE:7F		DEFB of 1 bytes
D0FF:FF		DEFB of 1 bytes
		End of INCLUDE
		INCLUDE map.h
D100:		label DUNGEON_MAP
D100:03030303	DEFB of 16 bytes
D104:03030203
D108:03030303
D10C:03030303
D110:00000300	DEFB of 16 bytes
D114:00000003
D118:00000003
D11C:00000003
D120:00000300	DEFB of 16 bytes
D124:00030000
D128:00030003
D12C:00030003
D130:00000000	DEFB of 16 bytes
D134:00000303
D138:03000000
D13C:00030003
D140:00000000	DEFB of 16 bytes
D144:00000303
D148:00000303
D14C:00030003
D150:00000000	DEFB of 16 bytes
D154:00000300
D158:00030000
D15C:00030003
D160:00000000	DEFB of 16 bytes
D164:00030303
D168:03000003
D16C:00030003
D170:03000002	DEFB of 16 bytes
D174:00000000
D178:00000000
D17C:00030003
D180:03020303	DEFB of 16 bytes
D184:03030303
D188:03030003
D18C:03030003
D190:03000000	DEFB of 16 bytes
D194:00000000
D198:03000000
D19C:00030003
D1A0:03000300	DEFB of 16 bytes
D1A4:03000000
D1A8:03000000
D1AC:00030003
D1B0:03000000	DEFB of 16 bytes
D1B4:00000000
D1B8:03030303
D1BC:03030003
D1C0:03000300	DEFB of 16 bytes
D1C4:03000000
D1C8:03000000
D1CC:03030000
D1D0:03000000	DEFB of 16 bytes
D1D4:00000000
D1D8:03000000
D1DC:00000000
D1E0:03000000	DEFB of 16 bytes
D1E4:00000000
D1E8:00000000
D1EC:03030000
D1F0:03030303	DEFB of 16 bytes
D1F4:03030203
D1F8:03030303
D1FC:03030303
sirka		EQU 0010
		End of INCLUDE
dopredu		EQU 0000
dozadu		EQU 0004
vlevo		EQU 0008
vpravo		EQU 000C
D200:		label VEKTORY_POHYBU
D200:F00110FF	DEFB of 4 bytes
D204:10FFF001	DEFB of 4 bytes
D208:FFF00110	DEFB of 4 bytes
D20C:0110FFF0	DEFB of 4 bytes
		IF (false)
-     .error      'Seznam VEKTORY_POHYBU neleze na zacatku segmentu!'
		ENDIF
PRIZNAK_OTEVRENY_INVENTAR EQU 0001
D210:		label PRIZNAKY
D210:00		DEFB of 1 bytes
D211:		label MAIN
D211:CD42EA	CALL EA42
D214:F3		DI
D215:ED56	IM 1
D217:FB		EI
D218:3E0C	LD A, 0C
D21A:21095C	LD HL, 5C09
D21D:77		LD (HL), A
D21E:2D		DEC L
D21F:3600	LD (HL), 00
D221:010420	LD BC, 2004
D224:21805A	LD HL, 5A80
D227:CD95EB	CALL EB95
D22A:CD10EB	CALL EB10
D22D:CDC6E7	CALL E7C6
D230:		label MAIN_LOOP
D230:110B8F	LD DE, 8F0B
D233:010F07	LD BC, 070F
D236:F3		DI
D237:CD81E0	CALL E081
D23A:FB		EI
D23B:F3		DI
D23C:CD98E6	CALL E698
D23F:FB		EI
D240:CD99E7	CALL E799
D243:2003	JR NZ, D248
D245:CDA9EC	CALL ECA9
D248:		label MAIN_OTEVRENY_INVENTAR
D248:CD2DEB	CALL EB2D
D24B:11A1AC	LD DE, ACA1
D24E:010F00	LD BC, 000F
D251:F3		DI
D252:CD81E0	CALL E081
D255:FB		EI
D256:CDC6EC	CALL ECC6
D259:CD70EA	CALL EA70
D25C:CD60E2	CALL E260
D25F:C330D2	JP D230
D262:		label POSTAVA_PLUS
D262:2173D4	LD HL, D473
D265:7E		LD A, (HL)
D266:2B		DEC HL
D267:34		INC (HL)
D268:96		SUB (HL)
D269:C0		RET NZ
D26A:77		LD (HL), A
D26B:C9		RET
D26C:		label POSTAVA_MINUS
D26C:2173D4	LD HL, D473
D26F:7E		LD A, (HL)
D270:2B		DEC HL
D271:35		DEC (HL)
D272:F0		RET P
D273:3D		DEC A
D274:77		LD (HL), A
D275:C9		RET
		INCLUDE input.h
TIMER_ADR	EQU 5C78
LAST_KEY_ADR	EQU 5C08
REPEAT_READING_JOY EQU 0006
JOY_PORT	EQU 001F
FLOP_BIT_ATTACK	EQU 0040
KEY_DOPREDU	EQU 0077
KEY_DOZADU	EQU 0073
KEY_VLEVO	EQU 0061
KEY_VPRAVO	EQU 0064
KEY_DOLEVA	EQU 0071
KEY_DOPRAVA	EQU 0065
KEY_SPACE	EQU 0020
KEY_INVENTAR	EQU 0069
KEY_FHAND	EQU 0066
KEY_SHAND	EQU 0067
KEY_PLUS	EQU 006B
KEY_MINUS	EQU 006A
stisknuto_dopredu EQU 0000
stisknuto_dozadu EQU 0001
stisknuto_vlevo	EQU 0002
stisknuto_vpravo EQU 0003
D276:		label DATA_KEMPSTON
D276:0164	DEFB of 2 bytes
D278:0261	DEFB of 2 bytes
D27A:0965	DEFB of 2 bytes
D27C:0A71	DEFB of 2 bytes
D27E:0473	DEFB of 2 bytes
D280:0877	DEFB of 2 bytes
D282:1020	DEFB of 2 bytes
D284:0569	DEFB of 2 bytes
D286:0669	DEFB of 2 bytes
D288:116B	DEFB of 2 bytes
D28A:126A	DEFB of 2 bytes
D28C:1866	DEFB of 2 bytes
D28E:1467	DEFB of 2 bytes
D290:		label DATA_KEMPSTON_END
D290:00		DEFB of 1 bytes
DATA_KEMPSTON_SUM EQU 000D
		End of INCLUDE
D291:		label BOJ
		IF (false)
-     .error 'Opravit BOJ'
		ENDIF
D291:D666	SUB 66
D293:47		LD B, A
D294:3A72D4	LD A, (D472)
D297:87		ADD A, A
D298:80		ADD A, B
D299:CD18EA	CALL EA18
D29C:42		LD B, D
D29D:4B		LD C, E
D29E:119C9A	LD DE, 9A9C
D2A1:CD6FE0	CALL E06F
D2A4:CD64E0	CALL E064
D2A7:F3		DI
D2A8:CD81E0	CALL E081
D2AB:FB		EI
D2AC:CD59E0	CALL E059
D2AF:CD78E0	CALL E078
D2B2:C9		RET
		ORG D300
		INCLUDE font.h
D300:		label PISMO_5PX
D300:00000000	DEFB of 5 bytes
D304:00
D305:003A0000	DEFB of 5 bytes
D309:00
D30A:00600060	DEFB of 5 bytes
D30E:00
D30F:143E143E	DEFB of 5 bytes
D313:14
D314:00122A6B	DEFB of 5 bytes
D318:24
D319:32340816	DEFB of 5 bytes
D31D:26
D31E:00143A14	DEFB of 5 bytes
D322:0A
D323:00006000	DEFB of 5 bytes
D327:00
D328:00003C42	DEFB of 5 bytes
D32C:00
D32D:0000423C	DEFB of 5 bytes
D331:00
D332:00140814	DEFB of 5 bytes
D336:00
D337:00081C08	DEFB of 5 bytes
D33B:00
D33C:00020400	DEFB of 5 bytes
D340:00
D341:00080808	DEFB of 5 bytes
D345:00
D346:00020000	DEFB of 5 bytes
D34A:00
D34B:02040810	DEFB of 5 bytes
D34F:20
D350:001C262A	DEFB of 5 bytes
D354:1C
D355:00123E02	DEFB of 5 bytes
D359:00
D35A:00262A2A	DEFB of 5 bytes
D35E:12
D35F:00222A2A	DEFB of 5 bytes
D363:14
D364:003C040E	DEFB of 5 bytes
D368:04
D369:003A2A2A	DEFB of 5 bytes
D36D:24
D36E:001C2A2A	DEFB of 5 bytes
D372:04
D373:00202628	DEFB of 5 bytes
D377:30
D378:00142A2A	DEFB of 5 bytes
D37C:14
D37D:00102A2A	DEFB of 5 bytes
D381:1C
D382:00001400	DEFB of 5 bytes
D386:00
D387:00021400	DEFB of 5 bytes
D38B:00
D38C:00081422	DEFB of 5 bytes
D390:00
D391:00141414	DEFB of 5 bytes
D395:00
D396:00221408	DEFB of 5 bytes
D39A:00
D39B:0010202A	DEFB of 5 bytes
D39F:10
D3A0:001C223A	DEFB of 5 bytes
D3A4:1A
D3A5:001E2828	DEFB of 5 bytes
D3A9:1E
D3AA:003E2A2A	DEFB of 5 bytes
D3AE:14
D3AF:001C2222	DEFB of 5 bytes
D3B3:22
D3B4:003E2222	DEFB of 5 bytes
D3B8:1C
D3B9:003E2A2A	DEFB of 5 bytes
D3BD:22
D3BE:003E2828	DEFB of 5 bytes
D3C2:20
D3C3:001C222A	DEFB of 5 bytes
D3C7:0C
D3C8:003E0808	DEFB of 5 bytes
D3CC:3E
D3CD:00223E22	DEFB of 5 bytes
D3D1:00
D3D2:00040202	DEFB of 5 bytes
D3D6:3C
D3D7:003E0814	DEFB of 5 bytes
D3DB:22
D3DC:003E0202	DEFB of 5 bytes
D3E0:02
D3E1:003E1010	DEFB of 5 bytes
D3E5:3E
D3E6:003E1008	DEFB of 5 bytes
D3EA:3E
D3EB:001C2222	DEFB of 5 bytes
D3EF:1C
D3F0:003E2828	DEFB of 5 bytes
D3F4:10
D3F5:001C2226	DEFB of 5 bytes
D3F9:1E
D3FA:003E2828	DEFB of 5 bytes
D3FE:16
D3FF:00122A2A	DEFB of 5 bytes
D403:24
D404:00203E20	DEFB of 5 bytes
D408:20
D409:003C0202	DEFB of 5 bytes
D40D:3C
D40E:003E0204	DEFB of 5 bytes
D412:38
D413:003E0404	DEFB of 5 bytes
D417:3E
D418:00360808	DEFB of 5 bytes
D41C:36
D41D:00380608	DEFB of 5 bytes
D421:30
D422:00262A2A	DEFB of 5 bytes
D426:32
D427:00007E42	DEFB of 5 bytes
D42B:00
D42C:20100804	DEFB of 5 bytes
D430:02
D431:0000427E	DEFB of 5 bytes
D435:00
D436:10204020	DEFB of 5 bytes
D43A:10
D43B:00020202	DEFB of 5 bytes
D43F:02
D440:00083E4A	DEFB of 5 bytes
D444:22
		IF (false)
-     .error 'Adresa pocatku fontu PISMO_5PX nelezi na pocatku segmentu'
		ENDIF
		End of INCLUDE
		INCLUDE typy.h
MASKA_PREPINACE	EQU 00E0
ZAM_1		EQU 0080
ZAM_2		EQU 0040
ZAM_3		EQU 0020
ZAM_12		EQU 00C0
ZAM_13		EQU 00A0
ZAM_23		EQU 0060
ZAM_123		EQU 00E0
MASKA_TYP	EQU 001C
MASKA_NATOCENI	EQU 0003
MASKA_PODTYP	EQU 001F
ODEMCENO	EQU 0000
POSUN_TYP	EQU 0004
POSUN_PODTYP	EQU 0001
TYP_PREPINAC	EQU 0000
PODTYP_PAKA	EQU 0000
PODTYP_TLACITKO	EQU 0001
PODTYP_TAJNE_TLACITKO EQU 0002
PODTYP_ZAMEK	EQU 0003
TYP_DVERE	EQU 0004
TYP_ENEMY	EQU 0008
PODTYP_SKRET	EQU 0000
PODTYP_PAVOUK	EQU 0001
PODTYP_TRPASLIK	EQU 0002
PODTYP_NEMRTVY	EQU 0003
TYP_DEKORACE	EQU 000C
PODTYP_KANAL	EQU 0000
PODTYP_RUNA	EQU 0001
PODTYP_RAM	EQU 0002
TYP_ITEM	EQU 0010
PODTYP_EMPTY	EQU 0000
PODTYP_RING	EQU 0001
PODTYP_RING_R	EQU 0002
PODTYP_RING_G	EQU 0003
PODTYP_RING_B	EQU 0004
PODTYP_RING_W	EQU 0005
PODTYP_HELM	EQU 0006
PODTYP_HELM_D	EQU 0007
PODTYP_NECKLACE	EQU 0008
PODTYP_ARMOR	EQU 0009
PODTYP_ARMOR_CH	EQU 000A
PODTYP_ARMOR_L	EQU 000B
PODTYP_ARMOR_P	EQU 000C
PODTYP_ARROW	EQU 000D
PODTYP_BRACERS	EQU 000E
PODTYP_BOOTS	EQU 000F
PODTYP_ANKH	EQU 0010
PODTYP_AXE	EQU 0011
PODTYP_BOOK	EQU 0012
PODTYP_BOW	EQU 0013
PODTYP_DAGGER	EQU 0014
PODTYP_MACE	EQU 0015
PODTYP_SHIELD	EQU 0016
PODTYP_SHIELD2	EQU 0017
PODTYP_SLING	EQU 0018
PODTYP_SWORD	EQU 0019
PODTYP_BONE	EQU 001A
PODTYP_FOOD	EQU 001B
PODTYP_POTION_R	EQU 001C
PODTYP_POTION_G	EQU 001D
PODTYP_POTION_B	EQU 001E
		End of INCLUDE
		INCLUDE move.h
north		EQU 0000
east		EQU 0001
south		EQU 0002
west		EQU 0003
D445:		label LOCATION
D445:34		DEFB of 1 bytes
D446:		label VECTOR
D446:00		DEFB of 1 bytes
D447:		label POHYB
D447:00		DEFB of 1 bytes
D448:		label POSUN_VLEVO_INVENTAREM
D448:02F1	DEFB of 2 bytes
D44A:031B	DEFB of 2 bytes
D44C:051A	DEFB of 2 bytes
D44E:0619	DEFB of 2 bytes
D450:0714	DEFB of 2 bytes
D452:080F	DEFB of 2 bytes
D454:15F8	DEFB of 2 bytes
D456:17F9	DEFB of 2 bytes
D458:1BFB	DEFB of 2 bytes
D45A:1DFD	DEFB of 2 bytes
D45C:1FFE	DEFB of 2 bytes
D45E:		label POSUN_VPRAVO_INVENTAREM
D45E:0D08	DEFB of 2 bytes
D460:1107	DEFB of 2 bytes
D462:1206	DEFB of 2 bytes
D464:1605	DEFB of 2 bytes
D466:1710	DEFB of 2 bytes
D468:1804	DEFB of 2 bytes
D46A:1A03	DEFB of 2 bytes
D46C:1B0B	DEFB of 2 bytes
D46E:1D02	DEFB of 2 bytes
D470:1F05	DEFB of 2 bytes
D472:		label POSUN_VLEVO_INVENTAREM_END
		End of INCLUDE
		IF (false)
		ENDIF
		INCLUDE objects.h
KONTROLUJ_NATOCENI_U_PREPINACU EQU 0000
NEXT_PAKA	EQU 0078
PAKA_DOWN	EQU 003C
NEXT_ENEMY	EQU 0048
		IF (false)
- i_ld        equ     0       ; predmet vidim jako levy-dal
- i_pd        equ     2       ; predmet vidim jako pravy-dal
- i_pb        equ     4       ; predmet vidim jako pravy-bliz
- i_lb        equ     6       ; predmet vidim jako levy-bliz
		ENDIF
D472:		label HLAVNI_POSTAVA
D472:00		DEFB of 1 bytes
D473:		label SUM_POSTAV
D473:06		DEFB of 1 bytes
D474:		label BORDER
D474:00		DEFB of 1 bytes
D475:		label POZICE_RUKOU
D475:0116	DEFW of 1 words
D477:0316	DEFW of 1 words
D479:011D	DEFW of 1 words
D47B:031D	DEFW of 1 words
D47D:0816	DEFW of 1 words
D47F:0A16	DEFW of 1 words
D481:081D	DEFW of 1 words
D483:0A1D	DEFW of 1 words
D485:0F16	DEFW of 1 words
D487:1116	DEFW of 1 words
D489:0F1D	DEFW of 1 words
D48B:111D	DEFW of 1 words
D48D:		label POZICE_RUKOU_END
SIPKY_POZICE	EQU 000F
KOMPAS_POZICE	EQU 070F
D48D:		label AVATARS
D48D:E3980112	DEFW of 4 words
D491:AE6E0119
D495:416F0812	DEFW of 4 words
D499:D46F0819
D49D:50980F12	DEFW of 4 words
D4A1:1B6E0F19
D4A5:		label KOMPAS
D4A5:0B8F0F07	DEFW of 2 words
D4A9:		label SIPKY
D4A9:A1AC0F00	DEFW of 2 words
D4AD:		label STISKNUTA_SIPKA
D4AD:05AC0F03	DEFW of 2 words
D4B1:2CAC1103	DEFW of 2 words
D4B5:53AC1101	DEFW of 2 words
D4B9:7AAC1105	DEFW of 2 words
D4BD:B7AB0F01	DEFW of 2 words
D4C1:DEAB0F05	DEFW of 2 words
D4C5:00000000	DEFW of 2 words
D4C9:		label SIPKY_END
SIPKA_DOPREDU	EQU 0000
SIPKA_DOZADU	EQU 0004
SIPKA_VLEVO	EQU 0008
SIPKA_VPRAVO	EQU 000C
SIPKA_OTOCDOLEVA EQU 0010
SIPKA_OTOCDOPRAVA EQU 0014
SIPKA_NIC	EQU 0018
D4C9:		label RUZICE
D4C9:2D910F08	DEFW of 2 words
D4CD:8D900F08	DEFW of 2 words
D4D1:CD910F08	DEFW of 2 words
D4D5:6D920F08	DEFW of 2 words
D4D9:		label RUZICE_END
ENEMY_ATTACK_DISTANCE EQU 000C
D4D9:		label ENEMY_GROUP
D4D9:00000000	DEFW of 12 words
D4DD:00000000
D4E1:00000000
D4E5:00000000
D4E9:00000000
D4ED:00000000
D4F1:0503050A	DEFW of 12 words
D4F5:04040409
D4F9:05110000
D4FD:04100000
D501:000005FC
D505:000004FD
D509:0505050A	DEFW of 12 words
D50D:04060409
D511:050F0000
D515:040E0000
D519:00000500
D51D:00000401
D521:05060509	DEFW of 12 words
D525:05070508
D529:050D050F
D52D:050C050E
D531:05000502
D535:05010503
D539:FB080409	DEFW of 12 words
D53D:FB09FB0A
D541:FB0CFB0E
D545:040AFB0D
D549:04030405
D54D:0404FB07
D551:		label DIV_6
D551:00000000	DEFW of 6 words
D555:00000000
D559:00000000
D55D:02000200	DEFW of 6 words
D561:02000200
D565:02000200
D569:04000400	DEFW of 6 words
D56D:04000400
D571:04000400
D575:06000600	DEFW of 6 words
D579:06000600
D57D:06000600
D581:08000800	DEFW of 6 words
D585:08000800
D589:08000800
D58D:		label ITEM_POZICE
D58D:0C00F311	DEFW of 12 words
D591:00000000
D595:00000000
D599:00000000
D59D:00000000
D5A1:00000000
D5A5:0A04F50D	DEFW of 12 words
D5A9:F40E0B03
D5AD:0A100000
D5B1:00000B11
D5B5:0000F501
D5B9:F4000000
D5BD:0806F70B	DEFW of 12 words
D5C1:F60C0905
D5C5:080DF712
D5C9:F613090E
D5CD:08FFF704
D5D1:F60309FE
D5D5:00000000	DEFW of 12 words
D5D9:00000000
D5DD:00000000
D5E1:00000000
D5E5:00000000
D5E9:00000000
D5ED:00000000	DEFW of 12 words
D5F1:00000000
D5F5:00000000
D5F9:00000000
D5FD:00000000
D601:00000000
MAX_VIDITELNOST_PREDMETU_PLUS_1 EQU 003C
		End of INCLUDE
		INCLUDE inventory.h
MAX_INVENTORY	EQU 001F
MAX_HOLD_INVENTORY EQU 001B
COLOR_OTHER_PLAYERS EQU 0007
COLOR_ACTIVE_PLAYER EQU 0003
D605:		label INVENTORY_ITEMS
D605:0C161B1B	DEFB of 16 bytes
D609:10000000
D60D:00000000
D611:00000000
D615:0007000A	DEFB of 15 bytes
D619:11000F00
D61D:00160405
D621:040302
D624:1B140000	DEFB of 16 bytes
D628:10000000
D62C:00000000
D630:00000000
D634:0006080C	DEFB of 15 bytes
D638:19020000
D63C:0E160000
D640:000000
D643:1C1C1D1E	DEFB of 16 bytes
D647:10000000
D64B:14000000
D64F:00000000
D653:0000080B	DEFB of 15 bytes
D657:15000F00
D65B:00100000
D65F:000000
D662:14171B00	DEFB of 16 bytes
D666:18000000
D66A:00000000
D66E:00000000
D672:00000000	DEFB of 15 bytes
D676:14050F00
D67A:00140000
D67E:000000
D681:14160000	DEFB of 16 bytes
D685:1A000000
D689:00000013
D68D:00000000
D691:00000000	DEFB of 15 bytes
D695:13000000
D699:00000000
D69D:000000
D6A0:14160000	DEFB of 16 bytes
D6A4:00000015
D6A8:00000000
D6AC:00000000
D6B0:00000800	DEFB of 15 bytes
D6B4:00030000
D6B8:00120100
D6BC:000000
D6BF:		label INVENTORY_ITEMS_END
D6BF:		label ITEM2SPRITE
D6BF:0000	DEFW of 1 words
D6C1:0285	DEFW of 1 words
D6C3:9D85	DEFW of 1 words
D6C5:6485	DEFW of 1 words
D6C7:2B85	DEFW of 1 words
D6C9:D685	DEFW of 1 words
MAX_RING_PLUS_1	EQU 0006
D6CB:2E83	DEFW of 1 words
D6CD:6783	DEFW of 1 words
D6CF:D383	DEFW of 1 words
MIN_ARMOR	EQU 0009
D6D1:0000	DEFW of 1 words
D6D3:7180	DEFW of 1 words
D6D5:AA80	DEFW of 1 words
D6D7:E380	DEFW of 1 words
MAX_ARMOR_PLUS_1 EQU 000D
D6D9:0000	DEFW of 1 words
D6DB:9B82	DEFW of 1 words
D6DD:3182	DEFW of 1 words
D6DF:3880	DEFW of 1 words
D6E1:1C81	DEFW of 1 words
D6E3:F881	DEFW of 1 words
D6E5:6A82	DEFW of 1 words
D6E7:D482	DEFW of 1 words
D6E9:A083	DEFW of 1 words
D6EB:0F86	DEFW of 1 words
D6ED:4886	DEFW of 1 words
D6EF:8186	DEFW of 1 words
D6F1:B286	DEFW of 1 words
D6F3:BF81	DEFW of 1 words
MIN_FOOD	EQU 001B
D6F5:C984	DEFW of 1 words
D6F7:4E84	DEFW of 1 words
D6F9:2584	DEFW of 1 words
D6FB:FC83	DEFW of 1 words
D6FD:		label ITEM2SPRITE_END
D6FD:		label PRESOUVANY_PREDMET
D6FD:00		DEFB of 1 bytes
D6FE:		label KURZOR_V_INVENTARI
D6FE:00		DEFB of 1 bytes
POZICE_PROSTIRANI EQU 1904
POZICE_HLAVA	EQU 1A07
POZICE_NAHRDELNIK EQU 1A09
POZICE_BRNENI	EQU 1A0B
POZICE_LPRSTEN	EQU 1810
POZICE_BOTY	EQU 1A12
POZICE_TOULEC	EQU 1D09
POZICE_NATEPNIK	EQU 1D0B
POZICE_PPRSTEN	EQU 1C10
D6FF:		label POZICE_V_INVENTARI
D6FF:04120612	DEFW of 8 words
D703:08120A12
D707:0C120E12
D70B:10121212
D70F:04150615	DEFW of 8 words
D713:08150A15
D717:0C150E15
D71B:10151215
D71F:		label PROSTIRANI
D71F:0419	DEFW of 1 words
D721:071A	DEFW of 1 words
D723:091A	DEFW of 1 words
D725:0B1A	DEFW of 1 words
D727:0D18	DEFW of 1 words
D729:1018	DEFW of 1 words
D72B:121A	DEFW of 1 words
D72D:091D	DEFW of 1 words
D72F:0B1D	DEFW of 1 words
D731:0D1C	DEFW of 1 words
D733:101C	DEFW of 1 words
D735:		label POZICE_V_INVENTARI_HOLD_END
D735:0B04	DEFW of 1 words
D737:0D02	DEFW of 1 words
D739:0B0B	DEFW of 1 words
D73B:0D0D	DEFW of 1 words
D73D:		label POZICE_V_INVENTARI_END
INDEX_PROSTIRANI EQU 0011
INDEX_HLAVA	EQU 0012
INDEX_NAHRDELNIK EQU 0013
INDEX_BRNENI	EQU 0014
INDEX_LRUKA	EQU 0015
INDEX_LPRSTEN	EQU 0016
INDEX_BOTY	EQU 0017
INDEX_TOULEC	EQU 0018
INDEX_NATEPNIK	EQU 0019
INDEX_PRUKA	EQU 001A
INDEX_PPRSTEN	EQU 001B
INDEX_ZEM_LU_M1	EQU 001B
INDEX_ZEM_LD_M1	EQU 001C
INDEX_ZEM_RU_M1	EQU 001D
INDEX_ZEM_RD_M1	EQU 001E
D73D:		label POVOLENE_POZICE
D73D:16		DEFB of 1 bytes
D73E:16		DEFB of 1 bytes
D73F:16		DEFB of 1 bytes
D740:16		DEFB of 1 bytes
D741:16		DEFB of 1 bytes
D742:12		DEFB of 1 bytes
D743:12		DEFB of 1 bytes
D744:13		DEFB of 1 bytes
D745:14		DEFB of 1 bytes
D746:14		DEFB of 1 bytes
D747:14		DEFB of 1 bytes
D748:14		DEFB of 1 bytes
D749:18		DEFB of 1 bytes
D74A:19		DEFB of 1 bytes
D74B:17		DEFB of 1 bytes
D74C:15		DEFB of 1 bytes
D74D:15		DEFB of 1 bytes
D74E:15		DEFB of 1 bytes
D74F:15		DEFB of 1 bytes
D750:15		DEFB of 1 bytes
D751:15		DEFB of 1 bytes
D752:15		DEFB of 1 bytes
D753:15		DEFB of 1 bytes
D754:15		DEFB of 1 bytes
D755:15		DEFB of 1 bytes
D756:15		DEFB of 1 bytes
D757:11		DEFB of 1 bytes
D758:11		DEFB of 1 bytes
D759:11		DEFB of 1 bytes
D75A:11		DEFB of 1 bytes
D75B:		label POVOLENE_POZICE_END
D75B:		label DATA_ZIVOTY
D75B:848401B4	DEFB of 7 bytes
D75F:C80000
D762:5A5A01BB	DEFB of 7 bytes
D766:C80000
D769:40400194	DEFB of 7 bytes
D76D:C90000
D770:2828019B	DEFB of 7 bytes
D774:C90000
D777:2E2E0174	DEFB of 7 bytes
D77B:CA0000
D77E:2828017B	DEFB of 7 bytes
D782:CA0000
D785:		label DATA_ZIVOTY_END
		End of INCLUDE
		INCLUDE draw3D.h
D785:		label TABLE_VIEW_9_DEPTH_4
D785:747FFC11	DEFW of 8 words
D789:00000000
D78D:747F0300
D791:00000000
D795:E17EFC11	DEFW of 8 words
D799:00000000
D79D:E17E0300
D7A1:00000000
D7A5:367EFC0F	DEFW of 8 words
D7A9:00000000
D7AD:367E0302
D7B1:00000000
D7B5:B37DFC0C	DEFW of 10 words
D7B9:00000000
D7BD:B37D0305
D7C1:00000000
D7C5:F07C0307
D7C9:		label TABLE_VIEW_7_DEPTH_3
D7C9:55AFFC11	DEFW of 8 words
D7CD:00000000
D7D1:55AF0300
D7D5:00000000
D7D9:9197FC11	DEFW of 8 words
D7DD:00000000
D7E1:91970300
D7E5:00000000
D7E9:467CFC0E	DEFW of 10 words
D7ED:F2AEFC0B
D7F1:467C0303
D7F5:F2AE0306
D7F9:467C0307
D7FD:		label TABLE_VIEW_5_DEPTH_2
D7FD:60AEFC11	DEFW of 8 words
D801:00000000
D805:60AE0300
D809:00000000
D80D:5396FC11	DEFW of 10 words
D811:00000000
D815:53960300
D819:00000000
D81D:FC7A0305
D821:		label TABLE_DEPTH_1
D821:A894FD11	DEFW of 10 words
D825:00000000
D829:A8940200
D82D:00000000
D831:F6770204
D835:		label TABLE_DEPTH_0
D835:0D93FE11	DEFW of 10 words
D839:00000000
D83D:0D930100
D841:00000000
D845:DC700101
D849:		label TABLE_DEPTH_x
D849:DFADFF11	DEFW of 10 words
D84D:00000000
D851:DFAD0000
D855:00000000
D859:00000000
D85D:		label PAKY_TABLE
D85D:00000000	DEFW of 6 words
D861:00000000
D865:00000000
D869:119D0207	DEFW of 6 words
D86D:00000000
D871:00000000
D875:849D0307	DEFW of 6 words
D879:00000000
D87D:00000000
D881:E39D0308	DEFW of 6 words
D885:E39DFC0F
D889:E39D0302
D88D:1C9E0308	DEFW of 6 words
D891:1C9EFC0D
D895:1C9E0304
D899:00000000	DEFW of 6 words
D89D:00000000
D8A1:00000000
D8A5:729B0407	DEFW of 6 words
D8A9:00000000
D8AD:00000000
D8B1:E59B0407	DEFW of 6 words
D8B5:00000000
D8B9:00000000
D8BD:449C0408	DEFW of 6 words
D8C1:449CFB0F
D8C5:449C0402
D8C9:6B9C0408	DEFW of 6 words
D8CD:6B9CFB0D
D8D1:6B9C0404
D8D5:00000000	DEFW of 6 words
D8D9:00000000
D8DD:00000000
D8E1:00000000	DEFW of 6 words
D8E5:00000000
D8E9:929C0302
D8ED:00000000	DEFW of 6 words
D8F1:00000000
D8F5:CB9C0304
D8F9:00000000	DEFW of 6 words
D8FD:00000000
D901:FC9C0406
D905:00000000	DEFW of 6 words
D909:00000000
D90D:00000407
D911:00000000	DEFW of 6 words
D915:00000000
D919:00000000
D91D:00000000	DEFW of 6 words
D921:00000000
D925:059B0402
D929:00000000	DEFW of 6 words
D92D:00000000
D931:369B0404
D935:00000000	DEFW of 6 words
D939:00000000
D93D:5D9B0406
D941:00000000	DEFW of 6 words
D945:00000000
D949:00000000
D94D:00000000	DEFW of 6 words
D951:00000000
D955:00000000
D959:00000000	DEFW of 6 words
D95D:929CFC0F
D961:00000000
D965:00000000	DEFW of 6 words
D969:CB9CFC0D
D96D:00000000
D971:00000000	DEFW of 6 words
D975:FC9CFB0B
D979:00000000
D97D:00000000	DEFW of 6 words
D981:00000000
D985:00000000
D989:00000000	DEFW of 6 words
D98D:00000000
D991:00000000
D995:00000000	DEFW of 6 words
D999:059BFB0F
D99D:00000000
D9A1:00000000	DEFW of 6 words
D9A5:369BFB0D
D9A9:00000000
D9AD:00000000	DEFW of 6 words
D9B1:5D9BFB0B
D9B5:00000000
D9B9:00000000	DEFW of 6 words
D9BD:0000040A
D9C1:00000000
D9C5:		label DOOR_TABLE
D9C5:00000000	DEFW of 6 words
D9C9:00000000
D9CD:00000000
D9D1:8F600203	DEFW of 6 words
D9D5:00000000
D9D9:00000000
D9DD:CA640305	DEFW of 6 words
D9E1:CA64030F
D9E5:CA6403FB
D9E9:C5660306	DEFW of 6 words
D9ED:C566030C
D9F1:C5660300
D9F5:26680407	DEFW of 6 words
D9F9:2668040B
D9FD:26680403
DA01:		label RAM_TABLE
DA01:3B9E0004	DEFW of 6 words
DA05:00000000
DA09:00000000
DA0D:5AA20101	DEFW of 6 words
DA11:4DA6FE11
DA15:4DA60100
DA19:BCA60204	DEFW of 6 words
DA1D:AFA8FD11
DA21:AFA80200
DA25:92A90306	DEFW of 6 words
DA29:92A9030C
DA2D:73AA0300
DA31:34AB0307	DEFW of 6 words
DA35:34AB030B
DA39:34AB0303
NEXT_TYP_ENEMY	EQU 000A
DA3D:		label ENEMY_TABLE
DA3D:0000	DEFW of 1 words
DA3F:BE6A	DEFW of 1 words
DA41:616C	DEFW of 1 words
DA43:5E6D	DEFW of 1 words
DA45:CA6D	DEFW of 1 words
DA47:0000	DEFW of 1 words
DA49:A568	DEFW of 1 words
DA4B:0000	DEFW of 1 words
DA4D:0000	DEFW of 1 words
DA4F:0000	DEFW of 1 words
DA51:		label ITEM_TABLE
DA51:00000000	DEFW of 4 words
DA55:00000000
DA59:3589518B	DEFW of 4 words
DA5D:4F8C0000
DA61:3589518B	DEFW of 4 words
DA65:4F8C0000
DA69:3589518B	DEFW of 4 words
DA6D:4F8C0000
DA71:3589518B	DEFW of 4 words
DA75:4F8C0000
DA79:3589518B	DEFW of 4 words
DA7D:4F8C0000
DA81:4587518A	DEFW of 4 words
DA85:EB8B0000
DA89:4587518A	DEFW of 4 words
DA8D:EB8B0000
DA91:3589518B	DEFW of 4 words
DA95:4F8C0000
DA99:0000518A	DEFW of 4 words
DA9D:EB8B0000
DAA1:4587518A	DEFW of 4 words
DAA5:EB8B0000
DAA9:4587518A	DEFW of 4 words
DAAD:EB8B0000
DAB1:4587518A	DEFW of 4 words
DAB5:EB8B0000
DAB9:3589518B	DEFW of 4 words
DABD:4F8C0000
DAC1:3589518B	DEFW of 4 words
DAC5:4F8C0000
DAC9:3589518B	DEFW of 4 words
DACD:4F8C0000
DAD1:3589518B	DEFW of 4 words
DAD5:4F8C0000
DAD9:AF898A8B	DEFW of 4 words
DADD:648C0000
DAE1:3589518B	DEFW of 4 words
DAE5:4F8C0000
DAE9:AF898A8B	DEFW of 4 words
DAED:648C0000
DAF1:AF898A8B	DEFW of 4 words
DAF5:648C0000
DAF9:AF898A8B	DEFW of 4 words
DAFD:648C0000
DB01:4587518A	DEFW of 4 words
DB05:EB8B0000
DB09:4587518A	DEFW of 4 words
DB0D:EB8B0000
DB11:AF898A8B	DEFW of 4 words
DB15:648C0000
DB19:AF898A8B	DEFW of 4 words
DB1D:648C0000
DB21:3A88CC8A	DEFW of 4 words
DB25:198C0000
DB29:3589518B	DEFW of 4 words
DB2D:4F8C0000
DB31:3589518B	DEFW of 4 words
DB35:4F8C0000
DB39:3589518B	DEFW of 4 words
DB3D:4F8C0000
DB41:3589518B	DEFW of 4 words
DB45:4F8C0000
DB49:		label KANAL_TABLE
DB49:00000000	DEFW of 6 words
DB4D:00000000
DB51:00000000
DB55:898C0805	DEFW of 6 words
DB59:00000000
DB5D:00000000
DB61:F48D0706	DEFW of 6 words
DB65:F48D0710
DB69:F48D07FC
DB6D:998E0607	DEFW of 6 words
DB71:998E060D
DB75:998E0601
DB79:E48E0508	DEFW of 6 words
DB7D:E48E050C
DB81:E48E0504
DB85:		label RUNE_TABLE
DB85:00000000	DEFW of 6 words
DB89:00000000
DB8D:00000000
DB91:9F770407	DEFW of 6 words
DB95:00000417
DB99:000004F7
DB9D:C97A0407	DEFW of 6 words
DBA1:C97A0411
DBA5:C97A04FD
DBA9:277C0408	DEFW of 6 words
DBAD:277C040E
DBB1:277C0402
DBB5:D97C0408	DEFW of 6 words
DBB9:D97C040C
DBBD:D97C0404
		End of INCLUDE
		INCLUDE strings.h
DBC1:		label VETA_NO_WAY
DBC1:594F5520	DEFB of 23 bytes
DBC5:43414E27
DBC9:5420474F
DBCD:20544841
DBD1:54205741
DBD5:592E00
DBD8:		label VETA_NO_PUT
DBD8:594F5520	DEFB of 30 bytes
DBDC:43414E54
DBE0:20505554
DBE4:20544841
DBE8:54204954
DBEC:454D2054
DBF0:48455245
DBF4:2E00
DBF6:		label VETA_CASTS
DBF6:3F3F3F20	DEFB of 17 bytes
DBFA:43415354
DBFE:5320424C
DC02:4553532E
DC06:00
DC07:		label VETA_PRY_DOOR
DC07:4E4F204F	DEFB of 38 bytes
DC0B:4E452049
DC0F:53204142
DC13:4C452054
DC17:4F205052
DC1B:59205448
DC1F:49532044
DC23:4F4F5220
DC27:4F50454E
DC2B:2E00
DC2D:		label VETA_FORCES
DC2D:54484520	DEFB of 27 bytes
DC31:50415254
DC35:5920464F
DC39:52434553
DC3D:20544845
DC41:20444F4F
DC45:522E00
DC48:		label VETA_TAKEN
DC48:2054414B	DEFB of 8 bytes
DC4C:454E2E00
DC50:		label VETA_PUT
DC50:2042594C	DEFB of 14 bytes
DC54:20504F4C
DC58:4F5A454E
DC5C:2E00
DC5E:		label VETA_DRINK
DC5E:2042594C	DEFB of 12 bytes
DC62:20565950
DC66:49542E00
DC6A:		label VETA_EAT
DC6A:2042594C	DEFB of 13 bytes
DC6E:20534E45
DC72:5A454E2E
DC76:00
DC77:		label ARRAY_STRING_DEKORACE
DC77:534F4D45	DEFB of 48 bytes
DC7B:5448494E
DC7F:47205343
DC83:55525249
DC87:45532044
DC8B:45455045
DC8F:5220494E
DC93:544F2054
DC97:48452046
DC9B:4C4F4F52
DC9F:20445241
DCA3:494E2E00
DCA7:54484953	DEFB of 27 bytes
DCAB:2052554E
DCAF:45204953
DCB3:20554E52
DCB7:45434F47
DCBB:4E495A45
DCBF:442E00
DCC2:		label ARRAY_STRING_PREPINACE
DCC2:50524548	DEFB of 19 bytes
DCC6:4F44494C
DCCA:204A5349
DCCE:2050414B
DCD2:552E00
DCD5:53544953	DEFB of 23 bytes
DCD9:4B4E554C
DCDD:204A5349
DCE1:20544C41
DCE5:4349544B
DCE9:4F2E00
DCEC:53544953	DEFB of 30 bytes
DCF0:4B4E554C
DCF4:204A5349
DCF8:20534B52
DCFC:59544520
DD00:544C4143
DD04:49544B4F
DD08:2E00
DD0A:4F544F43	DEFB of 19 bytes
DD0E:494C204A
DD12:5349205A
DD16:414D4B45
DD1A:4D2E00
DD1D:		label VETA_11
DD1D:54484953	DEFB of 47 bytes
DD21:20534C49
DD25:4D592C20
DD29:534D454C
DD2D:4C592044
DD31:5241494E
DD35:20504950
DD39:45205245
DD3D:5645414C
DD41:53204E4F
DD45:5448494E
DD49:472E00
DD4C:		label VETA_13
DD4C:54484552	DEFB of 32 bytes
DD50:45204953
DD54:20412044
DD58:5241494E
DD5C:41474520
DD60:47524154
DD64:45204845
DD68:52452E00
DD6C:		label VETA_14
DD6C:4F4E4C59	DEFB of 28 bytes
DD70:20544845
DD74:20535452
DD78:4F4E4720
DD7C:5348414C
DD80:4C205041
DD84:53532E00
DD88:		label VETA_15
DD88:57415443	DEFB of 17 bytes
DD8C:4820594F
DD90:55522053
DD94:5445502E
DD98:00
DD99:		label VETA_16
DD99:4E4F5420	DEFB of 25 bytes
DD9D:414C4C20
DDA1:49532041
DDA5:53204954
DDA9:20415050
DDAD:45415253
DDB1:00
DDB2:		label VETA_EXP
DDB2:3F3F3F20	DEFB of 38 bytes
DDB6:48415320
DDBA:4741494E
DDBE:45442041
DDC2:204C4556
DDC6:454C204F
DDCA:46204558
DDCE:50455249
DDD2:454E4345
DDD6:2E00
DDD8:		label VETA_DOWN
DDD8:474F494E	DEFB of 14 bytes
DDDC:4720444F
DDE0:574E2E2E
DDE4:2E00
DDE6:		label VETA_UP
DDE6:474F494E	DEFB of 10 bytes
DDEA:47205550
DDEE:2E00
DDF0:		label VETA_DOOR
DDF0:54484520	DEFB of 24 bytes
DDF4:444F4F52
DDF8:20415050
DDFC:45415253
DE00:20535455
DE04:434B2E00
DE08:		label VETA_DAGGER
DE08:54484520	DEFB of 17 bytes
DE0C:44414747
DE10:45522046
DE14:4954532E
DE18:00
DE19:		label VETA_HOLLOW
DE19:4120484F	DEFB of 34 bytes
DE1D:4C4C4F57
DE21:204C4155
DE25:47485445
DE29:52204543
DE2D:484F4553
DE31:20464149
DE35:4E544C59
DE39:2E00
DE3B:		label VETA_UNDEAD
DE3B:3F3F3F20	DEFB of 35 bytes
DE3F:55534553
DE43:20544845
DE47:20504F57
DE4B:45522054
DE4F:4F205455
DE53:524E2055
DE57:4E444541
DE5B:442100
DE5E:		label HELP_STRING
DE5E:54455354	DEFB of 28 bytes
DE62:205A5820
DE66:44554E47
DE6A:454F4E20
DE6E:44454D4F
DE72:20562030
DE76:2E373200
DE7A:4F564C41	DEFB of 44 bytes
DE7E:44414E49
DE82:3A20512C
DE86:452D4F54
DE8A:4F43454E
DE8E:493B2057
DE92:2C532D50
DE96:4F485942
DE9A:3B20412C
DE9E:442D554B
DEA2:524F4B00
DEA6:4A2C4B2C	DEFB of 48 bytes
DEAA:312E2E36
DEAE:2D414B54
DEB2:49564E49
DEB6:20504F53
DEBA:54415641
DEBE:3B20492D
DEC2:494E5645
DEC6:4E544152
DECA:3B20462C
DECE:472D4841
DED2:4E445300
DED6:53504143	DEFB of 47 bytes
DEDA:4520284D
DEDE:455A4552
DEE2:4E494B29
DEE6:202D2041
DEEA:4B43453B
DEEE:2053532B
DEF2:58202843
DEF6:54524C2B
DEFA:5829202D
DEFE:204B4F4E
DF02:454300
NEXT_NAME	EQU 000B
DF05:		label VETA_HP
DF05:485000	DEFB of 3 bytes
DF08:		label NAMES
DF08:444F4852	DEFB of 11 bytes
DF0C:554D2020
DF10:202000
DF13:57595244	DEFB of 11 bytes
DF17:20202020
DF1B:202000
DF1E:4C494E44	DEFB of 11 bytes
DF22:41202020
DF26:202000
DF29:45495448	DEFB of 11 bytes
DF2D:4E452020
DF31:202000
DF34:544F4420	DEFB of 11 bytes
DF38:55504849
DF3C:4C4C00
DF3F:49524953	DEFB of 11 bytes
DF43:20202020
DF47:202000
DF4A:		label ARRAY_STRING_ITEMS
DF4A:00		DEFB of 1 bytes
DF4B:52494E47	DEFB of 5 bytes
DF4F:00
DF50:52554249	DEFB of 11 bytes
DF54:4E205249
DF58:4E4700
DF5B:534D4152	DEFB of 13 bytes
DF5F:41474420
DF63:52494E47
DF67:00
DF68:53415050	DEFB of 14 bytes
DF6C:48495245
DF70:2052494E
DF74:4700
DF76:4449414D	DEFB of 13 bytes
DF7A:4F4E4420
DF7E:52494E47
DF82:00
DF83:48454C4D	DEFB of 5 bytes
DF87:00
DF88:44574152	DEFB of 13 bytes
DF8C:56454E20
DF90:48454C4D
DF94:00
DF95:4E45434B	DEFB of 9 bytes
DF99:4C414345
DF9D:00
DF9E:41524D4F	DEFB of 6 bytes
DFA2:5200
DFA4:43484149	DEFB of 10 bytes
DFA8:4E4D4149
DFAC:4C00
DFAE:4C454154	DEFB of 14 bytes
DFB2:48455220
DFB6:41524D4F
DFBA:5200
DFBC:504C4154	DEFB of 12 bytes
DFC0:45204152
DFC4:4D4F5200
DFC8:4152524F	DEFB of 6 bytes
DFCC:5700
DFCE:42524143	DEFB of 8 bytes
DFD2:45525300
DFD6:424F4F54	DEFB of 6 bytes
DFDA:5300
DFDC:414E4B48	DEFB of 5 bytes
DFE0:00
DFE1:41584500	DEFB of 4 bytes
DFE5:424F4F4B	DEFB of 5 bytes
DFE9:00
DFEA:424F5700	DEFB of 4 bytes
DFEE:44414747	DEFB of 7 bytes
DFF2:455200
DFF5:4D414345	DEFB of 5 bytes
DFF9:00
DFFA:53484945	DEFB of 7 bytes
DFFE:4C4400
E001:53504944	DEFB of 14 bytes
E005:45522053
E009:4849454C
E00D:4400
E00F:534C494E	DEFB of 6 bytes
E013:4700
E015:53574F52	DEFB of 6 bytes
E019:4400
E01B:424F4E45	DEFB of 5 bytes
E01F:00
E020:52415449	DEFB of 8 bytes
E024:4F4E5300
E028:4845414C	DEFB of 15 bytes
E02C:494E4720
E030:504F5449
E034:4F4E00
E037:414E5449	DEFB of 16 bytes
E03B:444F5445
E03F:20504F54
E043:494F4E00
E047:504F5449	DEFB of 9 bytes
E04B:4F4E5F42
E04F:00
		End of INCLUDE
		REPT 0
E050:		label CARKY
E050:00		DEFB of 1 bytes
E051:80		DEFB of 1 bytes
E052:C0		DEFB of 1 bytes
E053:E0		DEFB of 1 bytes
E054:F0		DEFB of 1 bytes
E055:F8		DEFB of 1 bytes
E056:FC		DEFB of 1 bytes
E057:FE		DEFB of 1 bytes
E058:FF		DEFB of 1 bytes
E059:		label CARKY_END
		INCLUDE sprite2buffer.asm
E059:		label SET_TARGET_BUFFER
E059:3EB0	LD A, B0
E05B:3230E1	LD (E130), A
E05E:3EC8	LD A, C8
E060:323EE1	LD (E13E), A
E063:C9		RET
E064:		label SET_TARGET_SCREEN
E064:3E40	LD A, 40
E066:3230E1	LD (E130), A
E069:3E58	LD A, 58
E06B:323EE1	LD (E13E), A
E06E:C9		RET
E06F:		label SET_MAX_31
E06F:3E1F	LD A, 1F
E071:3214E1	LD (E114), A
E074:32BAE0	LD (E0BA), A
E077:C9		RET
E078:		label SET_MAX_17
E078:3E11	LD A, 11
E07A:3214E1	LD (E114), A
E07D:32BAE0	LD (E0BA), A
E080:C9		RET
MEZERA		EQU 003F
E081:		label COPY_SPRITE2BUFFER
E081:FDE5	PUSH IY
E083:ED7389E1	LD (E189), SP
E087:1A		LD A, (DE)
E088:83		ADD A, E
E089:6F		LD L, A
E08A:7A		LD A, D
E08B:CE00	ADC A, 00
E08D:67		LD H, A
E08E:13		INC DE
E08F:1A		LD A, (DE)
E090:FD67	LD IYH, A
E092:13		INC DE
E093:1A		LD A, (DE)
E094:DD67	LD IXH, A
E096:79		LD A, C
E097:EEFF	XOR FF
E099:FAC5E0	JP M, E0C5
E09C:4F		LD C, A
E09D:3E2D	LD A, 2D
E09F:327EE1	LD (E17E), A
E0A2:E5		PUSH HL
E0A3:21180A	LD HL, 0A18
E0A6:2258E1	LD (E158), HL
E0A9:2609	LD H, 09
E0AB:22BAE1	LD (E1BA), HL
E0AE:260E	LD H, 0E
E0B0:22E8E1	LD (E1E8), HL
E0B3:2610	LD H, 10
E0B5:2210E2	LD (E210), HL
E0B8:E1		POP HL
E0B9:		label CS2B_17VS31
E0B9:3E11	LD A, 11
E0BB:DD6F	LD IXL, A
E0BD:90		SUB B
E0BE:FD6F	LD IYL, A
E0C0:FAE6E0	JP M, E0E6
E0C3:183F	JR E104
E0C5:		label CS2B_JAKPISMO
E0C5:3E2C	LD A, 2C
E0C7:327EE1	LD (E17E), A
E0CA:E5		PUSH HL
E0CB:210608	LD HL, 0806
E0CE:2258E1	LD (E158), HL
E0D1:2604	LD H, 04
E0D3:22BAE1	LD (E1BA), HL
E0D6:22E8E1	LD (E1E8), HL
E0D9:2210E2	LD (E210), HL
E0DC:E1		POP HL
		IF (false)
-     .error 'Adresa bufferu obrazovky nema horni bit nastaveny na jednicku!'
		ENDIF
E0DD:CB78	BIT 7, B
E0DF:FD68	LD IYL, B
E0E1:DD2E00	LD IXL, 00
E0E4:281E	JR Z, E104
E0E6:		label CS2B_OREZ_POCATEK_SPRITU
E0E6:310800	LD SP, 0008
E0E9:		label CS2B_VYNECH_SLOUPEC
E0E9:DD44	LD B, IXH
E0EB:		label CS2B_DALSI_ATRIBUT
E0EB:13		INC DE
E0EC:1A		LD A, (DE)
E0ED:FE3F	CP 3F
E0EF:2806	JR Z, E0F7
E0F1:B7		OR A
E0F2:F2F6E0	JP P, E0F6
E0F5:39		ADD HL, SP
E0F6:		label CS2B_BEZ_MASKY
E0F6:39		ADD HL, SP
E0F7:		label CS2B_ODECTI_ZNAK
E0F7:10F2	DJNZ E0EB
E0F9:FD25	DEC IYH
E0FB:CA88E1	JP Z, E188
E0FE:FD2C	INC IYL
E100:20E7	JR NZ, E0E9
E102:DD45	LD B, IXL
E104:		label CS2B_ZACINAME_V_BUFFERU
E104:F9		LD SP, HL
E105:FD68	LD IYL, B
E107:DD7D	LD A, IXL
E109:B7		OR A
E10A:2807	JR Z, E113
E10C:78		LD A, B
E10D:B7		OR A
E10E:FA88E1	JP M, E188
E111:1807	JR E11A
E113:		label CS2B_SELFMODIFYING_MAXSLOUPEC
E113:3E11	LD A, 11
E115:FD95	SUB IYL
E117:FA88E1	JP M, E188
E11A:		label CS2B_TEST_ZKRACENI_SIRKY
E11A:3C		INC A
E11B:FDBC	CP IYH
E11D:3002	JR NC, E121
E11F:FD67	LD IYH, A
E121:		label CS2B_NEZKRACUJ
E121:79		LD A, C
E122:0F		RRCA
E123:0F		RRCA
E124:0F		RRCA
E125:67		LD H, A
E126:E6E0	AND E0
E128:80		ADD A, B
E129:6F		LD L, A
E12A:08		EX AF, AF'
E12B:79		LD A, C
E12C:D9		EXX
E12D:E618	AND 18
E12F:		label CS2B_SELFMODIFYING_ADR_BUFF
E12F:C6B0	ADD A, B0
E131:327AE1	LD (E17A), A
E134:67		LD H, A
E135:08		EX AF, AF'
E136:6F		LD L, A
E137:FD6F	LD IYL, A
E139:D9		EXX
E13A:7C		LD A, H
E13B:E603	AND 03
E13D:		label CS2B_SELFMODIFYING_ADR_ATTR_BUFF
E13D:C6C8	ADD A, C8
E13F:67		LD H, A
E140:3284E1	LD (E184), A
E143:FD44	LD B, IYH
E145:DD6C	LD IXL, H
E147:C3A9E1	JP E1A9
E14A:		label CS2B_MASKA
E14A:E67F	AND 7F
E14C:4F		LD C, A
E14D:E638	AND 38
E14F:79		LD A, C
E150:2004	JR NZ, E156
E152:7E		LD A, (HL)
E153:E678	AND 78
E155:B1		OR C
E156:		label CS2B_MASKA_NEZACHOVAT_PAPER
E156:77		LD (HL), A
E157:D9		EXX
E158:		label CS2B_SELF_LD8_OR_JR_MASKA_ZRC
E158:0608	LD B, 08
E15A:		label CS2B_MASKA_LOOP
E15A:D1		POP DE
E15B:7E		LD A, (HL)
E15C:A3		AND E
E15D:B2		OR D
E15E:77		LD (HL), A
E15F:24		INC H
E160:10F8	DJNZ E15A
E162:182F	JR E193
E164:		label CS2B_MASKA_ZRCADLOVE
E164:EB		EX DE, HL
E165:26D0	LD H, D0
E167:FD2608	LD IYH, 08
E16A:		label CS2B_MASKA_ZRCADLOVE_LOOP
E16A:C1		POP BC
E16B:1A		LD A, (DE)
E16C:69		LD L, C
E16D:A6		AND (HL)
E16E:68		LD L, B
E16F:B6		OR (HL)
E170:12		LD (DE), A
E171:14		INC D
E172:FD25	DEC IYH
E174:20F4	JR NZ, E16A
E176:EB		EX DE, HL
E177:181A	JR E193
E179:		label CS2B_PRVNI_RADEK
E179:		label CS2B_SELF_H_SHADOW
E179:2600	LD H, 00
E17B:DD6C	LD IXL, H
E17D:		label CS2B_SELF_MIRROR_DEC
E17D:FD2C	INC IYL
E17F:FD7D	LD A, IYL
E181:6F		LD L, A
E182:D9		EXX
E183:		label CS2B_SELF_H
E183:2600	LD H, 00
E185:6F		LD L, A
E186:1021	DJNZ E1A9
E188:		label CS2B_EXIT
E188:310000	LD SP, 0000
E18B:FDE1	POP IY
E18D:C9		RET
E18E:		label CS2B_CELOPRUHLEDNY_ZNAK
E18E:D9		EXX
E18F:7C		LD A, H
E190:C608	ADD A, 08
E192:67		LD H, A
E193:		label CS2B_O_ZNAK_NIZE
E193:DD2D	DEC IXL
E195:28E2	JR Z, E179
E197:3E20	LD A, 20
E199:85		ADD A, L
E19A:6F		LD L, A
E19B:3809	JR C, E1A6
E19D:7C		LD A, H
E19E:D608	SUB 08
E1A0:67		LD H, A
E1A1:7D		LD A, L
E1A2:D9		EXX
E1A3:C3A8E1	JP E1A8
E1A6:		label CS2B_TRETINA
E1A6:D9		EXX
E1A7:24		INC H
E1A8:		label CS2B_ATTR_NEXT
E1A8:6F		LD L, A
E1A9:		label CS2B_POCATEK
E1A9:13		INC DE
E1AA:1A		LD A, (DE)
E1AB:FE3F	CP 3F
E1AD:28DF	JR Z, E18E
E1AF:B7		OR A
E1B0:FA4AE1	JP M, E14A
E1B3:4F		LD C, A
E1B4:E638	AND 38
E1B6:2821	JR Z, E1D9
E1B8:71		LD (HL), C
E1B9:D9		EXX
E1BA:		label CS2B_SELF_LD4_OR_JR_PREP_ZRC
E1BA:0604	LD B, 04
E1BC:		label CS2B_PREPISOVANI_LOOP
E1BC:D1		POP DE
E1BD:73		LD (HL), E
E1BE:24		INC H
E1BF:72		LD (HL), D
E1C0:24		INC H
E1C1:10F9	DJNZ E1BC
E1C3:18CE	JR E193
E1C5:		label CS2B_PREPISOVANI_ZRCADLOVE
E1C5:16D0	LD D, D0
E1C7:FD2604	LD IYH, 04
E1CA:		label CS2B_PREPISOVANI_ZRCADLOVE_LOOP
E1CA:C1		POP BC
E1CB:59		LD E, C
E1CC:1A		LD A, (DE)
E1CD:77		LD (HL), A
E1CE:24		INC H
E1CF:58		LD E, B
E1D0:1A		LD A, (DE)
E1D1:77		LD (HL), A
E1D2:24		INC H
E1D3:FD25	DEC IYH
E1D5:20F3	JR NZ, E1CA
E1D7:18BA	JR E193
E1D9:		label CS2B_PRIPISOVANI
E1D9:7E		LD A, (HL)
E1DA:0F		RRCA
E1DB:0F		RRCA
E1DC:0F		RRCA
E1DD:E607	AND 07
E1DF:B9		CP C
E1E0:282D	JR Z, E20F
E1E2:7E		LD A, (HL)
E1E3:E6F8	AND F8
E1E5:B1		OR C
E1E6:77		LD (HL), A
E1E7:D9		EXX
E1E8:		label CS2B_SELF_LD4_OR_JR_PRIP_ZRC
E1E8:0604	LD B, 04
E1EA:		label CS2B_PRIPISOVANI_LOOP
E1EA:D1		POP DE
E1EB:7E		LD A, (HL)
E1EC:B3		OR E
E1ED:77		LD (HL), A
E1EE:24		INC H
E1EF:7E		LD A, (HL)
E1F0:B2		OR D
E1F1:77		LD (HL), A
E1F2:24		INC H
E1F3:10F5	DJNZ E1EA
E1F5:C393E1	JP E193
E1F8:		label CS2B_PRIPISOVANI_ZRCADLOVE
E1F8:16D0	LD D, D0
E1FA:FD2604	LD IYH, 04
E1FD:		label CS2B_PRIPISOVANI_ZRCADLOVE_LOOP
E1FD:C1		POP BC
E1FE:59		LD E, C
E1FF:1A		LD A, (DE)
E200:B6		OR (HL)
E201:77		LD (HL), A
E202:24		INC H
E203:58		LD E, B
E204:1A		LD A, (DE)
E205:B6		OR (HL)
E206:77		LD (HL), A
E207:24		INC H
E208:FD25	DEC IYH
E20A:20F1	JR NZ, E1FD
E20C:C393E1	JP E193
E20F:		label CS2B_VYMAZANI
E20F:D9		EXX
E210:		label CS2B_SELF_LD4_OR_JR_VYMAZ_ZRC
E210:0604	LD B, 04
E212:		label CS2B_VYMAZANI_LOOP
E212:D1		POP DE
E213:7B		LD A, E
E214:2F		CPL
E215:A6		AND (HL)
E216:77		LD (HL), A
E217:24		INC H
E218:7A		LD A, D
E219:2F		CPL
E21A:A6		AND (HL)
E21B:77		LD (HL), A
E21C:24		INC H
E21D:10F3	DJNZ E212
E21F:C393E1	JP E193
E222:		label CS2B_VYMAZANI_ZRCADLOVE
E222:16D0	LD D, D0
E224:FD2604	LD IYH, 04
E227:		label CS2B_VYMAZANI_ZRCADLOVE_LOOP
E227:C1		POP BC
E228:59		LD E, C
E229:1A		LD A, (DE)
E22A:2F		CPL
E22B:A6		AND (HL)
E22C:77		LD (HL), A
E22D:24		INC H
E22E:58		LD E, B
E22F:1A		LD A, (DE)
E230:2F		CPL
E231:A6		AND (HL)
E232:77		LD (HL), A
E233:24		INC H
E234:FD25	DEC IYH
E236:20EF	JR NZ, E227
E238:C393E1	JP E193
SKOK_NA_MASKA_ZRCADLOVE EQU 000A
SKOK_NA_PREPISOVANI_ZRCADLOVE EQU 0009
SKOK_NA_PRIPISOVANI_ZRCADLOVE EQU 000E
SKOK_NA_VYMAZANI_ZRCADLOVE EQU 0010
		IF (false)
-   .error 'Hodnota relativniho skoku na CS2B_MASKA_ZRCADLOVE mimo povoleny rozsah!'
		ENDIF
		IF (false)
-   .error 'Hodnota relativniho skoku na CS2B_PREPISOVANI_ZRCADLOVE mimo povoleny rozsah!'
		ENDIF
		IF (false)
-   .error 'Hodnota relativniho skoku na CS2B_PRIPISOVANI_ZRCADLOVE mimo povoleny rozsah!'
		ENDIF
		End of INCLUDE
		INCLUDE input.asm
E23B:		label TEST_KEMPSTON
E23B:AF		XOR A
E23C:67		LD H, A
E23D:6F		LD L, A
E23E:		label TK_NOVY_STAV
E23E:0606	LD B, 06
E240:B4		OR H
E241:67		LD H, A
E242:		label TK_LOOP
E242:76		HALT
E243:DB1F	IN A, (1F)
E245:E61F	AND 1F
E247:FE1F	CP 1F
E249:C8		RET Z
E24A:BD		CP L
E24B:6F		LD L, A
E24C:20F0	JR NZ, E23E
E24E:10F2	DJNZ E242
E250:7C		LD A, H
E251:2176D2	LD HL, D276
E254:060D	LD B, 0D
E256:		label TK_TEST_STAVU
E256:BE		CP (HL)
E257:23		INC HL
E258:2803	JR Z, E25D
E25A:23		INC HL
E25B:10F9	DJNZ E256
E25D:		label TK_SHODNY_STAV
E25D:7E		LD A, (HL)
E25E:B7		OR A
E25F:C9		RET
E260:		label KEYPRESSED
E260:11785C	LD DE, 5C78
E263:1A		LD A, (DE)
E264:E620	AND 20
E266:47		LD B, A
E267:21085C	LD HL, 5C08
E26A:		label KEYPRESSED_NO
E26A:1A		LD A, (DE)
E26B:E620	AND 20
E26D:A8		XOR B
E26E:C0		RET NZ
E26F:7E		LD A, (HL)
E270:B7		OR A
E271:E5		PUSH HL
E272:C5		PUSH BC
E273:CC3BE2	CALL Z, E23B
E276:C1		POP BC
E277:E1		POP HL
E278:28F0	JR Z, E26A
E27A:0600	LD B, 00
E27C:70		LD (HL), B
E27D:2A45D4	LD HL, (D445)
E280:4C		LD C, H
E281:26D1	LD H, D1
E283:112AE3	LD DE, E32A
E286:D5		PUSH DE
		IF (true)
E287:FE77	CP 77
E289:C8		RET Z
E28A:04		INC B
E28B:FE73	CP 73
E28D:C8		RET Z
E28E:04		INC B
E28F:FE61	CP 61
E291:C8		RET Z
E292:04		INC B
E293:FE64	CP 64
E295:C8		RET Z
		ELSE (false)
- .warning 'Delsi kod o 4 bajty protoze stisknuto_dopredu..stisknuto_vpravo != 0..3'
-     cp      KEY_DOPREDU             ;  7:2, "w" = dopredu
-     ret     z
-     ld      b,stisknuto_dozadu      ;  7:2, offset radku tabulky VEKTORY_POHYBU
-     cp      KEY_DOZADU              ;  7:2, "s" = dozadu
-     ret     z
-     ld      b,stisknuto_vlevo       ;  7:2, offset radku tabulky VEKTORY_POHYBU
-     cp      KEY_VLEVO               ;  7:2, "a" = vlevo
-     ret     z
-     ld      b,stisknuto_vpravo      ;  7:2, offset radku tabulky VEKTORY_POHYBU
-     cp      KEY_VPRAVO              ;  7:2, "d" = vpravo
-     ret     z
		ENDIF
E296:D1		POP DE
E297:06FF	LD B, FF
E299:FE71	CP 71
E29B:2854	JR Z, E2F1
E29D:0601	LD B, 01
E29F:FE65	CP 65
E2A1:284E	JR Z, E2F1
E2A3:FE20	CP 20
E2A5:CA81EA	JP Z, EA81
E2A8:FE69	CP 69
E2AA:CAB2E7	JP Z, E7B2
E2AD:FE66	CP 66
E2AF:CA91D2	JP Z, D291
E2B2:FE67	CP 67
E2B4:CA91D2	JP Z, D291
E2B7:11C0E7	LD DE, E7C0
E2BA:D5		PUSH DE
E2BB:FE6B	CP 6B
E2BD:CA62D2	JP Z, D262
E2C0:FE6A	CP 6A
E2C2:CA6CD2	JP Z, D26C
E2C5:FE37	CP 37
E2C7:300F	JR NC, E2D8
E2C9:FE31	CP 31
E2CB:380B	JR C, E2D8
E2CD:D631	SUB 31
E2CF:2173D4	LD HL, D473
E2D2:BE		CP (HL)
E2D3:3003	JR NC, E2D8
E2D5:2B		DEC HL
E2D6:77		LD (HL), A
E2D7:C9		RET
E2D8:		label K_BAD_NUMBER
E2D8:D1		POP DE
E2D9:FE2A	CP 2A
E2DB:CAE8E2	JP Z, E2E8
E2DE:FE60	CP 60
E2E0:C210EB	JP NZ, EB10
E2E3:E1		POP HL
E2E4:CD5CEA	CALL EA5C
E2E7:C9		RET
E2E8:		label SET_BORDER
E2E8:3A74D4	LD A, (D474)
E2EB:EE07	XOR 07
E2ED:3274D4	LD (D474), A
E2F0:C9		RET
		End of INCLUDE
		INCLUDE move.asm
E2F1:		label OTOC_SE
E2F1:3E12	LD A, 12
E2F3:80		ADD A, B
E2F4:80		ADD A, B
E2F5:CD3DEB	CALL EB3D
E2F8:79		LD A, C
E2F9:80		ADD A, B
E2FA:E603	AND 03
E2FC:2146D4	LD HL, D446
E2FF:77		LD (HL), A
E300:CD18E3	CALL E318
E303:C9		RET
E304:		label HL_NOVA_POZICE
E304:16D2	LD D, D2
E306:81		ADD A, C
E307:5F		LD E, A
E308:1A		LD A, (DE)
E309:85		ADD A, L
E30A:6F		LD L, A
E30B:C9		RET
E30C:		label HL_VEPREDU
E30C:2A45D4	LD HL, (D445)
E30F:E5		PUSH HL
E310:7D		LD A, L
E311:6C		LD L, H
E312:26D2	LD H, D2
E314:86		ADD A, (HL)
E315:E1		POP HL
E316:6F		LD L, A
E317:C9		RET
E318:		label INC_POCITADLO_POHYBU_A_ZVUK
E318:2147D4	LD HL, D447
E31B:34		INC (HL)
E31C:21E803	LD HL, 03E8
E31F:		label IPPAZ_LOOP
E31F:7E		LD A, (HL)
E320:E6F8	AND F8
E322:D3FE	OUT (FE), A
E324:2B		DEC HL
E325:7C		LD A, H
E326:B5		OR L
E327:20F6	JR NZ, E31F
E329:C9		RET
E32A:		label POSUN
E32A:78		LD A, B
E32B:87		ADD A, A
E32C:87		ADD A, A
E32D:CD3DEB	CALL EB3D
E330:CD99E7	CALL E799
E333:CA5DE3	JP Z, E35D
E336:48		LD C, B
E337:05		DEC B
E338:2812	JR Z, E34C
E33A:48		LD C, B
E33B:FA4CE3	JP M, E34C
		IF (false)
-     .error      'Seznam POSUN_VLEVO_INVENTAREM prekracuje 256 bajtovy segment!'
		ENDIF
E33E:2147D4	LD HL, D447
E341:05		DEC B
E342:2802	JR Z, E346
E344:2E5D	LD L, 5D
E346:		label POSUN_LOOP
E346:2C		INC L
E347:BE		CP (HL)
E348:2C		INC L
E349:30FB	JR NC, E346
E34B:4E		LD C, (HL)
E34C:		label POSUN_PRICTI
E34C:81		ADD A, C
E34D:061F	LD B, 1F
E34F:F253E3	JP P, E353
E352:80		ADD A, B
E353:		label POSUN_NEZAPORNY
E353:B8		CP B
E354:3801	JR C, E357
E356:90		SUB B
E357:		label POSUN_V_MEZICH
E357:32FED6	LD (D6FE), A
E35A:C35BE8	JP E85B
E35D:		label POSUN_NEJSEM_V_INVENTARI
E35D:78		LD A, B
E35E:87		ADD A, A
E35F:87		ADD A, A
E360:F5		PUSH AF
E361:CD3DEB	CALL EB3D
E364:F1		POP AF
E365:CD04E3	CALL E304
E368:CB46	BIT 0, (HL)
E36A:200E	JR NZ, E37A
E36C:CDF6E4	CALL E4F6
E36F:3809	JR C, E37A
E371:7D		LD A, L
E372:3245D4	LD (D445), A
E375:CD18E3	CALL E318
E378:1807	JR E381
E37A:		label POSUN_ZABLOKOVAN
E37A:DD21C1DB	LD IX, DBC1
E37E:CDF5E3	CALL E3F5
E381:		label EXIT_POSUN
E381:C9		RET
		End of INCLUDE
		INCLUDE strings.asm
E382:		label PRINT_STRING
E382:3E07	LD A, 07
E384:		label PRINT_STRING_COLOR
E384:5D		LD E, L
E385:6F		LD L, A
E386:E5		PUSH HL
E387:CDA9EB	CALL EBA9
E38A:54		LD D, H
E38B:0E40	LD C, 40
E38D:		label PS_NEXT_CHAR
E38D:E1		POP HL
E38E:		label PRINT_STRING_CONTINUE
E38E:7D		LD A, L
E38F:6B		LD L, E
E390:77		LD (HL), A
E391:6F		LD L, A
E392:DD7E00	LD A, (IX+00)
E395:DD23	INC IX
E397:D620	SUB 20
E399:D8		RET C
E39A:E5		PUSH HL
E39B:67		LD H, A
E39C:87		ADD A, A
E39D:6F		LD L, A
E39E:84		ADD A, H
E39F:85		ADD A, L
E3A0:6F		LD L, A
E3A1:CED3	ADC A, D3
E3A3:95		SUB L
E3A4:67		LD H, A
E3A5:0605	LD B, 05
E3A7:		label PS_RIGHT_LOOP
E3A7:7E		LD A, (HL)
E3A8:B7		OR A
E3A9:2813	JR Z, E3BE
E3AB:E5		PUSH HL
E3AC:6F		LD L, A
E3AD:62		LD H, D
E3AE:C5		PUSH BC
E3AF:0608	LD B, 08
E3B1:		label PS_LOOP_PX_DOWN
E3B1:CB15	RL L
E3B3:3003	JR NC, E3B8
E3B5:1A		LD A, (DE)
E3B6:A9		XOR C
E3B7:12		LD (DE), A
E3B8:		label PS_NEXT_PX_DOWN
E3B8:14		INC D
E3B9:10F6	DJNZ E3B1
E3BB:C1		POP BC
E3BC:54		LD D, H
E3BD:E1		POP HL
E3BE:		label PS_PX_RIGHT
E3BE:23		INC HL
E3BF:AF		XOR A
E3C0:CB09	RRC C
E3C2:8B		ADC A, E
E3C3:5F		LD E, A
E3C4:10E1	DJNZ E3A7
E3C6:18C5	JR E38D
E3C8:		label PRINT_STRING_OBAL
E3C8:E5		PUSH HL
E3C9:D5		PUSH DE
E3CA:C5		PUSH BC
E3CB:CD84E3	CALL E384
E3CE:C1		POP BC
E3CF:D1		POP DE
E3D0:E1		POP HL
E3D1:C9		RET
		IF (false)
- PRINT2BUFFER:
-     ld	a,Adr_Buffer / 256
-     ld	(PS_ADRESA_SEGMENTU+1),a
-     ret
- PRINT2SCREEN:
-     ld	a,$40
-     ld	(PS_ADRESA_SEGMENTU+1),a
-     ret
		ENDIF
E3D2:		label SCROLL
E3D2:2650	LD H, 50
E3D4:		label SCROLL_LOOP
E3D4:54		LD D, H
E3D5:1E80	LD E, 80
E3D7:2EA0	LD L, A0
E3D9:016000	LD BC, 0060
E3DC:EDB0	LDIR
E3DE:CB5C	BIT 3, H
E3E0:28F2	JR Z, E3D4
E3E2:CB44	BIT 0, H
E3E4:265A	LD H, 5A
E3E6:28EC	JR Z, E3D4
E3E8:		label SCROLL_LAST_LINE
E3E8:0608	LD B, 08
E3EA:2650	LD H, 50
E3EC:		label SCROLL_NEXT_MICROLINE
E3EC:6B		LD L, E
E3ED:		label SCROLL_CLEAR_MICROLINE
E3ED:71		LD (HL), C
E3EE:2C		INC L
E3EF:20FC	JR NZ, E3ED
E3F1:24		INC H
E3F2:10F8	DJNZ E3EC
E3F4:C9		RET
E3F5:		label PRINT_MESSAGE
E3F5:3E07	LD A, 07
E3F7:		label PRINT_MESSAGE_COLOR
E3F7:CDD2E3	CALL E3D2
E3FA:21E05A	LD HL, 5AE0
E3FD:CD84E3	CALL E384
E400:C9		RET
E401:		label PRINT_MESSAGE_ARRAY
E401:CD33E4	CALL E433
E404:3E05	LD A, 05
E406:CDF7E3	CALL E3F7
E409:C9		RET
E40A:		label PRINT_DEKORACE
E40A:CD42EA	CALL EA42
E40D:13		INC DE
E40E:1A		LD A, (DE)
E40F:E61F	AND 1F
E411:47		LD B, A
E412:2177DC	LD HL, DC77
E415:CD01E4	CALL E401
E418:CD5CEA	CALL EA5C
E41B:C9		RET
E41C:		label PRINT_PREPINAC
E41C:CD42EA	CALL EA42
E41F:1A		LD A, (DE)
E420:E61F	AND 1F
E422:CB3F	SRL A
E424:CB3F	SRL A
E426:47		LD B, A
E427:21C2DC	LD HL, DCC2
E42A:CD01E4	CALL E401
E42D:CD5CEA	CALL EA5C
E430:C9		RET
E431:		label AXS_NEXT_STRING
E431:EDB1	CPIR
E433:		label ADR_X_STRING
E433:AF		XOR A
E434:4F		LD C, A
E435:B8		CP B
E436:20F9	JR NZ, E431
E438:E5		PUSH HL
E439:DDE1	POP IX
E43B:C9		RET
		IF (false)
- STRING_COPY:
- 	ld	a,(hl)
- 	inc	hl
- 	ld	(de),a
- 	inc	de
- 	or	a
- 	jr	nz,STRING_COPY
- 	ret
		ENDIF
E43C:		label ITEM_MAKE_A
E43C:B7		OR A
E43D:C8		RET Z
E43E:E5		PUSH HL
E43F:47		LD B, A
E440:214ADF	LD HL, DF4A
E443:CD33E4	CALL E433
E446:CDD2E3	CALL E3D2
E449:21E05A	LD HL, 5AE0
E44C:CD82E3	CALL E382
E44F:DDE1	POP IX
E451:CD8EE3	CALL E38E
E454:C9		RET
E455:		label ITEM_TAKEN_A
E455:2148DC	LD HL, DC48
E458:18E2	JR E43C
E45A:		label ITEM_PUT_A
E45A:2150DC	LD HL, DC50
E45D:18DD	JR E43C
		End of INCLUDE
		INCLUDE objects.asm
E45F:		label FIND_FIRST_OBJECT
E45F:117BED	LD DE, ED7B
E462:		label FFO_NEXT
E462:13		INC DE
E463:		label FIND_NEXT_OBJECT
E463:13		INC DE
E464:1A		LD A, (DE)
E465:13		INC DE
E466:BD		CP L
E467:DA62E4	JP C, E462
E46A:C9		RET
E46B:		label FIND_LAST_ITEM
E46B:117BED	LD DE, ED7B
E46E:7C		LD A, H
E46F:E603	AND 03
E471:3C		INC A
E472:67		LD H, A
E473:		label FLI_LOOP
E473:13		INC DE
E474:13		INC DE
E475:1A		LD A, (DE)
E476:13		INC DE
E477:BD		CP L
E478:38F9	JR C, E473
E47A:2006	JR NZ, E482
E47C:1A		LD A, (DE)
E47D:E603	AND 03
E47F:BC		CP H
E480:38F1	JR C, E473
E482:		label FLI_EXIT
E482:1B		DEC DE
E483:3E0F	LD A, 0F
E485:84		ADD A, H
E486:67		LD H, A
E487:C9		RET
E488:		label VLOZ_ITEM_NA_POZICI
E488:F5		PUSH AF
E489:CD6BE4	CALL E46B
E48C:E5		PUSH HL
E48D:2A7BED	LD HL, (ED7B)
E490:E5		PUSH HL
E491:ED52	SBC HL, DE
E493:44		LD B, H
E494:4D		LD C, L
E495:03		INC BC
E496:E1		POP HL
E497:54		LD D, H
E498:5D		LD E, L
E499:23		INC HL
E49A:23		INC HL
E49B:23		INC HL
E49C:227BED	LD (ED7B), HL
E49F:EB		EX DE, HL
E4A0:EDB8	LDDR
E4A2:C1		POP BC
E4A3:F1		POP AF
E4A4:EB		EX DE, HL
E4A5:77		LD (HL), A
E4A6:2B		DEC HL
E4A7:70		LD (HL), B
E4A8:2B		DEC HL
E4A9:71		LD (HL), C
E4AA:CD5AE4	CALL E45A
E4AD:AF		XOR A
E4AE:32FDD6	LD (D6FD), A
E4B1:C35BE8	JP E85B
E4B4:		label VEZMI_ITEM_Z_POZICE
E4B4:CD6BE4	CALL E46B
E4B7:EB		EX DE, HL
E4B8:2B		DEC HL
E4B9:7E		LD A, (HL)
E4BA:2B		DEC HL
E4BB:46		LD B, (HL)
E4BC:2B		DEC HL
E4BD:4E		LD C, (HL)
E4BE:EB		EX DE, HL
E4BF:ED42	SBC HL, BC
E4C1:C0		RET NZ
E4C2:32FDD6	LD (D6FD), A
E4C5:2A7BED	LD HL, (ED7B)
E4C8:ED52	SBC HL, DE
E4CA:23		INC HL
E4CB:44		LD B, H
E4CC:4D		LD C, L
E4CD:62		LD H, D
E4CE:6B		LD L, E
E4CF:23		INC HL
E4D0:23		INC HL
E4D1:23		INC HL
E4D2:EDB0	LDIR
E4D4:1B		DEC DE
E4D5:ED537BED	LD (ED7B), DE
E4D9:C35BE8	JP E85B
E4DC:		label PREPNI_OBJECT
E4DC:D5		PUSH DE
E4DD:CD5FE4	CALL E45F
E4E0:2012	JR NZ, E4F4
E4E2:		label PO_NALEZEN_OBJECT
E4E2:1A		LD A, (DE)
E4E3:AC		XOR H
E4E4:E61C	AND 1C
E4E6:2007	JR NZ, E4EF
		IF (false)
-     ld      A, H
-     and     MASKA_TYP
-     cp      TYP_DVERE
-     jr      z, PO_FOUND
-     ld      a,(de)                      ;  7:1 typ
-     sub     h
-     and     MASKA_NATOCENI
-     jr      nz,PO_NEXT_OBJECT           ;12/7:2       ??? pokud je horni bit nastaven tak to bude blbnout?
- PO_FOUND:
		ENDIF
E4E8:7C		LD A, H
E4E9:E6E0	AND E0
E4EB:EB		EX DE, HL
E4EC:AE		XOR (HL)
E4ED:77		LD (HL), A
E4EE:EB		EX DE, HL
E4EF:		label PO_NEXT_OBJECT
E4EF:CD62E4	CALL E462
E4F2:28EE	JR Z, E4E2
E4F4:		label PO_EXIT
E4F4:D1		POP DE
E4F5:C9		RET
E4F6:		label JE_POZICE_BLOKOVANA
E4F6:CD5FE4	CALL E45F
E4F9:C0		RET NZ
E4FA:		label JPB_NALEZEN_OBJECT
E4FA:1A		LD A, (DE)
E4FB:C6E0	ADD A, E0
E4FD:D8		RET C
E4FE:CD62E4	CALL E462
E501:28F7	JR Z, E4FA
E503:C9		RET
E504:		label FIND_OBJECT
E504:DD2C	INC IXL
E506:C8		RET Z
E507:DD2D	DEC IXL
E509:117BED	LD DE, ED7B
E50C:		label FO_LOOP
E50C:13		INC DE
E50D:		label FO_LOOP_DODATECNY
E50D:13		INC DE
E50E:1A		LD A, (DE)
E50F:13		INC DE
E510:DD95	SUB IXL
E512:38F8	JR C, E50C
E514:C0		RET NZ
E515:1A		LD A, (DE)
E516:E61C	AND 1C
		IF (false)
-     cp      TYP_PREPINAC            ;  7:2 
-     .warning 'Delsi kod, protoze TYP_PREPINAC != 0'
		ELSE (true)
E518:B7		OR A
		ENDIF
E519:2826	JR Z, E541
E51B:FE08	CP 08
E51D:284F	JR Z, E56E
E51F:FE04	CP 04
E521:CA06E6	JP Z, E606
E524:FE10	CP 10
E526:CA1BE6	JP Z, E61B
E529:FE0C	CP 0C
E52B:20DF	JR NZ, E50C
E52D:13		INC DE
E52E:1A		LD A, (DE)
E52F:E61F	AND 1F
E531:2185DB	LD HL, DB85
E534:FE01	CP 01
E536:2803	JR Z, E53B
E538:2149DB	LD HL, DB49
E53B:		label FOUND_DEKORACE
E53B:CD69E7	CALL E769
E53E:18CD	JR E50D
E540:		label FO_EXIT
E540:C9		RET
E541:		label FOUND_PREPINAC
E541:C5		PUSH BC
E542:1A		LD A, (DE)
E543:E603	AND 03
E545:2146D4	LD HL, D446
E548:6E		LD L, (HL)
E549:95		SUB L
E54A:215DD8	LD HL, D85D
E54D:09		ADD HL, BC
E54E:E603	AND 03
E550:280D	JR Z, E55F
E552:017800	LD BC, 0078
E555:09		ADD HL, BC
E556:FE03	CP 03
E558:2805	JR Z, E55F
E55A:09		ADD HL, BC
E55B:FE01	CP 01
E55D:200C	JR NZ, E56B
E55F:		label FD_PREPINAC_INIT
E55F:1A		LD A, (DE)
E560:B7		OR A
E561:F268E5	JP P, E568
E564:013C00	LD BC, 003C
E567:09		ADD HL, BC
E568:		label FD_PREPINAC_VIEW
E568:CD6AE7	CALL E76A
E56B:		label FD_PREPINAC_EXIT
E56B:C1		POP BC
E56C:189E	JR E50C
E56E:		label FOUND_ENEMY
E56E:D5		PUSH DE
E56F:DDE5	PUSH IX
E571:C5		PUSH BC
E572:3E0C	LD A, 0C
E574:B9		CP C
E575:200C	JR NZ, E583
E577:3A785C	LD A, (5C78)
E57A:E640	AND 40
E57C:3E02	LD A, 02
E57E:CA83E5	JP Z, E583
E581:3E01	LD A, 01
E583:		label FE_FAR
E583:32C8E5	LD (E5C8), A
E586:1A		LD A, (DE)
E587:E6E0	AND E0
E589:07		RLCA
E58A:07		RLCA
E58B:07		RLCA
E58C:DD6F	LD IXL, A
E58E:07		RLCA
E58F:81		ADD A, C
E590:81		ADD A, C
E591:C6D9	ADD A, D9
E593:6F		LD L, A
E594:CED4	ADC A, D4
E596:95		SUB L
E597:67		LD H, A
E598:13		INC DE
E599:1A		LD A, (DE)
E59A:EB		EX DE, HL
E59B:2151D5	LD HL, D551
E59E:09		ADD HL, BC
E59F:4E		LD C, (HL)
E5A0:213EDA	LD HL, DA3E
E5A3:09		ADD HL, BC
E5A4:E61F	AND 1F
E5A6:2807	JR Z, E5AF
E5A8:010A00	LD BC, 000A
E5AB:		label FE_NEXT
E5AB:09		ADD HL, BC
E5AC:3D		DEC A
E5AD:20FC	JR NZ, E5AB
E5AF:		label FE_VIEW
E5AF:7E		LD A, (HL)
E5B0:B7		OR A
E5B1:CAE4E5	JP Z, E5E4
E5B4:2B		DEC HL
E5B5:6E		LD L, (HL)
E5B6:67		LD H, A
E5B7:22C5E5	LD (E5C5), HL
E5BA:EB		EX DE, HL
E5BB:		label FE_LOOP
E5BB:2B		DEC HL
E5BC:46		LD B, (HL)
E5BD:2B		DEC HL
E5BE:4E		LD C, (HL)
E5BF:0C		INC C
E5C0:0D		DEC C
E5C1:CAE0E5	JP Z, E5E0
E5C4:		label FE_SELFMODIFIYNG
E5C4:110000	LD DE, 0000
E5C7:		label FE_SELFMODIFIYNG2
E5C7:3E00	LD A, 00
E5C9:DDBD	CP IXL
E5CB:C2D7E5	JP NZ, E5D7
E5CE:11A568	LD DE, 68A5
E5D1:78		LD A, B
E5D2:C6FF	ADD A, FF
E5D4:47		LD B, A
E5D5:0E03	LD C, 03
E5D7:		label FE_CALL
E5D7:E5		PUSH HL
E5D8:DDE5	PUSH IX
E5DA:CD81E0	CALL E081
E5DD:DDE1	POP IX
E5DF:E1		POP HL
E5E0:		label FE_TEST_LOOP
E5E0:DD2D	DEC IXL
E5E2:20D7	JR NZ, E5BB
E5E4:		label FE_EXIT
E5E4:C1		POP BC
E5E5:DDE1	POP IX
E5E7:D1		POP DE
E5E8:C30CE5	JP E50C
E5EB:		label FOUND_DOOR
E5EB:0C		INC C
E5EC:0D		DEC C
E5ED:C8		RET Z
E5EE:1A		LD A, (DE)
E5EF:3C		INC A
E5F0:3C		INC A
E5F1:AC		XOR H
E5F2:E603	AND 03
E5F4:C0		RET NZ
E5F5:2101DA	LD HL, DA01
E5F8:CD69E7	CALL E769
E5FB:1A		LD A, (DE)
E5FC:C6E0	ADD A, E0
E5FE:D0		RET NC
E5FF:21C5D9	LD HL, D9C5
E602:CD69E7	CALL E769
E605:C9		RET
E606:		label FOUND_RAM
E606:13		INC DE
E607:1A		LD A, (DE)
E608:13		INC DE
E609:13		INC DE
E60A:0C		INC C
E60B:0D		DEC C
E60C:200D	JR NZ, E61B
E60E:67		LD H, A
E60F:3A46D4	LD A, (D446)
E612:AC		XOR H
E613:E601	AND 01
E615:2101DA	LD HL, DA01
E618:CD6CE7	CALL E76C
E61B:		label FOUND_ITEM
		IF (false)
-     ld      a,c
-     cp      MAX_VIDITELNOST_PREDMETU_PLUS_1
-     jp      nc, FO_LOOP                     ; return ( bohuzel tolikrat, kolikrat je predmetu na policku )
		ENDIF
E61B:DDCB004E	BIT 1, (IX+00)
E61F:C0		RET NZ
E620:D5		PUSH DE
E621:3A46D4	LD A, (D446)
E624:67		LD H, A
E625:		label FI_HLEDANI_NEJVZDALENEJSIHO
E625:1A		LD A, (DE)
E626:E603	AND 03
E628:BC		CP H
E629:300D	JR NC, E638
E62B:		label FI_DALSI_RADEK
E62B:13		INC DE
E62C:13		INC DE
E62D:1A		LD A, (DE)
E62E:13		INC DE
E62F:B7		OR A
E630:28F9	JR Z, E62B
E632:DDBD	CP IXL
E634:28EF	JR Z, E625
E636:D1		POP DE
E637:D5		PUSH DE
E638:		label FI_NEJVZDALENEJSI
E638:6B		LD L, E
E639:		label FI_VYKRESLI_ITEM_LOOP
E639:E5		PUSH HL
E63A:D5		PUSH DE
E63B:DDE5	PUSH IX
E63D:C5		PUSH BC
E63E:1A		LD A, (DE)
E63F:E61C	AND 1C
E641:FE10	CP 10
E643:2807	JR Z, E64C
E645:FE04	CP 04
E647:CCEBE5	CALL Z, E5EB
E64A:1837	JR E683
E64C:		label FI_ITEM
E64C:1A		LD A, (DE)
E64D:94		SUB H
E64E:E603	AND 03
E650:87		ADD A, A
E651:2151D5	LD HL, D551
E654:09		ADD HL, BC
E655:47		LD B, A
E656:7E		LD A, (HL)
E657:FE06	CP 06
E659:3028	JR NC, E683
E65B:13		INC DE
E65C:1A		LD A, (DE)
E65D:87		ADD A, A
E65E:87		ADD A, A
E65F:87		ADD A, A
E660:86		ADD A, (HL)
E661:C651	ADD A, 51
E663:6F		LD L, A
E664:CEDA	ADC A, DA
E666:95		SUB L
E667:67		LD H, A
E668:5E		LD E, (HL)
E669:23		INC HL
E66A:56		LD D, (HL)
E66B:14		INC D
E66C:15		DEC D
E66D:2814	JR Z, E683
E66F:79		LD A, C
E670:87		ADD A, A
E671:80		ADD A, B
E672:C68D	ADD A, 8D
E674:6F		LD L, A
E675:CED5	ADC A, D5
E677:95		SUB L
E678:67		LD H, A
E679:4E		LD C, (HL)
E67A:0C		INC C
E67B:0D		DEC C
E67C:2805	JR Z, E683
E67E:23		INC HL
E67F:46		LD B, (HL)
E680:CD81E0	CALL E081
E683:		label FI_NEKRESLI
E683:C1		POP BC
E684:DDE1	POP IX
E686:D1		POP DE
E687:E1		POP HL
E688:13		INC DE
E689:13		INC DE
E68A:1A		LD A, (DE)
E68B:13		INC DE
E68C:DDBD	CP IXL
E68E:2802	JR Z, E692
E690:D1		POP DE
E691:D5		PUSH DE
E692:		label FI_TEST_ZACATKU_SELF
E692:7D		LD A, L
E693:BB		CP E
E694:20A3	JR NZ, E639
E696:D1		POP DE
E697:C9		RET
		End of INCLUDE
		INCLUDE draw3D.asm
E698:		label VIEW
E698:010011	LD BC, 1100
E69B:		label POZADI
E69B:11B77F	LD DE, 7FB7
E69E:3A47D4	LD A, (D447)
E6A1:E601	AND 01
E6A3:2802	JR Z, E6A7
E6A5:0EFF	LD C, FF
E6A7:		label V_H5
E6A7:C5		PUSH BC
E6A8:D5		PUSH DE
E6A9:CD81E0	CALL E081
E6AC:D1		POP DE
E6AD:C1		POP BC
E6AE:10EB	DJNZ E69B
E6B0:CD81E0	CALL E081
E6B3:11EA5F	LD DE, 5FEA
E6B6:010E00	LD BC, 000E
E6B9:CD81E0	CALL E081
E6BC:26D2	LD H, D2
E6BE:3A46D4	LD A, (D446)
E6C1:6F		LD L, A
E6C2:4E		LD C, (HL)
E6C3:C60C	ADD A, 0C
E6C5:6F		LD L, A
E6C6:7E		LD A, (HL)
E6C7:5F		LD E, A
E6C8:87		ADD A, A
E6C9:87		ADD A, A
E6CA:57		LD D, A
E6CB:26D1	LD H, D1
E6CD:3A45D4	LD A, (D445)
E6D0:0606	LD B, 06
E6D2:		label NULA
E6D2:6F		LD L, A
E6D3:E5		PUSH HL
E6D4:81		ADD A, C
E6D5:10FB	DJNZ E6D2
E6D7:DDE1	POP IX
E6D9:D5		PUSH DE
E6DA:2185D7	LD HL, D785
E6DD:06FF	LD B, FF
E6DF:CD2AE7	CALL E72A
E6E2:D1		POP DE
E6E3:7A		LD A, D
E6E4:93		SUB E
E6E5:57		LD D, A
E6E6:DDE1	POP IX
E6E8:D5		PUSH DE
E6E9:21C9D7	LD HL, D7C9
E6EC:0630	LD B, 30
E6EE:CD2AE7	CALL E72A
E6F1:D1		POP DE
E6F2:7A		LD A, D
E6F3:93		SUB E
E6F4:57		LD D, A
E6F5:DDE1	POP IX
E6F7:D5		PUSH DE
E6F8:21FDD7	LD HL, D7FD
E6FB:0624	LD B, 24
E6FD:CD2AE7	CALL E72A
E700:D1		POP DE
E701:7A		LD A, D
E702:93		SUB E
E703:57		LD D, A
E704:DDE1	POP IX
E706:D5		PUSH DE
E707:2121D8	LD HL, D821
E70A:0618	LD B, 18
E70C:CD2AE7	CALL E72A
E70F:D1		POP DE
E710:DDE1	POP IX
E712:D5		PUSH DE
E713:2135D8	LD HL, D835
E716:060C	LD B, 0C
E718:CD2AE7	CALL E72A
E71B:D1		POP DE
E71C:DDE1	POP IX
E71E:2149D8	LD HL, D849
E721:0600	LD B, 00
E723:CD2AE7	CALL E72A
E726:CD73E9	CALL E973
E729:C9		RET
E72A:		label PROHLEDEJ_PROSTOR_VPREDU
E72A:DD4D	LD C, IXL
E72C:7A		LD A, D
E72D:		label PPV_LOOP
E72D:81		ADD A, C
E72E:DD6F	LD IXL, A
E730:DDCB004E	BIT 1, (IX+00)
E734:CD6CE7	CALL E76C
E737:CD6CE7	CALL E76C
E73A:7A		LD A, D
E73B:BB		CP E
E73C:3E04	LD A, 04
E73E:CC88E7	CALL Z, E788
E741:79		LD A, C
E742:92		SUB D
E743:DD6F	LD IXL, A
E745:DDCB004E	BIT 1, (IX+00)
E749:CD6CE7	CALL E76C
E74C:CD6CE7	CALL E76C
E74F:7A		LD A, D
E750:BB		CP E
E751:3E08	LD A, 08
E753:CC88E7	CALL Z, E788
E756:7A		LD A, D
E757:93		SUB E
E758:57		LD D, A
E759:20D2	JR NZ, E72D
E75B:DD69	LD IXL, C
E75D:DDCB004E	BIT 1, (IX+00)
E761:CD6CE7	CALL E76C
E764:AF		XOR A
E765:CD88E7	CALL E788
E768:C9		RET
E769:		label ADD_BC_INIT_COPY_PATTERN2BUFFER_NOZEROFLAG
E769:09		ADD HL, BC
E76A:		label INIT_COPY_PATTERN2BUFFER_NOZEROFLAG
E76A:F601	OR 01
E76C:		label INIT_COPY_PATTERN2BUFFER
E76C:D5		PUSH DE
E76D:C5		PUSH BC
E76E:5E		LD E, (HL)
E76F:23		INC HL
E770:56		LD D, (HL)
E771:23		INC HL
E772:4E		LD C, (HL)
E773:23		INC HL
E774:46		LD B, (HL)
E775:23		INC HL
E776:280D	JR Z, E785
E778:14		INC D
E779:15		DEC D
E77A:F5		PUSH AF
E77B:E5		PUSH HL
E77C:DDE5	PUSH IX
E77E:C481E0	CALL NZ, E081
E781:DDE1	POP IX
E783:E1		POP HL
E784:F1		POP AF
E785:		label ICP_EXIT
E785:C1		POP BC
E786:D1		POP DE
E787:C9		RET
E788:		label INIT_FIND_OBJECT
E788:CB78	BIT 7, B
E78A:C0		RET NZ
E78B:E5		PUSH HL
E78C:D5		PUSH DE
E78D:C5		PUSH BC
E78E:80		ADD A, B
E78F:4F		LD C, A
E790:0600	LD B, 00
E792:CD04E5	CALL E504
E795:C1		POP BC
E796:D1		POP DE
E797:E1		POP HL
E798:C9		RET
		End of INCLUDE
		INCLUDE inventory.asm
E799:		label TEST_OTEVRENY_INVENTAR
E799:3A10D2	LD A, (D210)
E79C:E601	AND 01
E79E:3AFED6	LD A, (D6FE)
E7A1:C9		RET
E7A2:		label DE_INVENTORY_ITEMS_AKTIVNI
E7A2:3A72D4	LD A, (D472)
E7A5:5F		LD E, A
E7A6:		label DE_INVENTORY_ITEMS_A
		IF (false)
-     .error 'Zmenit kod pro nasobeni 27x'
		ENDIF
E7A6:87		ADD A, A
E7A7:87		ADD A, A
E7A8:87		ADD A, A
E7A9:87		ADD A, A
E7AA:87		ADD A, A
E7AB:93		SUB E
E7AC:C605	ADD A, 05
E7AE:5F		LD E, A
		IF (false)
-      .warning 'Delsi kod o 2 bajty! Pole INVENTORY_ITEMS = preleza segment!'
-     adc     A, INVENTORY_ITEMS / 256;  7:2
-     sub     E                       ;  4:1
-     ld      D, A                    ;  4:1
		ELSE (true)
E7AF:16D6	LD D, D6
		ENDIF
E7B1:C9		RET
E7B2:		label SET_RIGHT_PANEL
E7B2:2110D2	LD HL, D210
E7B5:7E		LD A, (HL)
E7B6:EE01	XOR 01
E7B8:77		LD (HL), A
E7B9:E601	AND 01
E7BB:C25BE8	JP NZ, E85B
E7BE:1806	JR E7C6
E7C0:		label NEW_PLAYER_ACTIVE
E7C0:CD99E7	CALL E799
E7C3:C25BE8	JP NZ, E85B
E7C6:		label PLAYERS_WINDOW
E7C6:01010E	LD BC, 0E01
E7C9:2112C8	LD HL, C812
E7CC:CD95EB	CALL EB95
E7CF:01030E	LD BC, 0E03
E7D2:21B2C8	LD HL, C8B2
E7D5:CD95EB	CALL EB95
E7D8:01030E	LD BC, 0E03
E7DB:2192C9	LD HL, C992
E7DE:CD95EB	CALL EB95
E7E1:01010E	LD BC, 0E01
E7E4:2172CA	LD HL, CA72
E7E7:CD95EB	CALL EB95
E7EA:DD2108DF	LD IX, DF08
E7EE:ED4B72D4	LD BC, (D472)
E7F2:0C		INC C
E7F3:2112C8	LD HL, C812
E7F6:1119C8	LD DE, C819
E7F9:		label PW_JMENA_LOOP
E7F9:3E03	LD A, 03
E7FB:0D		DEC C
E7FC:2802	JR Z, E800
E7FE:3E07	LD A, 07
E800:		label PW_AKTIVNI
E800:F5		PUSH AF
E801:CDC8E3	CALL E3C8
E804:7D		LD A, L
E805:C6A0	ADD A, A0
E807:6F		LD L, A
E808:8C		ADC A, H
E809:95		SUB L
E80A:67		LD H, A
E80B:F1		POP AF
E80C:DDE5	PUSH IX
E80E:DD2105DF	LD IX, DF05
E812:CDC8E3	CALL E3C8
E815:DDE1	POP IX
E817:7D		LD A, L
E818:C640	ADD A, 40
E81A:6F		LD L, A
E81B:8C		ADC A, H
E81C:95		SUB L
E81D:67		LD H, A
E81E:EB		EX DE, HL
E81F:10D8	DJNZ E7F9
E821:DD2105D6	LD IX, D605
E825:AF		XOR A
E826:F5		PUSH AF
E827:0E1F	LD C, 1F
E829:		label PW_HANDS_LOOP
E829:47		LD B, A
E82A:DD7E14	LD A, (IX+14)
E82D:CD22EA	CALL EA22
E830:04		INC B
E831:DD7E19	LD A, (IX+19)
E834:CD22EA	CALL EA22
E837:04		INC B
E838:78		LD A, B
E839:0600	LD B, 00
E83B:DD09	ADD IX, BC
E83D:FE0C	CP 0C
E83F:C229E8	JP NZ, E829
E842:CD6FE0	CALL E06F
E845:F3		DI
E846:CD44E9	CALL E944
E849:218DD4	LD HL, D48D
E84C:0606	LD B, 06
E84E:		label PW_AVATARS
E84E:CD6AE7	CALL E76A
E851:10FB	DJNZ E84E
E853:CDBAEB	CALL EBBA
E856:FB		EI
E857:CD78E0	CALL E078
E85A:C9		RET
E85B:		label INVENTORY_WINDOW_OPEN
E85B:		label INVENTORY_WINDOW_KURZOR
E85B:		label INVENTORY_WINDOW_REFRESH
E85B:010408	LD BC, 0804
E85E:2198C8	LD HL, C898
E861:CD95EB	CALL EB95
E864:010808	LD BC, 0808
E867:2118C9	LD HL, C918
E86A:CD95EB	CALL EB95
E86D:010408	LD BC, 0804
E870:2118CA	LD HL, CA18
E873:CD95EB	CALL EB95
E876:01040A	LD BC, 0A04
E879:2116C8	LD HL, C816
E87C:CD95EB	CALL EB95
E87F:3A72D4	LD A, (D472)
E882:F5		PUSH AF
E883:3C		INC A
E884:010B00	LD BC, 000B
E887:21FDDE	LD HL, DEFD
E88A:		label IW_NEXT_NAME
E88A:09		ADD HL, BC
E88B:3D		DEC A
E88C:20FC	JR NZ, E88A
E88E:E5		PUSH HL
E88F:DDE1	POP IX
E891:2116C8	LD HL, C816
E894:CD82E3	CALL E382
E897:F1		POP AF
E898:87		ADD A, A
E899:87		ADD A, A
E89A:C68D	ADD A, 8D
E89C:6F		LD L, A
E89D:CED4	ADC A, D4
E89F:95		SUB L
E8A0:67		LD H, A
E8A1:5E		LD E, (HL)
E8A2:23		INC HL
E8A3:56		LD D, (HL)
E8A4:010012	LD BC, 1200
E8A7:CD6FE0	CALL E06F
E8AA:F3		DI
E8AB:CD81E0	CALL E081
		IF (false)
-     jr      INVENTORY_POKRACUJ
-     call    SET_MAX_31              ; meni jen akumulator
-     di
- INVENTORY_POKRACUJ:
		ENDIF
E8AE:AF		XOR A
E8AF:F5		PUSH AF
E8B0:D9		EXX
E8B1:2135D7	LD HL, D735
E8B4:D9		EXX
E8B5:211B00	LD HL, 001B
E8B8:CDA2E7	CALL E7A2
E8BB:19		ADD HL, DE
E8BC:061B	LD B, 1B
E8BE:		label IW_LOOP
E8BE:CDE6E8	CALL E8E6
E8C1:10FB	DJNZ E8BE
E8C3:11E386	LD DE, 86E3
E8C6:D5		PUSH DE
E8C7:11091D	LD DE, 1D09
E8CA:D5		PUSH DE
E8CB:11005F	LD DE, 5F00
E8CE:D5		PUSH DE
E8CF:110719	LD DE, 1907
E8D2:D5		PUSH DE
E8D3:11005F	LD DE, 5F00
E8D6:D5		PUSH DE
E8D7:11F81D	LD DE, 1DF8
E8DA:D5		PUSH DE
E8DB:CD44E9	CALL E944
E8DE:CD73E9	CALL E973
E8E1:FB		EI
E8E2:CD78E0	CALL E078
E8E5:C9		RET
E8E6:		label VYKRESLI_ITEM_NA_POZICI_B
E8E6:D1		POP DE
E8E7:ED5342E9	LD (E942), DE
E8EB:D9		EXX
E8EC:2B		DEC HL
E8ED:56		LD D, (HL)
E8EE:2B		DEC HL
E8EF:5E		LD E, (HL)
E8F0:D9		EXX
E8F1:3AFDD6	LD A, (D6FD)
E8F4:4F		LD C, A
E8F5:CDE7E9	CALL E9E7
E8F8:2807	JR Z, E901
E8FA:110C87	LD DE, 870C
E8FD:D5		PUSH DE
E8FE:D9		EXX
E8FF:D5		PUSH DE
E900:D9		EXX
E901:		label IW_BEZ_MRIZKY
E901:78		LD A, B
E902:FE11	CP 11
E904:2007	JR NZ, E90D
E906:117784	LD DE, 8477
E909:D5		PUSH DE
E90A:D9		EXX
E90B:D5		PUSH DE
E90C:D9		EXX
E90D:		label IW_NENI_PROSTIRANI
E90D:48		LD C, B
		IF (false)
-     .warning 'Pomalejsi kod, INVENTORY_ITEMS preleza segment!'
-     dec     HL
		ELSE (true)
E90E:2D		DEC L
		ENDIF
E90F:7E		LD A, (HL)
E910:87		ADD A, A
E911:280A	JR Z, E91D
E913:E5		PUSH HL
E914:CD53E9	CALL E953
E917:E1		POP HL
E918:D5		PUSH DE
E919:D9		EXX
E91A:D5		PUSH DE
E91B:D9		EXX
E91C:0D		DEC C
E91D:		label IW_PRAZDNE_POLICKO
E91D:11B084	LD DE, 84B0
E920:D5		PUSH DE
E921:D9		EXX
E922:D5		PUSH DE
E923:D9		EXX
E924:3AFED6	LD A, (D6FE)
E927:3C		INC A
E928:B8		CP B
E929:2007	JR NZ, E932
E92B:118681	LD DE, 8186
E92E:D5		PUSH DE
E92F:D9		EXX
E930:D5		PUSH DE
E931:D9		EXX
E932:		label IW_NEJSME_NA_KURZORU
E932:78		LD A, B
E933:B9		CP C
E934:2004	JR NZ, E93A
E936:FE12	CP 12
E938:3007	JR NC, E941
E93A:		label IW_PREDMET_OBSAZEN
E93A:114D81	LD DE, 814D
E93D:D5		PUSH DE
E93E:D9		EXX
E93F:D5		PUSH DE
E940:D9		EXX
E941:		label IW_NEKRESLI_PODKLAD
E941:		label VINPB_SELF
E941:C30000	JP 0000
E944:		label KRESLI_ZE_ZASOBNIKU
E944:E1		POP HL
E945:C1		POP BC
E946:04		INC B
E947:05		DEC B
E948:2807	JR Z, E951
E94A:D1		POP DE
E94B:E5		PUSH HL
E94C:CD81E0	CALL E081
E94F:18F3	JR E944
E951:		label KZZ_EXIT
E951:E5		PUSH HL
E952:C9		RET
E953:		label DE_2DSPRITE_A
E953:C6BF	ADD A, BF
E955:6F		LD L, A
		IF (false)
-     .warning 'ITEM2SPRITE preleze segment!'
-     adc     A, ITEM2SPRITE / 256
-     sub     L
-     ld      H, A
-     ld      E, (HL)
-     inc     HL
		ELSE (true)
E956:26D6	LD H, D6
E958:5E		LD E, (HL)
E959:2C		INC L
		ENDIF
E95A:56		LD D, (HL)
E95B:C9		RET
E95C:		label A_NAJDI_POLOZENY_PREDMET_HL
E95C:E5		PUSH HL
E95D:C5		PUSH BC
E95E:D5		PUSH DE
E95F:CD6BE4	CALL E46B
E962:EB		EX DE, HL
E963:2B		DEC HL
E964:7E		LD A, (HL)
E965:2B		DEC HL
E966:46		LD B, (HL)
E967:2B		DEC HL
E968:4E		LD C, (HL)
E969:EB		EX DE, HL
E96A:ED42	SBC HL, BC
E96C:2801	JR Z, E96F
E96E:AF		XOR A
E96F:		label NPP_EXIT
E96F:D1		POP DE
E970:C1		POP BC
E971:E1		POP HL
E972:C9		RET
E973:		label VYKRESLI_AKTIVNI_PREDMET
E973:CD99E7	CALL E799
E976:C8		RET Z
		IF (true)
E977:CDA2E7	CALL E7A2
E97A:D5		PUSH DE
E97B:DDE1	POP IX
E97D:2A45D4	LD HL, (D445)
E980:CD5CE9	CALL E95C
E983:DD771C	LD (IX+1C), A
E986:24		INC H
E987:CD5CE9	CALL E95C
E98A:DD771E	LD (IX+1E), A
E98D:CD0CE3	CALL E30C
E990:25		DEC H
E991:CD5CE9	CALL E95C
E994:DD771B	LD (IX+1B), A
E997:25		DEC H
E998:CD5CE9	CALL E95C
E99B:DD771D	LD (IX+1D), A
		ENDIF
E99E:AF		XOR A
E99F:F5		PUSH AF
E9A0:D9		EXX
E9A1:213DD7	LD HL, D73D
E9A4:D9		EXX
E9A5:211F00	LD HL, 001F
E9A8:CDA2E7	CALL E7A2
E9AB:19		ADD HL, DE
E9AC:061F	LD B, 1F
E9AE:		label VAP_LOOP
E9AE:CDE6E8	CALL E8E6
E9B1:05		DEC B
E9B2:3E1B	LD A, 1B
E9B4:B8		CP B
E9B5:20F7	JR NZ, E9AE
E9B7:CD44E9	CALL E944
E9BA:3AFDD6	LD A, (D6FD)
E9BD:87		ADD A, A
E9BE:C8		RET Z
E9BF:C6BF	ADD A, BF
E9C1:6F		LD L, A
		IF (true)
E9C2:CED6	ADC A, D6
E9C4:95		SUB L
E9C5:67		LD H, A
E9C6:5E		LD E, (HL)
E9C7:23		INC HL
		ELSE (false)
-     ld      h, ITEM2SPRITE / 256
-     ld      e, (hl)
-     inc     l
		ENDIF
E9C8:56		LD D, (HL)
E9C9:D5		PUSH DE
E9CA:3AFED6	LD A, (D6FE)
E9CD:87		ADD A, A
E9CE:C6FF	ADD A, FF
E9D0:6F		LD L, A
E9D1:CED6	ADC A, D6
E9D3:95		SUB L
E9D4:67		LD H, A
E9D5:4E		LD C, (HL)
E9D6:23		INC HL
E9D7:46		LD B, (HL)
E9D8:05		DEC B
E9D9:0D		DEC C
E9DA:118681	LD DE, 8186
E9DD:C5		PUSH BC
E9DE:CD81E0	CALL E081
E9E1:C1		POP BC
E9E2:D1		POP DE
E9E3:CD81E0	CALL E081
E9E6:C9		RET
E9E7:		label TEST_NEPOVOLENE_POZICE
E9E7:78		LD A, B
E9E8:3D		DEC A
E9E9:FE1B	CP 1B
E9EB:380D	JR C, E9FA
E9ED:E601	AND 01
E9EF:C8		RET Z
E9F0:E5		PUSH HL
E9F1:CD0CE3	CALL E30C
E9F4:26D1	LD H, D1
E9F6:CB46	BIT 0, (HL)
E9F8:E1		POP HL
E9F9:C9		RET
E9FA:		label TNP_NOSENE
E9FA:E6F0	AND F0
E9FC:C8		RET Z
E9FD:79		LD A, C
E9FE:B7		OR A
E9FF:C8		RET Z
POZICE_M1	EQU D73C
EA00:E5		PUSH HL
EA01:C63C	ADD A, 3C
EA03:6F		LD L, A
EA04:CED7	ADC A, D7
EA06:95		SUB L
EA07:67		LD H, A
EA08:78		LD A, B
EA09:FE1B	CP 1B
EA0B:2002	JR NZ, EA0F
EA0D:3E16	LD A, 16
EA0F:		label TNP_NENI_PRSTEN
EA0F:FE1A	CP 1A
EA11:2002	JR NZ, EA15
EA13:3E15	LD A, 15
EA15:		label TNP_NENI_RUKA
EA15:BE		CP (HL)
EA16:E1		POP HL
EA17:C9		RET
EA18:		label DE_POZICE_RUKOU_A
		IF (false)
-     .error      'Seznam POZICE_RUKOU prekracuje 256 bajtovy segment!'
		ENDIF
EA18:87		ADD A, A
EA19:C675	ADD A, 75
EA1B:6F		LD L, A
EA1C:26D4	LD H, D4
EA1E:5E		LD E, (HL)
EA1F:2C		INC L
EA20:56		LD D, (HL)
EA21:C9		RET
EA22:		label VYKRESLI_RUKU
EA22:E1		POP HL
EA23:2240EA	LD (EA40), HL
EA26:11FD82	LD DE, 82FD
EA29:87		ADD A, A
EA2A:2808	JR Z, EA34
EA2C:C6BF	ADD A, BF
EA2E:6F		LD L, A
		IF (false)
-     adc     A, ITEM2SPRITE / 256
-     sub     L
-     ld      H, A
-     ld      E, (HL)
-     inc     HL
		ELSE (true)
EA2F:26D6	LD H, D6
EA31:5E		LD E, (HL)
EA32:2C		INC L
		ENDIF
EA33:56		LD D, (HL)
EA34:		label VR_PRAZDNA
EA34:D5		PUSH DE
EA35:78		LD A, B
EA36:CD18EA	CALL EA18
EA39:D5		PUSH DE
EA3A:214D81	LD HL, 814D
EA3D:E5		PUSH HL
EA3E:D5		PUSH DE
EA3F:		label VR_SELF
EA3F:C30000	JP 0000
		End of INCLUDE
EA42:		label PUSH_ALL
EA42:F3		DI
EA43:2259EA	LD (EA59), HL
EA46:E3		EX (SP), HL
EA47:F5		PUSH AF
EA48:C5		PUSH BC
EA49:D5		PUSH DE
EA4A:DDE5	PUSH IX
EA4C:FDE5	PUSH IY
EA4E:08		EX AF, AF'
EA4F:F5		PUSH AF
EA50:08		EX AF, AF'
EA51:D9		EXX
EA52:C5		PUSH BC
EA53:D5		PUSH DE
EA54:E5		PUSH HL
EA55:D9		EXX
EA56:FB		EI
EA57:E5		PUSH HL
EA58:		label PUSH_ALL_HL
EA58:210000	LD HL, 0000
EA5B:C9		RET
EA5C:		label POP_ALL
EA5C:F3		DI
EA5D:E1		POP HL
EA5E:D9		EXX
EA5F:E1		POP HL
EA60:D1		POP DE
EA61:C1		POP BC
EA62:D9		EXX
EA63:08		EX AF, AF'
EA64:F1		POP AF
EA65:08		EX AF, AF'
EA66:FDE1	POP IY
EA68:DDE1	POP IX
EA6A:D1		POP DE
EA6B:C1		POP BC
EA6C:F1		POP AF
EA6D:E3		EX (SP), HL
EA6E:FB		EI
EA6F:C9		RET
EA70:		label TIME_SCROLL
EA70:3A795C	LD A, (5C79)
EA73:E602	AND 02
EA75:47		LD B, A
EA76:		label TIME_SCROLL_LAST
EA76:EE00	XOR 00
EA78:C8		RET Z
EA79:78		LD A, B
EA7A:3277EA	LD (EA77), A
EA7D:CDD2E3	CALL E3D2
EA80:C9		RET
EA81:		label PREHOD_PREPINAC
EA81:CD99E7	CALL E799
EA84:CADAEA	JP Z, EADA
EA87:47		LD B, A
EA88:04		INC B
EA89:21FDD6	LD HL, D6FD
EA8C:4E		LD C, (HL)
EA8D:CDE7E9	CALL E9E7
EA90:DD21D8DB	LD IX, DBD8
EA94:C2F5E3	JP NZ, E3F5
EA97:3E11	LD A, 11
EA99:90		SUB B
EA9A:E5		PUSH HL
EA9B:CC6BEB	CALL Z, EB6B
EA9E:2600	LD H, 00
EAA0:68		LD L, B
EAA1:2D		DEC L
EAA2:CDA2E7	CALL E7A2
EAA5:19		ADD HL, DE
EAA6:7E		LD A, (HL)
EAA7:71		LD (HL), C
EAA8:E1		POP HL
EAA9:77		LD (HL), A
EAAA:C5		PUSH BC
EAAB:CD55E4	CALL E455
EAAE:C1		POP BC
EAAF:2AFDD6	LD HL, (D6FD)
EAB2:7C		LD A, H
EAB3:D61B	SUB 1B
EAB5:DA5BE8	JP C, E85B
EAB8:26EA	LD H, EA
EABA:C6D6	ADD A, D6
EABC:6F		LD L, A
EABD:46		LD B, (HL)
EABE:2A45D4	LD HL, (D445)
EAC1:CB48	BIT 1, B
EAC3:C40CE3	CALL NZ, E30C
EAC6:7C		LD A, H
EAC7:80		ADD A, B
EAC8:67		LD H, A
EAC9:79		LD A, C
EACA:B7		OR A
EACB:F5		PUSH AF
EACC:C488E4	CALL NZ, E488
EACF:F1		POP AF
EAD0:CCB4E4	CALL Z, E4B4
EAD3:C35BE8	JP E85B
EAD6:		label PP_DATA
EAD6:03000201	DEFB of 4 bytes
EADA:		label PP_DATA_END
		IF (false)
-     .error 'PP_DATA!'
		ENDIF
EADA:		label PP_NEJSME_V_INVENTARI
EADA:CD0CE3	CALL E30C
EADD:3E00	LD A, 00
EADF:81		ADD A, C
EAE0:47		LD B, A
EAE1:CD5FE4	CALL E45F
EAE4:		label PP_NALEZEN_OBJEKT
EAE4:C0		RET NZ
EAE5:1A		LD A, (DE)
EAE6:E61F	AND 1F
EAE8:B8		CP B
EAE9:280C	JR Z, EAF7
EAEB:E61C	AND 1C
EAED:FE0C	CP 0C
EAEF:CC0AE4	CALL Z, E40A
EAF2:CD62E4	CALL E462
EAF5:18ED	JR EAE4
EAF7:		label PP_PROHOD_PAKU
		IF (false)
-     ld      A, (DE)                     ;  7:1 typ
-     xor     ZAM_1                       ;  7:2 prepneme paku / prohodime horni bit
-     ld      (de),a                      ;  7:1 typ
		ELSE (true)
EAF7:2680	LD H, 80
EAF9:CDDCE4	CALL E4DC
		ENDIF
EAFC:13		INC DE
EAFD:CD1CE4	CALL E41C
EB00:		label PP_LOOP
EB00:13		INC DE
EB01:1A		LD A, (DE)
EB02:B7		OR A
EB03:C0		RET NZ
EB04:13		INC DE
EB05:1A		LD A, (DE)
EB06:6F		LD L, A
EB07:13		INC DE
EB08:1A		LD A, (DE)
EB09:67		LD H, A
EB0A:CDDCE4	CALL E4DC
EB0D:C300EB	JP EB00
		IF (false)
- COPY_INVENTORY2SCREEN:        ; $D64D
- jp BUFF2SCREEN
-     halt                                        ; cekame nez 50x za sekundu nezacne ULA prekreslovat obrazovku
-     ld      a,COPY_LOOP_14x - COPY_END_SEGMENT
-     ld      (COPY_MENITELNY_SKOK+1),a
-     ld      hl,$1525                    ; dec     d, dec     h
-     ld      (COPY_DEC_OR_NOP),hl
-     ld      bc,1400                     ; 10:3
- CI2S_WAIT:
-     dec     bc                          ;  6:1 at zije nekonecna smycka
-     bit     7,B                         ;  8:2 
-     jr      z,CI2S_WAIT                 ; 12/7:2
-     ld      a,(BORDER)                  ; test se zmenou barvy pozadi
-     out     (254),a
-     ld      h,Adr_Attr_Buffer/256       ;  7:2
-     ld      d,$58                       ;  7:2
-     ld      ix,$FF01                    ; 14:4
-     call    COPY_START
-     ld      h,7+Adr_Buffer/256          ;  7:2
-     ld      d,7+$40                     ;  7:2
-     ld      ix,$FF08                    ; 14:4
-     call    COPY_START
-     ld      h,1+Adr_Attr_Buffer/256     ;  7:2
-     ld      d,1+$58                     ;  7:2
-     ld      ix,$FF01                    ; 14:4
-     call    COPY_START
-     ld      h,15+Adr_Buffer/256         ;  7:2
-     ld      d,15+$40                    ;  7:2
-     ld      ix,$FF08                    ; 14:4
-     call    COPY_START
-     ld      h,2+Adr_Attr_Buffer/256     ;  7:2
-     ld      d,2+$58                     ;  7:2
-     ld      ix,$7F01                    ; 14:4
-     call    COPY_START
-     ld      h,23+Adr_Buffer/256         ;  7:2
-     ld      d,23+$40                    ;  7:2
-     ld      ix,$7F08                    ; 14:4
-     call    COPY_START
-     xor     a
-     out     (254),a                     ; nastavi BORDER na cernou
-     ret 
- COPY_VYREZ2SCREEN:        ; $D64D
- jp BUFF2SCREEN
-     halt                                ; cekame nez 50x za sekundu nezacne ULU prekreslovat obrazovku
-     ld      a,COPY_LOOP_18x - COPY_END_SEGMENT
-     ld      (COPY_MENITELNY_SKOK+1),a
-     ld      hl,0
-     ld      (COPY_DEC_OR_NOP),hl
-     ld      bc,1400                     ; 10:3
- CV2S_WAIT:
-     dec     bc                          ;  6:1 at zije nekonecna smycka
-     bit     7,B                         ;  8:2 
-     jr      z,CV2S_WAIT                 ; 12/7:2
-     ld      a,(BORDER)                  ; test se zmenou barvy pozadi
-     out     (254),a
-     ld      h,Adr_Attr_Buffer/256       ;  7:2
-     ld      d,$58                       ;  7:2
-     ld      ix,$F101                    ; 14:4
-     call    COPY_START
-     ld      h,7+Adr_Buffer/256          ;  7:2
-     ld      d,7+$40                     ;  7:2
-     ld      ix,$F108                    ; 14:4
-     call    COPY_START
-     ld      h,1+Adr_Attr_Buffer/256     ;  7:2
-     ld      d,1+$58                     ;  7:2
-     ld      ix,$D101                    ; 14:4
-     call    COPY_START
-     ld      h,15+Adr_Buffer/256         ;  7:2
-     ld      d,15+$40                    ;  7:2
-     ld      ix,$D108                    ; 14:4
-     call    COPY_START
-     xor     a
-     out     (254),a                  ; nastavi BORDER na cernou
-     ret 
- COPY_LOOP_18x:
-     ldd                             ; 16:2 18x (de--) = (hl--), ignore bc--
-     ldd                             ; 16:2
-     ldd                             ; 16:2 
-     ldd                             ; 16:2 15x
- COPY_LOOP_14x:
-     ldd                             ; 16:2
-     ldd                             ; 16:2
-     ldd                             ; 16:2
-     ldd                             ; 16:2
-     ldd                             ; 16:2 10x
-     ldd                             ; 16:2
-     ldd                             ; 16:2
-     ldd                             ; 16:2 
-     ldd                             ; 16:2 
-     ldd                             ; 16:2  5x
-     ldd                             ; 16:2
-     ldd                             ; 16:2 
-     ldd                             ; 16:2
-     ldd                             ; 16:2
-     sub     32                      ;  4:1 o radek nahoru
- COPY_MICROLINE:
-     ld      e,a                     ;  4:1
-     ld      l,a                     ;  4:1
- COPY_MENITELNY_SKOK:
-     jr      nc,COPY_LOOP_18x        ; 12/7:2  $30,xx 
- COPY_END_SEGMENT:
-     dec     ixl                     ;  pocitadlo mikroradku {8x,1x}
-     ret     z
- COPY_DEC_OR_NOP:
-     nop                             ; 4:1 $25 = dec     h = o microline nize / $00 nop
-     nop                             ; 4:1 $15 = dec     d = o microline nize / $00 nop
- COPY_START:
-     ld      a,ixh                   ; 8:2 vracime se na znak lezici nalevo dole
-     or      a                       ; reset carry flag
-     jr      COPY_MICROLINE
		ENDIF
EB10:		label HELP
EB10:DD215EDE	LD IX, DE5E
EB14:3E02	LD A, 02
EB16:CDF7E3	CALL E3F7
EB19:CDF5E3	CALL E3F5
EB1C:CDF5E3	CALL E3F5
EB1F:CDF5E3	CALL E3F5
EB22:C9		RET
EB23:		label OBAL_SPRITE2BUFFER
EB23:F5		PUSH AF
EB24:E5		PUSH HL
EB25:D5		PUSH DE
EB26:CD81E0	CALL E081
EB29:D1		POP DE
EB2A:E1		POP HL
EB2B:F1		POP AF
EB2C:C9		RET
EB2D:		label AKTUALIZUJ_RUZICI
EB2D:3A46D4	LD A, (D446)
EB30:87		ADD A, A
EB31:87		ADD A, A
EB32:C6C9	ADD A, C9
EB34:6F		LD L, A
		IF (false)
- .warning 'Delsi kod o 2 bajty! RUZICE a RUZICE_END lezi na dvou segmentech!'
-     adc     a,RUZICE / 256              ;  7:2 resi preteceni
-     sub     l                           ;  7:2 
-     ld      h,a                         ;  4:1 hl = ukazatel na ukazatel spravneho spritu
		ELSE (true)
EB35:26D4	LD H, D4
		ENDIF
EB37:F3		DI
EB38:CD6CE7	CALL E76C
EB3B:FB		EI
EB3C:C9		RET
EB3D:		label AKTUALIZUJ_SIPKY
EB3D:C5		PUSH BC
EB3E:E5		PUSH HL
EB3F:6F		LD L, A
EB40:CD64E0	CALL E064
EB43:7D		LD A, L
EB44:21A9D4	LD HL, D4A9
EB47:F3		DI
EB48:CD6CE7	CALL E76C
EB4B:85		ADD A, L
EB4C:6F		LD L, A
		IF (false)
-     .warning    'Delsi kod o 3 bajty! Pole SIPKY preleza 256 bajtovy segment!'
-     adc     A, H                        ; 4:1
-     sub     L                           ; 4:1
-     ld      H, A                        ; 4:1 H + carry
		ENDIF
EB4D:CD6CE7	CALL E76C
EB50:FB		EI
EB51:CD59E0	CALL E059
EB54:E1		POP HL
EB55:C1		POP BC
EB56:C9		RET
		IF (false)
- HORIZONTAL_FULL_LINE:
-     ld      a,$ff
- HORIZONTAL_MASK_LINE:
- HML_LOOP:
-     ld      (hl),a
-     inc     l
-     djnz    HML_LOOP
-     ret
		ENDIF
		IF (false)
- FILL_BLOCK:
-     ld      A, L                ;  4:1 nastavime na prvni znak a budeme postupne zvysovat o 32 => o znak nize
- FB_DALSI_MICROLINE:
-     push    AF                  ; 11:1 ulozime L
-     ld      C, IXL              ;  8:2 nastavime citac poctu radku
- FB_DALSI_RADEK:
-     ld      B, IXH              ;  8:2 nastavime citac poctu sloupcu
- FB_DALSI_SLOUPEC:
-     ld      (HL), E             ;  7:1
-     inc     L                   ;  4:1
-     djnz    FB_DALSI_SLOUPEC    ;13/8:2
-     add     A, $20              ;  7:2
-     ld      L, A                ;  4:1 stejna mikroradka o znak/radek nize
-     dec     C                   ;  4:1
-     jr      nz, FB_DALSI_RADEK  ;12/7:2
-     pop     AF                  ; 10:1
-     ld      L, A                ;  4:1
-     dec     D                   ;  4:1
-     ret     z                   ;11/5:1 pokud byla vyplnena jen jedna mikroradka ( atributy ) tak hl nebylo zmeneno
-     inc     H                   ;  4:1 o mikroradek nize
-     jp      FB_DALSI_MICROLINE  ; 10:3
- FILL_ATTR_BLOCK:
-     ld      IXH, B                  ; 8:2 push    bc + pop     ix = 11+14:1+2
-     ld      IXL, C                  ; 8:2
-     ld      DE, $0107               ; 10:3 jen 1 mikroradek a bila barva (vzor)
-     call    FILL_BLOCK
-     call    SEG_ATTR2SCREEN
-     ld      DE, $0800               ; 10:3 8 mikroradku a vyplnujeme nulama
-     call    FILL_BLOCK
-     ret
		ELSE (true)
EB57:		label FILL_BLOCK
EB57:		label FB_PIXEL
EB57:C5		PUSH BC
EB58:E5		PUSH HL
EB59:7D		LD A, L
EB5A:		label FB_RADEK
EB5A:42		LD B, D
EB5B:		label FB_DALSI_SLOUPEC
EB5B:73		LD (HL), E
EB5C:2C		INC L
EB5D:10FC	DJNZ EB5B
EB5F:C620	ADD A, 20
EB61:6F		LD L, A
EB62:0D		DEC C
EB63:20F5	JR NZ, EB5A
EB65:E1		POP HL
EB66:C1		POP BC
EB67:24		INC H
EB68:10ED	DJNZ EB57
EB6A:C9		RET
EB6B:		label EATING
EB6B:C5		PUSH BC
EB6C:3A72D4	LD A, (D472)
EB6F:CD6FEC	CALL EC6F
EB72:23		INC HL
EB73:115EDC	LD DE, DC5E
EB76:79		LD A, C
EB77:D61B	SUB 1B
EB79:2003	JR NZ, EB7E
EB7B:116ADC	LD DE, DC6A
EB7E:		label E_NO_FOOD
EB7E:3D		DEC A
EB7F:2003	JR NZ, EB84
EB81:46		LD B, (HL)
EB82:2B		DEC HL
EB83:70		LD (HL), B
EB84:		label E_NO_R
EB84:3D		DEC A
EB85:2002	JR NZ, EB89
EB87:23		INC HL
EB88:77		LD (HL), A
EB89:		label E_NO_G
EB89:3D		DEC A
EB8A:2000	JR NZ, EB8C
EB8C:		label E_NO_B
EB8C:		label E_PRINT
EB8C:EB		EX DE, HL
EB8D:79		LD A, C
EB8E:CD3CE4	CALL E43C
EB91:C1		POP BC
EB92:0E00	LD C, 00
EB94:C9		RET
EB95:		label FILL_ATTR_BLOCK
EB95:50		LD D, B
EB96:1E07	LD E, 07
EB98:0601	LD B, 01
EB9A:CD57EB	CALL EB57
EB9D:25		DEC H
EB9E:CDA9EB	CALL EBA9
EBA1:1E00	LD E, 00
EBA3:0608	LD B, 08
EBA5:CD57EB	CALL EB57
EBA8:C9		RET
		ENDIF
EBA9:		label SEG_ATTR2SCREEN
EBA9:7C		LD A, H
EBAA:26B0	LD H, B0
EBAC:D6C8	SUB C8
EBAE:3004	JR NC, EBB4
EBB0:2640	LD H, 40
EBB2:C670	ADD A, 70
EBB4:		label SA_BUFF
EBB4:87		ADD A, A
EBB5:87		ADD A, A
EBB6:87		ADD A, A
EBB7:84		ADD A, H
EBB8:67		LD H, A
EBB9:C9		RET
EBBA:		label ZOBRAZ_ZIVOTY
EBBA:215BD7	LD HL, D75B
EBBD:0606	LD B, 06
EBBF:		label ZZ_LOOP
EBBF:C5		PUSH BC
EBC0:4E		LD C, (HL)
EBC1:2C		INC L
EBC2:46		LD B, (HL)
EBC3:2C		INC L
EBC4:2C		INC L
EBC5:5E		LD E, (HL)
EBC6:2C		INC L
EBC7:56		LD D, (HL)
EBC8:CD08EC	CALL EC08
EBCB:2C		INC L
EBCC:4E		LD C, (HL)
EBCD:2C		INC L
EBCE:3A785C	LD A, (5C78)
EBD1:B9		CP C
EBD2:3802	JR C, EBD6
EBD4:AF		XOR A
EBD5:77		LD (HL), A
EBD6:		label ZZ_NEVYPRSEL
EBD6:7E		LD A, (HL)
EBD7:B7		OR A
EBD8:2804	JR Z, EBDE
EBDA:47		LD B, A
EBDB:CDE3EB	CALL EBE3
EBDE:		label ZZ_BEZ_AKT_ZRANENI
EBDE:2C		INC L
EBDF:C1		POP BC
EBE0:10DD	DJNZ EBBF
EBE2:C9		RET
EBE3:		label VYKRESLI_KRVAVY_FLEK
EBE3:E5		PUSH HL
EBE4:7A		LD A, D
EBE5:87		ADD A, A
EBE6:87		ADD A, A
EBE7:87		ADD A, A
EBE8:92		SUB D
Pomocny		EQU 0574
EBE9:D674	SUB 74
EBEB:4F		LD C, A
EBEC:7B		LD A, E
EBED:E61F	AND 1F
EBEF:3D		DEC A
EBF0:47		LD B, A
EBF1:D5		PUSH DE
EBF2:116770	LD DE, 7067
EBF5:CD23EB	CALL EB23
EBF8:E1		POP HL
EBF9:2C		INC L
EBFA:2C		INC L
EBFB:DD2106EC	LD IX, EC06
EBFF:3E42	LD A, 42
EC01:CD84E3	CALL E384
EC04:E1		POP HL
EC05:C9		RET
EC06:		label DAMAGE_BUF
EC06:3100	DEFB of 2 bytes
EC08:		label VYKRESLI_ZIVOTY
EC08:E5		PUSH HL
EC09:D5		PUSH DE
EC0A:D5		PUSH DE
EC0B:AF		XOR A
EC0C:67		LD H, A
EC0D:69		LD L, C
EC0E:57		LD D, A
EC0F:58		LD E, B
EC10:47		LD B, A
EC11:29		ADD HL, HL
EC12:29		ADD HL, HL
EC13:09		ADD HL, BC
EC14:4F		LD C, A
EC15:37		SCF
EC16:		label VZ_ZNAKU
EC16:0D		DEC C
EC17:ED52	SBC HL, DE
EC19:30FB	JR NC, EC16
EC1B:ED5A	ADC HL, DE
EC1D:29		ADD HL, HL
EC1E:29		ADD HL, HL
EC1F:29		ADD HL, HL
EC20:		label VZ_ZBYTEK
EC20:3C		INC A
EC21:ED52	SBC HL, DE
EC23:30FB	JR NC, EC20
		IF (false)
-     .error      'Seznam CARKY prekracuje segment!'
		ENDIF
EC25:C64F	ADD A, 4F
EC27:6F		LD L, A
EC28:26E0	LD H, E0
EC2A:56		LD D, (HL)
EC2B:79		LD A, C
EC2C:3C		INC A
EC2D:2002	JR NZ, EC31
EC2F:3E42	LD A, 42
EC31:		label VZ_VICEZNAKOVY
EC31:E646	AND 46
EC33:5F		LD E, A
EC34:E1		POP HL
EC35:0605	LD B, 05
EC37:		label VZ_LOOP_SELF
EC37:7A		LD A, D
EC38:0C		INC C
EC39:2803	JR Z, EC3E
EC3B:79		LD A, C
EC3C:17		RLA
EC3D:9F		SBC A, A
EC3E:		label VZ_PREDEL
EC3E:		label VZ_COL_SELF
EC3E:73		LD (HL), E
EC3F:E5		PUSH HL
EC40:C5		PUSH BC
EC41:4F		LD C, A
EC42:CDA9EB	CALL EBA9
EC45:0606	LD B, 06
EC47:		label VZ_LOOP_PX
EC47:24		INC H
EC48:71		LD (HL), C
EC49:10FC	DJNZ EC47
EC4B:C1		POP BC
EC4C:E1		POP HL
EC4D:2C		INC L
EC4E:10E7	DJNZ EC37
EC50:D1		POP DE
EC51:E1		POP HL
EC52:C9		RET
EC53:		label VYHAZEJ_VSECHNO
EC53:C5		PUSH BC
EC54:D5		PUSH DE
EC55:7B		LD A, E
EC56:CDA6E7	CALL E7A6
EC59:061B	LD B, 1B
EC5B:		label VV_LOOP
EC5B:D5		PUSH DE
EC5C:C5		PUSH BC
EC5D:2A45D4	LD HL, (D445)
EC60:1A		LD A, (DE)
EC61:B7		OR A
EC62:C488E4	CALL NZ, E488
EC65:C1		POP BC
EC66:D1		POP DE
EC67:AF		XOR A
EC68:12		LD (DE), A
		IF (false)
-     .warning 'Pomalejsi kod kvuli vicesegmentovemu INVENTORY_ITEMS'
-     inc     DE
		ELSE (true)
EC69:1C		INC E
		ENDIF
EC6A:10EF	DJNZ EC5B
EC6C:D1		POP DE
EC6D:C1		POP BC
EC6E:C9		RET
		IF (false)
-     .error      'Seznam DATA_ZIVOTY prekracuje segment!'
		ENDIF
EC6F:		label HL_DATA_ZIVOTY_A
EC6F:6F		LD L, A
EC70:87		ADD A, A
EC71:87		ADD A, A
EC72:87		ADD A, A
EC73:95		SUB L
EC74:C65B	ADD A, 5B
EC76:6F		LD L, A
EC77:26D7	LD H, D7
EC79:C9		RET
EC7A:		label ZRAN_POSTAVU
EC7A:D5		PUSH DE
EC7B:7B		LD A, E
EC7C:CD6FEC	CALL EC6F
EC7F:7E		LD A, (HL)
EC80:92		SUB D
EC81:3007	JR NC, EC8A
EC83:AF		XOR A
EC84:77		LD (HL), A
EC85:CD53EC	CALL EC53
EC88:180E	JR EC98
EC8A:		label ZP_ZIJE
EC8A:77		LD (HL), A
EC8B:23		INC HL
EC8C:23		INC HL
EC8D:23		INC HL
EC8E:23		INC HL
EC8F:23		INC HL
EC90:3A785C	LD A, (5C78)
EC93:C632	ADD A, 32
EC95:77		LD (HL), A
EC96:23		INC HL
EC97:72		LD (HL), D
EC98:		label ZP_EXIT
EC98:D1		POP DE
EC99:C9		RET
EC9A:		label OTESTUJ_TRVALE_ZRANENI
EC9A:D5		PUSH DE
EC9B:7B		LD A, E
EC9C:CD6FEC	CALL EC6F
EC9F:23		INC HL
ECA0:23		INC HL
ECA1:7E		LD A, (HL)
ECA2:B7		OR A
ECA3:57		LD D, A
ECA4:C47AEC	CALL NZ, EC7A
ECA7:D1		POP DE
ECA8:C9		RET
ECA9:		label PLAYERS_WINDOW_AND_DAMAGE
ECA9:		label PWAD_SELF
ECA9:3E00	LD A, 00
ECAB:21785C	LD HL, 5C78
ECAE:AE		XOR (HL)
ECAF:E680	AND 80
ECB1:280F	JR Z, ECC2
ECB3:7E		LD A, (HL)
ECB4:32AAEC	LD (ECAA), A
ECB7:110001	LD DE, 0100
ECBA:0606	LD B, 06
ECBC:		label PWAD_LOOP
ECBC:CD9AEC	CALL EC9A
ECBF:1C		INC E
ECC0:10FA	DJNZ ECBC
ECC2:		label PWAD_NEZRANUJ
ECC2:CDC6E7	CALL E7C6
ECC5:C9		RET
ECC6:		label BUFF2SCREEN
ECC6:CD42EA	CALL EA42
ECC9:AF		XOR A
ECCA:D3FE	OUT (FE), A
ECCC:2100C8	LD HL, C800
ECCF:2235ED	LD (ED35), HL
ECD2:76		HALT
ECD3:F3		DI
ECD4:210602	LD HL, 0206
ECD7:		label B2S_WAIT
ECD7:2B		DEC HL
ECD8:7C		LD A, H
ECD9:B5		OR L
ECDA:20FB	JR NZ, ECD7
ECDC:4D		LD C, L
ECDD:39		ADD HL, SP
ECDE:2274ED	LD (ED74), HL
ECE1:0608	LD B, 08
ECE3:2110B0	LD HL, B010
ECE6:1804	JR ECEC
ECE8:		label B2S_PIXEL_DOWN_LOOP
ECE8:211071	LD HL, 7110
ECEB:		label B2S_CHAR_DOWN_LOOP
ECEB:39		ADD HL, SP
ECEC:		label B2S_DIRECT
ECEC:F9		LD SP, HL
ECED:F1		POP AF
ECEE:D1		POP DE
ECEF:E1		POP HL
ECF0:D9		EXX
ECF1:DDE1	POP IX
ECF3:FDE1	POP IY
ECF5:08		EX AF, AF'
ECF6:D1		POP DE
ECF7:C1		POP BC
ECF8:210290	LD HL, 9002
ECFB:39		ADD HL, SP
ECFC:F1		POP AF
ECFD:F9		LD SP, HL
ECFE:F5		PUSH AF
ECFF:C5		PUSH BC
ED00:D5		PUSH DE
ED01:08		EX AF, AF'
ED02:FDE5	PUSH IY
ED04:DDE5	PUSH IX
ED06:D9		EXX
ED07:E5		PUSH HL
ED08:D5		PUSH DE
ED09:F5		PUSH AF
ED0A:ED731FED	LD (ED1F), SP
ED0E:21F06F	LD HL, 6FF0
ED11:39		ADD HL, SP
ED12:F9		LD SP, HL
ED13:F1		POP AF
ED14:D1		POP DE
ED15:E1		POP HL
ED16:D9		EXX
ED17:FDE1	POP IY
ED19:08		EX AF, AF'
ED1A:E1		POP HL
ED1B:D1		POP DE
ED1C:C1		POP BC
ED1D:F1		POP AF
ED1E:		label B2S_SELF_DIRECT
ED1E:310000	LD SP, 0000
ED21:F5		PUSH AF
ED22:C5		PUSH BC
ED23:D5		PUSH DE
ED24:E5		PUSH HL
ED25:08		EX AF, AF'
ED26:FDE5	PUSH IY
ED28:D9		EXX
ED29:E5		PUSH HL
ED2A:D5		PUSH DE
ED2B:F5		PUSH AF
ED2C:10BA	DJNZ ECE8
ED2E:ED735BED	LD (ED5B), SP
ED32:0602	LD B, 02
ED34:		label B2S_ATTR_LOOP
ED34:		label B2S_SELF_SRC
ED34:3100C8	LD SP, C800
ED37:F1		POP AF
ED38:D1		POP DE
ED39:E1		POP HL
ED3A:D9		EXX
ED3B:DDE1	POP IX
ED3D:FDE1	POP IY
ED3F:08		EX AF, AF'
ED40:D1		POP DE
ED41:C1		POP BC
ED42:210290	LD HL, 9002
ED45:39		ADD HL, SP
ED46:F1		POP AF
ED47:ED7335ED	LD (ED35), SP
ED4B:F9		LD SP, HL
ED4C:F5		PUSH AF
ED4D:C5		PUSH BC
ED4E:D5		PUSH DE
ED4F:08		EX AF, AF'
ED50:FDE5	PUSH IY
ED52:DDE5	PUSH IX
ED54:D9		EXX
ED55:E5		PUSH HL
ED56:D5		PUSH DE
ED57:F5		PUSH AF
ED58:10DA	DJNZ ED34
ED5A:		label B2S_ATTR_SELF
ED5A:310000	LD SP, 0000
ED5D:0C		INC C
ED5E:213069	LD HL, 6930
ED61:79		LD A, C
ED62:FE14	CP 14
ED64:280D	JR Z, ED73
ED66:0608	LD B, 08
ED68:E607	AND 07
ED6A:C2EBEC	JP NZ, ECEB
ED6D:213070	LD HL, 7030
ED70:C3EBEC	JP ECEB
ED73:		label B2S_EXIT
ED73:		label B2S_SELF
ED73:310000	LD SP, 0000
ED76:FB		EI
ED77:CD5CEA	CALL EA5C
ED7A:C9		RET
		INCLUDE table.h
i_nw		EQU 0000
i_ne		EQU 0001
i_se		EQU 0002
i_sw		EQU 0003
CHODBA_VZ	EQU 0001
CHODBA_SJ	EQU 0000
TYP_DVERE_N	EQU 0004
TYP_DVERE_E	EQU 0005
TYP_DVERE_S	EQU 0006
TYP_DVERE_W	EQU 0007
TYP_ZARAZKA	EQU 00FF
ED7B:		label ADR_ZARAZKY
ED7B:97EE	DEFW of 1 words
ED7D:		label TABLE_OBJECTS
ED7D:010C00	DEFB of 3 bytes
ED80:060C01	DEFB of 3 bytes
ED83:101019	DEFB of 3 bytes
ED86:101114	DEFB of 3 bytes
ED89:101219	DEFB of 3 bytes
ED8C:101316	DEFB of 3 bytes
ED8F:11101A	DEFB of 3 bytes
ED92:111117	DEFB of 3 bytes
ED95:11120A	DEFB of 3 bytes
ED98:11130B	DEFB of 3 bytes
ED9B:158980	DEFB of 3 bytes
ED9E:201015	DEFB of 3 bytes
EDA1:201113	DEFB of 3 bytes
EDA4:201218	DEFB of 3 bytes
EDA7:201311	DEFB of 3 bytes
EDAA:21100C	DEFB of 3 bytes
EDAD:211106	DEFB of 3 bytes
EDB0:211207	DEFB of 3 bytes
EDB3:211317	DEFB of 3 bytes
EDB6:301019	DEFB of 3 bytes
EDB9:321204	DEFB of 3 bytes
EDBC:321302	DEFB of 3 bytes
EDBF:40101A	DEFB of 3 bytes
EDC2:40111A	DEFB of 3 bytes
EDC5:40121A	DEFB of 3 bytes
EDC8:40131A	DEFB of 3 bytes
EDCB:421010	DEFB of 3 bytes
EDCE:42111C	DEFB of 3 bytes
EDD1:42121D	DEFB of 3 bytes
EDD4:42131E	DEFB of 3 bytes
EDD7:448980	DEFB of 3 bytes
EDDA:50101A	DEFB of 3 bytes
EDDD:50111A	DEFB of 3 bytes
EDE0:50121A	DEFB of 3 bytes
EDE3:50131A	DEFB of 3 bytes
EDE6:521012	DEFB of 3 bytes
EDE9:521108	DEFB of 3 bytes
EDEC:52121B	DEFB of 3 bytes
EDEF:52131D	DEFB of 3 bytes
EDF2:578401	DEFB of 3 bytes
EDF5:571016	DEFB of 3 bytes
EDF8:57101D	DEFB of 3 bytes
EDFB:57101D	DEFB of 3 bytes
EDFE:57101D	DEFB of 3 bytes
EE01:578500	DEFB of 3 bytes
EE04:578700	DEFB of 3 bytes
EE07:57131A	DEFB of 3 bytes
EE0A:571311	DEFB of 3 bytes
EE0D:590100	DEFB of 3 bytes
EE10:005784	DEFB of 3 bytes
EE13:5F0C00	DEFB of 3 bytes
EE16:738C00	DEFB of 3 bytes
EE19:73121D	DEFB of 3 bytes
EE1C:778401	DEFB of 3 bytes
EE1F:778500	DEFB of 3 bytes
EE22:778700	DEFB of 3 bytes
EE25:810C01	DEFB of 3 bytes
EE28:840200	DEFB of 3 bytes
EE2B:007784	DEFB of 3 bytes
EE2E:8E8400	DEFB of 3 bytes
EE31:8E8400	DEFB of 3 bytes
EE34:8E8600	DEFB of 3 bytes
EE37:9EE400	DEFB of 3 bytes
EE3A:9EE400	DEFB of 3 bytes
EE3D:9EE600	DEFB of 3 bytes
EE40:B00C00	DEFB of 3 bytes
PAKA_A		EQU 00B9
PAKA_B		EQU 00BA
PAKA_C		EQU 00BB
PAKA_D		EQU 00BC
EE43:B90200	DEFB of 3 bytes
EE46:008E84	DEFB of 3 bytes
EE49:009EE4	DEFB of 3 bytes
EE4C:00BA82	DEFB of 3 bytes
EE4F:00BB82	DEFB of 3 bytes
EE52:00BC82	DEFB of 3 bytes
EE55:BA0200	DEFB of 3 bytes
EE58:009EC4	DEFB of 3 bytes
EE5B:00BB82	DEFB of 3 bytes
EE5E:BB0200	DEFB of 3 bytes
EE61:009E64	DEFB of 3 bytes
EE64:00BC82	DEFB of 3 bytes
EE67:BC0200	DEFB of 3 bytes
EE6A:009EA4	DEFB of 3 bytes
EE6D:00BA82	DEFB of 3 bytes
EE70:D80100	DEFB of 3 bytes
		IF (false)
- defb      0,                           216,      ZAM_1 + TYP_PREPINAC + west    ; prepne i paku na druhe strane
		ENDIF
EE73:00E884	DEFB of 3 bytes
EE76:D80300	DEFB of 3 bytes
		IF (false)
- defb      0,                           216,      ZAM_1 + TYP_PREPINAC + east    ; prepne i paku na druhe strane
		ENDIF
EE79:00E884	DEFB of 3 bytes
EE7C:E88401	DEFB of 3 bytes
EE7F:E88500	DEFB of 3 bytes
EE82:E88700	DEFB of 3 bytes
EE85:F60C01	DEFB of 3 bytes
EE88:F6101D	DEFB of 3 bytes
EE8B:F6111C	DEFB of 3 bytes
EE8E:F6121D	DEFB of 3 bytes
EE91:F6131D	DEFB of 3 bytes
EE94:FE0C00	DEFB of 3 bytes
EE97:		label ZARAZKA
EE97:FF		DEFB of 1 bytes
		End of INCLUDE
EE98:		label END_CODE
		IF (false)
-     .error 'Kod preteka do zasobniku.'
		ENDIF
Emiting raw binary from 5F00 to EE97
