spritesStart	EQU 5F00
		INCLUDE sprites.h
Body_left	EQU 5F00
dno_bufferu	EQU 5FEA
D0		EQU 608F
D1		EQU 64CA
D2		EQU 66C5
D3		EQU 67D6
ESA1		EQU 6855
ES1		EQU 6A6E
ES2		EQU 6C11
ES3		EQU 6D0E
ES4		EQU 6D7A
FFace01		EQU 6DCB
FFace02		EQU 6E5E
FFace03		EQU 6EF1
FFace04		EQU 6F84
Flek		EQU 7017
H0		EQU 708C
H0rune		EQU 774F
H1		EQU 77A6
H1rune		EQU 7A79
H2		EQU 7AAC
H2rune		EQU 7C0F
H3		EQU 7C2E
H3rune		EQU 7CE5
H4		EQU 7D04
H4m1		EQU 7D93
H4m2		EQU 7DFA
H4m3		EQU 7E8C
H4m4		EQU 7EFB
H5		EQU 7F2C
I_ankh		EQU 7FAD
I_armor_ch	EQU 7FE6
I_armor_l	EQU 801F
I_armor_p	EQU 8058
I_axe		EQU 8091
I_bg		EQU 80C2
I_bgm		EQU 80FB
I_bone		EQU 8134
I_book		EQU 816D
I_boots		EQU 81A6
I_bow		EQU 81DF
I_dagger	EQU 8210
I_empty		EQU 8239
I_helm		EQU 826A
I_helm_d	EQU 82A3
I_mace		EQU 82DC
I_necklace	EQU 830F
I_potion_b	EQU 8338
I_potion_g	EQU 8361
I_potion_r	EQU 838A
I_prostirani	EQU 83B3
I_ram		EQU 83EC
I_rations	EQU 8405
I_ring		EQU 843E
I_ring_b	EQU 8467
I_ring_g	EQU 84A0
I_ring_r	EQU 84D9
I_ring_w	EQU 8512
I_shield	EQU 854B
I_shield2	EQU 8584
I_sling		EQU 85BD
I_sword		EQU 85EE
I_toulec	EQU 861F
I_zakazano	EQU 8648
I0_armor	EQU 8681
I0_bone		EQU 8776
I0_unknwn	EQU 8871
I0_weapon	EQU 88EB
I1_armor	EQU 898D
I1_bone		EQU 8A08
I1_unknwn	EQU 8A8D
I1_weapon	EQU 8AC6
I2_armor	EQU 8B27
I2_bone		EQU 8B55
I2_unknwn	EQU 8B8B
I2_weapon	EQU 8BA0
Kanal0		EQU 8BC5
Kanal1		EQU 8D30
Kanal2		EQU 8DD5
Kanal3		EQU 8E20
Kompas		EQU 8E47
Komp_E		EQU 8FC9
Komp_N		EQU 9069
Komp_S		EQU 9109
Komp_W		EQU 91A9
K1m1		EQU 9249
K2m1		EQU 93E4
K3m1		EQU 958F
K4m2		EQU 970C
MFace01		EQU 97E8
MFace02		EQU 987B
MFace03		EQU 990E
MFace04		EQU 99A1
Pdl1		EQU 9A34
Pdl2		EQU 9A65
Pdl3		EQU 9A8C
Pd0		EQU 9AA1
Pd1		EQU 9B14
Pd2		EQU 9B73
Pd3		EQU 9B9A
Pul1		EQU 9BC1
Pul2		EQU 9BFA
Pul3		EQU 9C2B
Pu0		EQU 9C40
Pu1		EQU 9CB3
Pu2		EQU 9D12
Pu3		EQU 9D4B
R0		EQU 9D6A
R1		EQU A189
R1m1		EQU A57C
R2		EQU A5EB
R2m1		EQU A7DE
R3		EQU A8C1
R3m1		EQU A9A2
R4		EQU AA71
S_doleva	EQU AAF4
S_doprava	EQU AB1B
S_dopredu	EQU AB42
S_dozadu	EQU AB69
S_vlevo		EQU AB90
S_vpravo	EQU ABB7
S_vsechny	EQU ABDE
V0m1		EQU AD1C
V3m2		EQU AD9D
V4m1		EQU AE32
V4m3		EQU AE8D
Adr_Buffer	EQU B000
Adr_Attr_Buffer	EQU C800
Adr_Buf_end	EQU CB00
		End of INCLUDE
		ORG 5F00
		INCBIN grafika.bin
progStart	EQU D000
		IF (false)
-     .error 'Pretikaji sprity do kodu!'
		ENDIF
		ORG D000
		INCLUDE zrcadlovy.h
D000:		label ZRCADLOVY
D000:00		DEFB of 1 bytes
D001:80		DEFB of 1 bytes
D002:40		DEFB of 1 bytes
D003:C0		DEFB of 1 bytes
D004:20		DEFB of 1 bytes
D005:A0		DEFB of 1 bytes
D006:60		DEFB of 1 bytes
D007:E0		DEFB of 1 bytes
D008:10		DEFB of 1 bytes
D009:90		DEFB of 1 bytes
D00A:50		DEFB of 1 bytes
D00B:D0		DEFB of 1 bytes
D00C:30		DEFB of 1 bytes
D00D:B0		DEFB of 1 bytes
D00E:70		DEFB of 1 bytes
D00F:F0		DEFB of 1 bytes
D010:08		DEFB of 1 bytes
D011:88		DEFB of 1 bytes
D012:48		DEFB of 1 bytes
D013:C8		DEFB of 1 bytes
D014:28		DEFB of 1 bytes
D015:A8		DEFB of 1 bytes
D016:68		DEFB of 1 bytes
D017:E8		DEFB of 1 bytes
D018:18		DEFB of 1 bytes
D019:98		DEFB of 1 bytes
D01A:58		DEFB of 1 bytes
D01B:D8		DEFB of 1 bytes
D01C:38		DEFB of 1 bytes
D01D:B8		DEFB of 1 bytes
D01E:78		DEFB of 1 bytes
D01F:F8		DEFB of 1 bytes
D020:04		DEFB of 1 bytes
D021:84		DEFB of 1 bytes
D022:44		DEFB of 1 bytes
D023:C4		DEFB of 1 bytes
D024:24		DEFB of 1 bytes
D025:A4		DEFB of 1 bytes
D026:64		DEFB of 1 bytes
D027:E4		DEFB of 1 bytes
D028:14		DEFB of 1 bytes
D029:94		DEFB of 1 bytes
D02A:54		DEFB of 1 bytes
D02B:D4		DEFB of 1 bytes
D02C:34		DEFB of 1 bytes
D02D:B4		DEFB of 1 bytes
D02E:74		DEFB of 1 bytes
D02F:F4		DEFB of 1 bytes
D030:0C		DEFB of 1 bytes
D031:8C		DEFB of 1 bytes
D032:4C		DEFB of 1 bytes
D033:CC		DEFB of 1 bytes
D034:2C		DEFB of 1 bytes
D035:AC		DEFB of 1 bytes
D036:6C		DEFB of 1 bytes
D037:EC		DEFB of 1 bytes
D038:1C		DEFB of 1 bytes
D039:9C		DEFB of 1 bytes
D03A:5C		DEFB of 1 bytes
D03B:DC		DEFB of 1 bytes
D03C:3C		DEFB of 1 bytes
D03D:BC		DEFB of 1 bytes
D03E:7C		DEFB of 1 bytes
D03F:FC		DEFB of 1 bytes
D040:02		DEFB of 1 bytes
D041:82		DEFB of 1 bytes
D042:42		DEFB of 1 bytes
D043:C2		DEFB of 1 bytes
D044:22		DEFB of 1 bytes
D045:A2		DEFB of 1 bytes
D046:62		DEFB of 1 bytes
D047:E2		DEFB of 1 bytes
D048:12		DEFB of 1 bytes
D049:92		DEFB of 1 bytes
D04A:52		DEFB of 1 bytes
D04B:D2		DEFB of 1 bytes
D04C:32		DEFB of 1 bytes
D04D:B2		DEFB of 1 bytes
D04E:72		DEFB of 1 bytes
D04F:F2		DEFB of 1 bytes
D050:0A		DEFB of 1 bytes
D051:8A		DEFB of 1 bytes
D052:4A		DEFB of 1 bytes
D053:CA		DEFB of 1 bytes
D054:2A		DEFB of 1 bytes
D055:AA		DEFB of 1 bytes
D056:6A		DEFB of 1 bytes
D057:EA		DEFB of 1 bytes
D058:1A		DEFB of 1 bytes
D059:9A		DEFB of 1 bytes
D05A:5A		DEFB of 1 bytes
D05B:DA		DEFB of 1 bytes
D05C:3A		DEFB of 1 bytes
D05D:BA		DEFB of 1 bytes
D05E:7A		DEFB of 1 bytes
D05F:FA		DEFB of 1 bytes
D060:06		DEFB of 1 bytes
D061:86		DEFB of 1 bytes
D062:46		DEFB of 1 bytes
D063:C6		DEFB of 1 bytes
D064:26		DEFB of 1 bytes
D065:A6		DEFB of 1 bytes
D066:66		DEFB of 1 bytes
D067:E6		DEFB of 1 bytes
D068:16		DEFB of 1 bytes
D069:96		DEFB of 1 bytes
D06A:56		DEFB of 1 bytes
D06B:D6		DEFB of 1 bytes
D06C:36		DEFB of 1 bytes
D06D:B6		DEFB of 1 bytes
D06E:76		DEFB of 1 bytes
D06F:F6		DEFB of 1 bytes
D070:0E		DEFB of 1 bytes
D071:8E		DEFB of 1 bytes
D072:4E		DEFB of 1 bytes
D073:CE		DEFB of 1 bytes
D074:2E		DEFB of 1 bytes
D075:AE		DEFB of 1 bytes
D076:6E		DEFB of 1 bytes
D077:EE		DEFB of 1 bytes
D078:1E		DEFB of 1 bytes
D079:9E		DEFB of 1 bytes
D07A:5E		DEFB of 1 bytes
D07B:DE		DEFB of 1 bytes
D07C:3E		DEFB of 1 bytes
D07D:BE		DEFB of 1 bytes
D07E:7E		DEFB of 1 bytes
D07F:FE		DEFB of 1 bytes
D080:01		DEFB of 1 bytes
D081:81		DEFB of 1 bytes
D082:41		DEFB of 1 bytes
D083:C1		DEFB of 1 bytes
D084:21		DEFB of 1 bytes
D085:A1		DEFB of 1 bytes
D086:61		DEFB of 1 bytes
D087:E1		DEFB of 1 bytes
D088:11		DEFB of 1 bytes
D089:91		DEFB of 1 bytes
D08A:51		DEFB of 1 bytes
D08B:D1		DEFB of 1 bytes
D08C:31		DEFB of 1 bytes
D08D:B1		DEFB of 1 bytes
D08E:71		DEFB of 1 bytes
D08F:F1		DEFB of 1 bytes
D090:09		DEFB of 1 bytes
D091:89		DEFB of 1 bytes
D092:49		DEFB of 1 bytes
D093:C9		DEFB of 1 bytes
D094:29		DEFB of 1 bytes
D095:A9		DEFB of 1 bytes
D096:69		DEFB of 1 bytes
D097:E9		DEFB of 1 bytes
D098:19		DEFB of 1 bytes
D099:99		DEFB of 1 bytes
D09A:59		DEFB of 1 bytes
D09B:D9		DEFB of 1 bytes
D09C:39		DEFB of 1 bytes
D09D:B9		DEFB of 1 bytes
D09E:79		DEFB of 1 bytes
D09F:F9		DEFB of 1 bytes
D0A0:05		DEFB of 1 bytes
D0A1:85		DEFB of 1 bytes
D0A2:45		DEFB of 1 bytes
D0A3:C5		DEFB of 1 bytes
D0A4:25		DEFB of 1 bytes
D0A5:A5		DEFB of 1 bytes
D0A6:65		DEFB of 1 bytes
D0A7:E5		DEFB of 1 bytes
D0A8:15		DEFB of 1 bytes
D0A9:95		DEFB of 1 bytes
D0AA:55		DEFB of 1 bytes
D0AB:D5		DEFB of 1 bytes
D0AC:35		DEFB of 1 bytes
D0AD:B5		DEFB of 1 bytes
D0AE:75		DEFB of 1 bytes
D0AF:F5		DEFB of 1 bytes
D0B0:0D		DEFB of 1 bytes
D0B1:8D		DEFB of 1 bytes
D0B2:4D		DEFB of 1 bytes
D0B3:CD		DEFB of 1 bytes
D0B4:2D		DEFB of 1 bytes
D0B5:AD		DEFB of 1 bytes
D0B6:6D		DEFB of 1 bytes
D0B7:ED		DEFB of 1 bytes
D0B8:1D		DEFB of 1 bytes
D0B9:9D		DEFB of 1 bytes
D0BA:5D		DEFB of 1 bytes
D0BB:DD		DEFB of 1 bytes
D0BC:3D		DEFB of 1 bytes
D0BD:BD		DEFB of 1 bytes
D0BE:7D		DEFB of 1 bytes
D0BF:FD		DEFB of 1 bytes
D0C0:03		DEFB of 1 bytes
D0C1:83		DEFB of 1 bytes
D0C2:43		DEFB of 1 bytes
D0C3:C3		DEFB of 1 bytes
D0C4:23		DEFB of 1 bytes
D0C5:A3		DEFB of 1 bytes
D0C6:63		DEFB of 1 bytes
D0C7:E3		DEFB of 1 bytes
D0C8:13		DEFB of 1 bytes
D0C9:93		DEFB of 1 bytes
D0CA:53		DEFB of 1 bytes
D0CB:D3		DEFB of 1 bytes
D0CC:33		DEFB of 1 bytes
D0CD:B3		DEFB of 1 bytes
D0CE:73		DEFB of 1 bytes
D0CF:F3		DEFB of 1 bytes
D0D0:0B		DEFB of 1 bytes
D0D1:8B		DEFB of 1 bytes
D0D2:4B		DEFB of 1 bytes
D0D3:CB		DEFB of 1 bytes
D0D4:2B		DEFB of 1 bytes
D0D5:AB		DEFB of 1 bytes
D0D6:6B		DEFB of 1 bytes
D0D7:EB		DEFB of 1 bytes
D0D8:1B		DEFB of 1 bytes
D0D9:9B		DEFB of 1 bytes
D0DA:5B		DEFB of 1 bytes
D0DB:DB		DEFB of 1 bytes
D0DC:3B		DEFB of 1 bytes
D0DD:BB		DEFB of 1 bytes
D0DE:7B		DEFB of 1 bytes
D0DF:FB		DEFB of 1 bytes
D0E0:07		DEFB of 1 bytes
D0E1:87		DEFB of 1 bytes
D0E2:47		DEFB of 1 bytes
D0E3:C7		DEFB of 1 bytes
D0E4:27		DEFB of 1 bytes
D0E5:A7		DEFB of 1 bytes
D0E6:67		DEFB of 1 bytes
D0E7:E7		DEFB of 1 bytes
D0E8:17		DEFB of 1 bytes
D0E9:97		DEFB of 1 bytes
D0EA:57		DEFB of 1 bytes
D0EB:D7		DEFB of 1 bytes
D0EC:37		DEFB of 1 bytes
D0ED:B7		DEFB of 1 bytes
D0EE:77		DEFB of 1 bytes
D0EF:F7		DEFB of 1 bytes
D0F0:0F		DEFB of 1 bytes
D0F1:8F		DEFB of 1 bytes
D0F2:4F		DEFB of 1 bytes
D0F3:CF		DEFB of 1 bytes
D0F4:2F		DEFB of 1 bytes
D0F5:AF		DEFB of 1 bytes
D0F6:6F		DEFB of 1 bytes
D0F7:EF		DEFB of 1 bytes
D0F8:1F		DEFB of 1 bytes
D0F9:9F		DEFB of 1 bytes
D0FA:5F		DEFB of 1 bytes
D0FB:DF		DEFB of 1 bytes
D0FC:3F		DEFB of 1 bytes
D0FD:BF		DEFB of 1 bytes
D0FE:7F		DEFB of 1 bytes
D0FF:FF		DEFB of 1 bytes
		End of INCLUDE
		INCLUDE map.h
D100:		label DUNGEON_MAP
D100:03030303	DEFB of 16 bytes
D104:03030203
D108:03030303
D10C:03030303
D110:00000300	DEFB of 16 bytes
D114:00000003
D118:00000003
D11C:00000003
D120:00000300	DEFB of 16 bytes
D124:00030000
D128:00030003
D12C:00030003
D130:00000000	DEFB of 16 bytes
D134:00000303
D138:03000000
D13C:00030003
D140:00000000	DEFB of 16 bytes
D144:00000303
D148:00000303
D14C:00030003
D150:00000000	DEFB of 16 bytes
D154:00000300
D158:00030000
D15C:00030003
D160:00000000	DEFB of 16 bytes
D164:00030303
D168:03000003
D16C:00030003
D170:03000002	DEFB of 16 bytes
D174:00000000
D178:00000000
D17C:00030003
D180:03020303	DEFB of 16 bytes
D184:03030303
D188:03030003
D18C:03030003
D190:03000000	DEFB of 16 bytes
D194:00000000
D198:03000000
D19C:00030003
D1A0:03000300	DEFB of 16 bytes
D1A4:03000000
D1A8:03000000
D1AC:00030003
D1B0:03000000	DEFB of 16 bytes
D1B4:00000000
D1B8:03030303
D1BC:03030003
D1C0:03000300	DEFB of 16 bytes
D1C4:03000000
D1C8:03000000
D1CC:03030000
D1D0:03000000	DEFB of 16 bytes
D1D4:00000000
D1D8:03000000
D1DC:00000000
D1E0:03000000	DEFB of 16 bytes
D1E4:00000000
D1E8:00000000
D1EC:03030000
D1F0:03030303	DEFB of 16 bytes
D1F4:03030203
D1F8:03030303
D1FC:03030303
sirka		EQU 0010
		End of INCLUDE
dopredu		EQU 0000
dozadu		EQU 0004
vlevo		EQU 0008
vpravo		EQU 000C
D200:		label VEKTORY_POHYBU
D200:F00110FF	DEFB of 4 bytes
D204:10FFF001	DEFB of 4 bytes
D208:FFF00110	DEFB of 4 bytes
D20C:0110FFF0	DEFB of 4 bytes
		IF (false)
-     .error      'Seznam VEKTORY_POHYBU neleze na zacatku segmentu!'
		ENDIF
PRIZNAK_OTEVRENY_INVENTAR EQU 0001
D210:		label PRIZNAKY
D210:00		DEFB of 1 bytes
D211:		label MAIN
D211:CD41EA	CALL EA41
D214:F3		DI
D215:ED56	IM 1
D217:FB		EI
D218:3E0C	LD A, 0C
D21A:21095C	LD HL, 5C09
D21D:77		LD (HL), A
D21E:2D		DEC L
D21F:3600	LD (HL), 00
D221:010520	LD BC, 2005
D224:21605A	LD HL, 5A60
D227:CD73EC	CALL EC73
D22A:CDECEB	CALL EBEC
D22D:CD98E7	CALL E798
D230:		label MAIN_LOOP
D230:F3		DI
D231:CD5FE6	CALL E65F
D234:FB		EI
D235:CD6FEB	CALL EB6F
D238:CD60E7	CALL E760
D23B:2003	JR NZ, D240
D23D:CD87ED	CALL ED87
D240:		label MAIN_OTEVRENY_INVENTAR
D240:CD10EB	CALL EB10
D243:3E18	LD A, 18
D245:CD1FEC	CALL EC1F
D248:CD6FEA	CALL EA6F
D24B:CD51E2	CALL E251
D24E:C330D2	JP D230
		ORG D300
		INCLUDE font.h
D300:		label PISMO_5PX
D300:00000000	DEFB of 5 bytes
D304:00
D305:003A0000	DEFB of 5 bytes
D309:00
D30A:00600060	DEFB of 5 bytes
D30E:00
D30F:143E143E	DEFB of 5 bytes
D313:14
D314:00122A6B	DEFB of 5 bytes
D318:24
D319:32340816	DEFB of 5 bytes
D31D:26
D31E:00143A14	DEFB of 5 bytes
D322:0A
D323:00006000	DEFB of 5 bytes
D327:00
D328:00003C42	DEFB of 5 bytes
D32C:00
D32D:0000423C	DEFB of 5 bytes
D331:00
D332:00140814	DEFB of 5 bytes
D336:00
D337:00081C08	DEFB of 5 bytes
D33B:00
D33C:00020400	DEFB of 5 bytes
D340:00
D341:00080808	DEFB of 5 bytes
D345:00
D346:00020000	DEFB of 5 bytes
D34A:00
D34B:02040810	DEFB of 5 bytes
D34F:20
D350:001C262A	DEFB of 5 bytes
D354:1C
D355:00123E02	DEFB of 5 bytes
D359:00
D35A:00262A2A	DEFB of 5 bytes
D35E:12
D35F:00222A2A	DEFB of 5 bytes
D363:14
D364:003C040E	DEFB of 5 bytes
D368:04
D369:003A2A2A	DEFB of 5 bytes
D36D:24
D36E:001C2A2A	DEFB of 5 bytes
D372:04
D373:00202628	DEFB of 5 bytes
D377:30
D378:00142A2A	DEFB of 5 bytes
D37C:14
D37D:00102A2A	DEFB of 5 bytes
D381:1C
D382:00001400	DEFB of 5 bytes
D386:00
D387:00021400	DEFB of 5 bytes
D38B:00
D38C:00081422	DEFB of 5 bytes
D390:00
D391:00141414	DEFB of 5 bytes
D395:00
D396:00221408	DEFB of 5 bytes
D39A:00
D39B:0010202A	DEFB of 5 bytes
D39F:10
D3A0:001C223A	DEFB of 5 bytes
D3A4:1A
D3A5:001E2828	DEFB of 5 bytes
D3A9:1E
D3AA:003E2A2A	DEFB of 5 bytes
D3AE:14
D3AF:001C2222	DEFB of 5 bytes
D3B3:22
D3B4:003E2222	DEFB of 5 bytes
D3B8:1C
D3B9:003E2A2A	DEFB of 5 bytes
D3BD:22
D3BE:003E2828	DEFB of 5 bytes
D3C2:20
D3C3:001C222A	DEFB of 5 bytes
D3C7:0C
D3C8:003E0808	DEFB of 5 bytes
D3CC:3E
D3CD:00223E22	DEFB of 5 bytes
D3D1:00
D3D2:00040202	DEFB of 5 bytes
D3D6:3C
D3D7:003E0814	DEFB of 5 bytes
D3DB:22
D3DC:003E0202	DEFB of 5 bytes
D3E0:02
D3E1:003E1010	DEFB of 5 bytes
D3E5:3E
D3E6:003E1008	DEFB of 5 bytes
D3EA:3E
D3EB:001C2222	DEFB of 5 bytes
D3EF:1C
D3F0:003E2828	DEFB of 5 bytes
D3F4:10
D3F5:001C2226	DEFB of 5 bytes
D3F9:1E
D3FA:003E2828	DEFB of 5 bytes
D3FE:16
D3FF:00122A2A	DEFB of 5 bytes
D403:24
D404:00203E20	DEFB of 5 bytes
D408:20
D409:003C0202	DEFB of 5 bytes
D40D:3C
D40E:003E0204	DEFB of 5 bytes
D412:38
D413:003E0404	DEFB of 5 bytes
D417:3E
D418:00360808	DEFB of 5 bytes
D41C:36
D41D:00380608	DEFB of 5 bytes
D421:30
D422:00262A2A	DEFB of 5 bytes
D426:32
D427:00007E42	DEFB of 5 bytes
D42B:00
D42C:20100804	DEFB of 5 bytes
D430:02
D431:0000427E	DEFB of 5 bytes
D435:00
D436:10204020	DEFB of 5 bytes
D43A:10
D43B:00020202	DEFB of 5 bytes
D43F:02
D440:00083E4A	DEFB of 5 bytes
D444:22
		IF (false)
-     .error 'Adresa pocatku fontu PISMO_5PX nelezi na pocatku segmentu'
		ENDIF
		End of INCLUDE
		INCLUDE typy.h
MASKA_PREPINACE	EQU 00E0
ZAM_1		EQU 0080
ZAM_2		EQU 0040
ZAM_3		EQU 0020
ZAM_12		EQU 00C0
ZAM_13		EQU 00A0
ZAM_23		EQU 0060
ZAM_123		EQU 00E0
MASKA_TYP	EQU 001C
MASKA_NATOCENI	EQU 0003
MASKA_PODTYP	EQU 001F
ODEMCENO	EQU 0000
POSUN_TYP	EQU 0004
POSUN_PODTYP	EQU 0001
TYP_PREPINAC	EQU 0000
PODTYP_PAKA	EQU 0000
PODTYP_TLACITKO	EQU 0001
PODTYP_TAJNE_TLACITKO EQU 0002
PODTYP_ZAMEK	EQU 0003
TYP_DVERE	EQU 0004
TYP_ENEMY	EQU 0008
PODTYP_SKRET	EQU 0000
PODTYP_PAVOUK	EQU 0001
PODTYP_TRPASLIK	EQU 0002
PODTYP_NEMRTVY	EQU 0003
TYP_DEKORACE	EQU 000C
PODTYP_KANAL	EQU 0000
PODTYP_RUNA	EQU 0001
PODTYP_RAM	EQU 0002
TYP_ITEM	EQU 0010
PODTYP_EMPTY	EQU 0000
PODTYP_RING	EQU 0001
PODTYP_RING_R	EQU 0002
PODTYP_RING_G	EQU 0003
PODTYP_RING_B	EQU 0004
PODTYP_RING_W	EQU 0005
PODTYP_HELM	EQU 0006
PODTYP_HELM_D	EQU 0007
PODTYP_NECKLACE	EQU 0008
PODTYP_ARMOR	EQU 0009
PODTYP_ARMOR_CH	EQU 000A
PODTYP_ARMOR_L	EQU 000B
PODTYP_ARMOR_P	EQU 000C
PODTYP_ARROW	EQU 000D
PODTYP_BRACERS	EQU 000E
PODTYP_BOOTS	EQU 000F
PODTYP_ANKH	EQU 0010
PODTYP_AXE	EQU 0011
PODTYP_BOOK	EQU 0012
PODTYP_BOW	EQU 0013
PODTYP_DAGGER	EQU 0014
PODTYP_MACE	EQU 0015
PODTYP_SHIELD	EQU 0016
PODTYP_SHIELD2	EQU 0017
PODTYP_SLING	EQU 0018
PODTYP_SWORD	EQU 0019
PODTYP_BONE	EQU 001A
PODTYP_FOOD	EQU 001B
PODTYP_POTION_R	EQU 001C
PODTYP_POTION_G	EQU 001D
PODTYP_POTION_B	EQU 001E
		End of INCLUDE
		INCLUDE move.h
north		EQU 0000
east		EQU 0001
south		EQU 0002
west		EQU 0003
D445:		label LOCATION
D445:34		DEFB of 1 bytes
D446:		label VECTOR
D446:00		DEFB of 1 bytes
D447:		label POHYB
D447:00		DEFB of 1 bytes
D448:		label POSUN_VLEVO_INVENTAREM
D448:02F1	DEFB of 2 bytes
D44A:03F6	DEFB of 2 bytes
D44C:05FB	DEFB of 2 bytes
D44E:06FA	DEFB of 2 bytes
D450:07F5	DEFB of 2 bytes
D452:08F0	DEFB of 2 bytes
D454:15F8	DEFB of 2 bytes
D456:17F9	DEFB of 2 bytes
D458:1BFB	DEFB of 2 bytes
D45A:1DFD	DEFB of 2 bytes
D45C:1FFE	DEFB of 2 bytes
D45E:		label POSUN_VPRAVO_INVENTAREM
D45E:0D08	DEFB of 2 bytes
D460:1107	DEFB of 2 bytes
D462:1206	DEFB of 2 bytes
D464:1605	DEFB of 2 bytes
D466:1710	DEFB of 2 bytes
D468:180A	DEFB of 2 bytes
D46A:1A03	DEFB of 2 bytes
D46C:1B0B	DEFB of 2 bytes
D46E:1D02	DEFB of 2 bytes
D470:1F05	DEFB of 2 bytes
D472:		label POSUN_VLEVO_INVENTAREM_END
		End of INCLUDE
		IF (false)
		ENDIF
		INCLUDE objects.h
KONTROLUJ_NATOCENI_U_PREPINACU EQU 0000
NEXT_PAKA	EQU 0078
PAKA_DOWN	EQU 003C
NEXT_ENEMY	EQU 0048
		IF (false)
- i_ld        equ     0       ; predmet vidim jako levy-dal
- i_pd        equ     2       ; predmet vidim jako pravy-dal
- i_pb        equ     4       ; predmet vidim jako pravy-bliz
- i_lb        equ     6       ; predmet vidim jako levy-bliz
		ENDIF
D472:		label HLAVNI_POSTAVA
D472:00		DEFB of 1 bytes
D473:		label SUM_POSTAV
D473:06		DEFB of 1 bytes
D474:		label BORDER
D474:00		DEFB of 1 bytes
D475:		label POZICE_RUKOU
D475:0116	DEFW of 1 words
D477:0316	DEFW of 1 words
D479:011D	DEFW of 1 words
D47B:031D	DEFW of 1 words
D47D:0816	DEFW of 1 words
D47F:0A16	DEFW of 1 words
D481:081D	DEFW of 1 words
D483:0A1D	DEFW of 1 words
D485:0F16	DEFW of 1 words
D487:1116	DEFW of 1 words
D489:0F1D	DEFW of 1 words
D48B:111D	DEFW of 1 words
D48D:		label POZICE_RUKOU_END
D48D:		label AVATARS
D48D:7B980112	DEFW of 4 words
D491:5E6E0119
D495:F16E0812	DEFW of 4 words
D499:846F0819
D49D:E8970F12	DEFW of 4 words
D4A1:CB6D0F19
D4A5:		label KOMPAS
D4A5:478E0F07	DEFW of 2 words
D4A9:		label SIPKY
D4A9:DEAB0F00	DEFW of 2 words
D4AD:		label STISKNUTA_SIPKA
D4AD:42AB0F03	DEFW of 2 words
D4B1:69AB1103	DEFW of 2 words
D4B5:90AB1101	DEFW of 2 words
D4B9:B7AB1105	DEFW of 2 words
D4BD:F4AA0F01	DEFW of 2 words
D4C1:1BAB0F05	DEFW of 2 words
D4C5:00000000	DEFW of 2 words
D4C9:		label SIPKY_END
SIPKA_DOPREDU	EQU 0000
SIPKA_DOZADU	EQU 0004
SIPKA_VLEVO	EQU 0008
SIPKA_VPRAVO	EQU 000C
SIPKA_OTOCDOLEVA EQU 0010
SIPKA_OTOCDOPRAVA EQU 0014
SIPKA_NIC	EQU 0018
D4C9:		label RUZICE
D4C9:69900F08	DEFW of 2 words
D4CD:C98F0F08	DEFW of 2 words
D4D1:09910F08	DEFW of 2 words
D4D5:A9910F08	DEFW of 2 words
D4D9:		label RUZICE_END
ENEMY_ATTACK_DISTANCE EQU 000C
D4D9:		label ENEMY_GROUP
D4D9:00000000	DEFW of 12 words
D4DD:00000000
D4E1:00000000
D4E5:00000000
D4E9:00000000
D4ED:00000000
D4F1:0503050A	DEFW of 12 words
D4F5:04040409
D4F9:05110000
D4FD:04100000
D501:000005FC
D505:000004FD
D509:0505050A	DEFW of 12 words
D50D:04060409
D511:050F0000
D515:040E0000
D519:00000500
D51D:00000401
D521:05060509	DEFW of 12 words
D525:05070508
D529:050D050F
D52D:050C050E
D531:05000502
D535:05010503
D539:FB080409	DEFW of 12 words
D53D:FB09FB0A
D541:FB0CFB0E
D545:040AFB0D
D549:04030405
D54D:0404FB07
D551:		label DIV_6
D551:00000000	DEFW of 6 words
D555:00000000
D559:00000000
D55D:02000200	DEFW of 6 words
D561:02000200
D565:02000200
D569:04000400	DEFW of 6 words
D56D:04000400
D571:04000400
D575:06000600	DEFW of 6 words
D579:06000600
D57D:06000600
D581:08000800	DEFW of 6 words
D585:08000800
D589:08000800
D58D:		label ITEM_POZICE
D58D:0C00F311	DEFW of 12 words
D591:00000000
D595:00000000
D599:00000000
D59D:00000000
D5A1:00000000
D5A5:0A04F50D	DEFW of 12 words
D5A9:F40E0B03
D5AD:0A100000
D5B1:00000B11
D5B5:0000F501
D5B9:F4000000
D5BD:0806F70B	DEFW of 12 words
D5C1:F60C0905
D5C5:080DF712
D5C9:F613090E
D5CD:08FFF704
D5D1:F60309FE
D5D5:00000000	DEFW of 12 words
D5D9:00000000
D5DD:00000000
D5E1:00000000
D5E5:00000000
D5E9:00000000
D5ED:00000000	DEFW of 12 words
D5F1:00000000
D5F5:00000000
D5F9:00000000
D5FD:00000000
D601:00000000
MAX_VIDITELNOST_PREDMETU_PLUS_1 EQU 003C
		End of INCLUDE
		INCLUDE input.h
TIMER_ADR	EQU 5C78
LAST_KEY_ADR	EQU 5C08
FLOP_BIT_ATTACK	EQU 0040
KEY_DOPREDU	EQU 0077
KEY_DOZADU	EQU 0073
KEY_VLEVO	EQU 0061
KEY_VPRAVO	EQU 0064
KEY_DOLEVA	EQU 0071
KEY_DOPRAVA	EQU 0065
KEY_SPACE	EQU 0020
KEY_INVENTAR	EQU 0069
KEY_VEZMI	EQU 006F
KEY_POLOZ	EQU 0070
stisknuto_dopredu EQU 0000
stisknuto_dozadu EQU 0001
stisknuto_vlevo	EQU 0002
stisknuto_vpravo EQU 0003
D605:		label DATA_KEMPSTON
D605:0102090A	DEFB of 10 bytes
D609:04081005
D60D:061A
D60F:64616571	DEFB of 10 bytes
D613:73772070
D617:6F69
		End of INCLUDE
		INCLUDE inventory.h
MAX_INVENTORY	EQU 001F
MAX_HOLD_INVENTORY EQU 001B
COLOR_OTHER_PLAYERS EQU 0007
COLOR_ACTIVE_PLAYER EQU 0003
D619:		label INVENTORY_ITEMS
D619:0C161B1B	DEFB of 16 bytes
D61D:10000000
D621:00000000
D625:00000000
D629:0007000A	DEFB of 15 bytes
D62D:11000F00
D631:00160405
D635:040302
D638:1B140000	DEFB of 16 bytes
D63C:10000000
D640:00000000
D644:00000000
D648:0006080C	DEFB of 15 bytes
D64C:19020000
D650:00160000
D654:000000
D657:1C1C1D1E	DEFB of 16 bytes
D65B:10000000
D65F:14000000
D663:00000000
D667:0000080B	DEFB of 15 bytes
D66B:15000F00
D66F:00100000
D673:000000
D676:14171B00	DEFB of 16 bytes
D67A:18000000
D67E:00000000
D682:00000000
D686:00000000	DEFB of 15 bytes
D68A:14050F00
D68E:00140000
D692:000000
D695:14160000	DEFB of 16 bytes
D699:1A000000
D69D:00000013
D6A1:00000000
D6A5:00000000	DEFB of 15 bytes
D6A9:13000000
D6AD:00000000
D6B1:000000
D6B4:14160000	DEFB of 16 bytes
D6B8:00000015
D6BC:00000000
D6C0:00000000
D6C4:00000800	DEFB of 15 bytes
D6C8:00030000
D6CC:00120100
D6D0:000000
D6D3:		label INVENTORY_ITEMS_END
D6D3:		label ITEM2SPRITE
D6D3:0000	DEFW of 1 words
D6D5:3E84	DEFW of 1 words
D6D7:D984	DEFW of 1 words
D6D9:A084	DEFW of 1 words
D6DB:6784	DEFW of 1 words
D6DD:1285	DEFW of 1 words
MAX_RING_PLUS_1	EQU 0006
D6DF:6A82	DEFW of 1 words
D6E1:A382	DEFW of 1 words
D6E3:0F83	DEFW of 1 words
MIN_ARMOR	EQU 0009
D6E5:0000	DEFW of 1 words
D6E7:E67F	DEFW of 1 words
D6E9:1F80	DEFW of 1 words
D6EB:5880	DEFW of 1 words
MAX_ARMOR_PLUS_1 EQU 000D
D6ED:0000	DEFW of 1 words
D6EF:0000	DEFW of 1 words
D6F1:A681	DEFW of 1 words
D6F3:AD7F	DEFW of 1 words
D6F5:9180	DEFW of 1 words
D6F7:6D81	DEFW of 1 words
D6F9:DF81	DEFW of 1 words
D6FB:1082	DEFW of 1 words
D6FD:DC82	DEFW of 1 words
D6FF:4B85	DEFW of 1 words
D701:8485	DEFW of 1 words
D703:BD85	DEFW of 1 words
D705:EE85	DEFW of 1 words
D707:3481	DEFW of 1 words
MIN_FOOD	EQU 001B
D709:0584	DEFW of 1 words
D70B:8A83	DEFW of 1 words
D70D:6183	DEFW of 1 words
D70F:3883	DEFW of 1 words
D711:		label ITEM2SPRITE_END
D711:		label PRESOUVANY_PREDMET
D711:00		DEFB of 1 bytes
D712:		label KURZOR_V_INVENTARI
D712:00		DEFB of 1 bytes
POZICE_PROSTIRANI EQU 1904
POZICE_HLAVA	EQU 1A07
POZICE_NAHRDELNIK EQU 1A09
POZICE_BRNENI	EQU 1A0B
POZICE_LPRSTEN	EQU 1810
POZICE_BOTY	EQU 1A12
POZICE_TOULEC	EQU 1D09
POZICE_NATEPNIK	EQU 1D0B
POZICE_PPRSTEN	EQU 1C10
D713:		label POZICE_V_INVENTARI
D713:04120612	DEFW of 8 words
D717:08120A12
D71B:0C120E12
D71F:10121212
D723:04150615	DEFW of 8 words
D727:08150A15
D72B:0C150E15
D72F:10151215
D733:		label PROSTIRANI
D733:0419	DEFW of 1 words
D735:071A	DEFW of 1 words
D737:091A	DEFW of 1 words
D739:0B1A	DEFW of 1 words
D73B:0D18	DEFW of 1 words
D73D:1018	DEFW of 1 words
D73F:121A	DEFW of 1 words
D741:091D	DEFW of 1 words
D743:0B1D	DEFW of 1 words
D745:0D1C	DEFW of 1 words
D747:101C	DEFW of 1 words
D749:		label POZICE_V_INVENTARI_HOLD_END
D749:0B04	DEFW of 1 words
D74B:0D02	DEFW of 1 words
D74D:0B0B	DEFW of 1 words
D74F:0D0D	DEFW of 1 words
D751:		label POZICE_V_INVENTARI_END
INDEX_PROSTIRANI EQU 0011
INDEX_HLAVA	EQU 0012
INDEX_NAHRDELNIK EQU 0013
INDEX_BRNENI	EQU 0014
INDEX_LRUKA	EQU 0015
INDEX_LPRSTEN	EQU 0016
INDEX_BOTY	EQU 0017
INDEX_TOULEC	EQU 0018
INDEX_NATEPNIK	EQU 0019
INDEX_PRUKA	EQU 001A
INDEX_PPRSTEN	EQU 001B
INDEX_ZEM_LU_M1	EQU 001B
INDEX_ZEM_LD_M1	EQU 001C
INDEX_ZEM_RU_M1	EQU 001D
INDEX_ZEM_RD_M1	EQU 001E
D751:		label POVOLENE_POZICE
D751:16		DEFB of 1 bytes
D752:16		DEFB of 1 bytes
D753:16		DEFB of 1 bytes
D754:16		DEFB of 1 bytes
D755:16		DEFB of 1 bytes
D756:12		DEFB of 1 bytes
D757:12		DEFB of 1 bytes
D758:13		DEFB of 1 bytes
D759:14		DEFB of 1 bytes
D75A:14		DEFB of 1 bytes
D75B:14		DEFB of 1 bytes
D75C:14		DEFB of 1 bytes
D75D:18		DEFB of 1 bytes
D75E:19		DEFB of 1 bytes
D75F:17		DEFB of 1 bytes
D760:15		DEFB of 1 bytes
D761:15		DEFB of 1 bytes
D762:15		DEFB of 1 bytes
D763:15		DEFB of 1 bytes
D764:15		DEFB of 1 bytes
D765:15		DEFB of 1 bytes
D766:15		DEFB of 1 bytes
D767:15		DEFB of 1 bytes
D768:15		DEFB of 1 bytes
D769:15		DEFB of 1 bytes
D76A:15		DEFB of 1 bytes
D76B:11		DEFB of 1 bytes
D76C:11		DEFB of 1 bytes
D76D:11		DEFB of 1 bytes
D76E:11		DEFB of 1 bytes
D76F:		label POVOLENE_POZICE_END
D76F:		label DATA_ZIVOTY
D76F:848401B4	DEFB of 7 bytes
D773:C80000
D776:5A5A01BB	DEFB of 7 bytes
D77A:C80000
D77D:40400194	DEFB of 7 bytes
D781:C90000
D784:2828019B	DEFB of 7 bytes
D788:C90000
D78B:2E2E0174	DEFB of 7 bytes
D78F:CA0000
D792:2828017B	DEFB of 7 bytes
D796:CA0000
D799:		label DATA_ZIVOTY_END
		End of INCLUDE
		INCLUDE draw3D.h
D799:		label TABLE_VIEW_9_DEPTH_4
D799:FB7EFB11	DEFW of 8 words
D79D:00000000
D7A1:FB7E0400
D7A5:00000000
D7A9:8C7EFB11	DEFW of 8 words
D7AD:00000000
D7B1:8C7E0400
D7B5:00000000
D7B9:FA7DFB0F	DEFW of 8 words
D7BD:00000000
D7C1:FA7D0402
D7C5:00000000
D7C9:937DFB0C	DEFW of 10 words
D7CD:00000000
D7D1:937D0405
D7D5:00000000
D7D9:047D0407
D7DD:		label TABLE_VIEW_7_DEPTH_3
D7DD:8DAEFC11	DEFW of 8 words
D7E1:00000000
D7E5:8DAE0300
D7E9:00000000
D7ED:0C97FC11	DEFW of 8 words
D7F1:00000000
D7F5:0C970300
D7F9:00000000
D7FD:2E7CFC0E	DEFW of 10 words
D801:32AEFC0B
D805:2E7C0303
D809:32AE0306
D80D:2E7C0307
D811:		label TABLE_VIEW_5_DEPTH_2
D811:9DADFC11	DEFW of 8 words
D815:00000000
D819:9DAD0300
D81D:00000000
D821:8F95FC11	DEFW of 10 words
D825:00000000
D829:8F950300
D82D:00000000
D831:AC7A0305
D835:		label TABLE_DEPTH_1
D835:E493FD11	DEFW of 10 words
D839:00000000
D83D:E4930200
D841:00000000
D845:A6770204
D849:		label TABLE_DEPTH_0
D849:4992FE11	DEFW of 10 words
D84D:00000000
D851:49920100
D855:00000000
D859:8C700101
D85D:		label TABLE_DEPTH_x
D85D:1CADFF11	DEFW of 10 words
D861:00000000
D865:1CAD0000
D869:00000000
D86D:00000000
D871:		label PAKY_TABLE
D871:00000000	DEFW of 6 words
D875:00000000
D879:00000000
D87D:409C0207	DEFW of 6 words
D881:00000000
D885:00000000
D889:B39C0307	DEFW of 6 words
D88D:00000000
D891:00000000
D895:129D0308	DEFW of 6 words
D899:129DFC0F
D89D:129D0302
D8A1:4B9D0308	DEFW of 6 words
D8A5:4B9DFC0D
D8A9:4B9D0304
D8AD:00000000	DEFW of 6 words
D8B1:00000000
D8B5:00000000
D8B9:A19A0407	DEFW of 6 words
D8BD:00000000
D8C1:00000000
D8C5:149B0407	DEFW of 6 words
D8C9:00000000
D8CD:00000000
D8D1:739B0408	DEFW of 6 words
D8D5:739BFB0F
D8D9:739B0402
D8DD:9A9B0408	DEFW of 6 words
D8E1:9A9BFB0D
D8E5:9A9B0404
D8E9:00000000	DEFW of 6 words
D8ED:00000000
D8F1:00000000
D8F5:00000000	DEFW of 6 words
D8F9:00000000
D8FD:C19B0302
D901:00000000	DEFW of 6 words
D905:00000000
D909:FA9B0304
D90D:00000000	DEFW of 6 words
D911:00000000
D915:2B9C0406
D919:00000000	DEFW of 6 words
D91D:00000000
D921:00000407
D925:00000000	DEFW of 6 words
D929:00000000
D92D:00000000
D931:00000000	DEFW of 6 words
D935:00000000
D939:349A0402
D93D:00000000	DEFW of 6 words
D941:00000000
D945:659A0404
D949:00000000	DEFW of 6 words
D94D:00000000
D951:8C9A0406
D955:00000000	DEFW of 6 words
D959:00000000
D95D:00000000
D961:00000000	DEFW of 6 words
D965:00000000
D969:00000000
D96D:00000000	DEFW of 6 words
D971:C19BFC0F
D975:00000000
D979:00000000	DEFW of 6 words
D97D:FA9BFC0D
D981:00000000
D985:00000000	DEFW of 6 words
D989:2B9CFB0B
D98D:00000000
D991:00000000	DEFW of 6 words
D995:00000000
D999:00000000
D99D:00000000	DEFW of 6 words
D9A1:00000000
D9A5:00000000
D9A9:00000000	DEFW of 6 words
D9AD:349AFB0F
D9B1:00000000
D9B5:00000000	DEFW of 6 words
D9B9:659AFB0D
D9BD:00000000
D9C1:00000000	DEFW of 6 words
D9C5:8C9AFB0B
D9C9:00000000
D9CD:00000000	DEFW of 6 words
D9D1:0000040A
D9D5:00000000
D9D9:		label DOOR_TABLE
D9D9:00000000	DEFW of 6 words
D9DD:00000000
D9E1:00000000
D9E5:8F600203	DEFW of 6 words
D9E9:00000000
D9ED:00000000
D9F1:CA640305	DEFW of 6 words
D9F5:CA64030F
D9F9:CA6403FB
D9FD:C5660306	DEFW of 6 words
DA01:C566030C
DA05:C5660300
DA09:D6670407	DEFW of 6 words
DA0D:D667040B
DA11:D6670403
DA15:		label RAM_TABLE
DA15:6A9D0004	DEFW of 6 words
DA19:00000000
DA1D:00000000
DA21:89A10101	DEFW of 6 words
DA25:7CA5FE11
DA29:7CA50100
DA2D:EBA50204	DEFW of 6 words
DA31:DEA7FD11
DA35:DEA70200
DA39:C1A80306	DEFW of 6 words
DA3D:C1A8030C
DA41:A2A90300
DA45:71AA0307	DEFW of 6 words
DA49:71AA030B
DA4D:71AA0303
NEXT_TYP_ENEMY	EQU 000A
DA51:		label ENEMY_TABLE
DA51:0000	DEFW of 1 words
DA53:6E6A	DEFW of 1 words
DA55:116C	DEFW of 1 words
DA57:0E6D	DEFW of 1 words
DA59:7A6D	DEFW of 1 words
DA5B:0000	DEFW of 1 words
DA5D:5568	DEFW of 1 words
DA5F:0000	DEFW of 1 words
DA61:0000	DEFW of 1 words
DA63:0000	DEFW of 1 words
DA65:		label ITEM_TABLE
DA65:00000000	DEFW of 4 words
DA69:00000000
DA6D:71888D8A	DEFW of 4 words
DA71:8B8B0000
DA75:71888D8A	DEFW of 4 words
DA79:8B8B0000
DA7D:71888D8A	DEFW of 4 words
DA81:8B8B0000
DA85:71888D8A	DEFW of 4 words
DA89:8B8B0000
DA8D:71888D8A	DEFW of 4 words
DA91:8B8B0000
DA95:81868D89	DEFW of 4 words
DA99:278B0000
DA9D:81868D89	DEFW of 4 words
DAA1:278B0000
DAA5:71888D8A	DEFW of 4 words
DAA9:8B8B0000
DAAD:00008D89	DEFW of 4 words
DAB1:278B0000
DAB5:81868D89	DEFW of 4 words
DAB9:278B0000
DABD:81868D89	DEFW of 4 words
DAC1:278B0000
DAC5:81868D89	DEFW of 4 words
DAC9:278B0000
DACD:71888D8A	DEFW of 4 words
DAD1:8B8B0000
DAD5:71888D8A	DEFW of 4 words
DAD9:8B8B0000
DADD:71888D8A	DEFW of 4 words
DAE1:8B8B0000
DAE5:71888D8A	DEFW of 4 words
DAE9:8B8B0000
DAED:EB88C68A	DEFW of 4 words
DAF1:A08B0000
DAF5:71888D8A	DEFW of 4 words
DAF9:8B8B0000
DAFD:EB88C68A	DEFW of 4 words
DB01:A08B0000
DB05:EB88C68A	DEFW of 4 words
DB09:A08B0000
DB0D:EB88C68A	DEFW of 4 words
DB11:A08B0000
DB15:81868D89	DEFW of 4 words
DB19:278B0000
DB1D:81868D89	DEFW of 4 words
DB21:278B0000
DB25:EB88C68A	DEFW of 4 words
DB29:A08B0000
DB2D:EB88C68A	DEFW of 4 words
DB31:A08B0000
DB35:7687088A	DEFW of 4 words
DB39:558B0000
DB3D:71888D8A	DEFW of 4 words
DB41:8B8B0000
DB45:71888D8A	DEFW of 4 words
DB49:8B8B0000
DB4D:71888D8A	DEFW of 4 words
DB51:8B8B0000
DB55:71888D8A	DEFW of 4 words
DB59:8B8B0000
DB5D:		label KANAL_TABLE
DB5D:00000000	DEFW of 6 words
DB61:00000000
DB65:00000000
DB69:C58B0805	DEFW of 6 words
DB6D:00000000
DB71:00000000
DB75:308D0706	DEFW of 6 words
DB79:308D0710
DB7D:308D07FC
DB81:D58D0607	DEFW of 6 words
DB85:D58D060D
DB89:D58D0601
DB8D:208E0508	DEFW of 6 words
DB91:208E050C
DB95:208E0504
DB99:		label RUNE_TABLE
DB99:00000000	DEFW of 6 words
DB9D:00000000
DBA1:00000000
DBA5:4F770407	DEFW of 6 words
DBA9:00000417
DBAD:000004F7
DBB1:797A0407	DEFW of 6 words
DBB5:797A0411
DBB9:797A04FD
DBBD:0F7C0408	DEFW of 6 words
DBC1:0F7C040E
DBC5:0F7C0402
DBC9:E57C0408	DEFW of 6 words
DBCD:E57C040C
DBD1:E57C0404
		End of INCLUDE
		INCLUDE strings.h
DBD5:		label VETA_NO_WAY
DBD5:594F5520	DEFB of 23 bytes
DBD9:43414E27
DBDD:5420474F
DBE1:20544841
DBE5:54205741
DBE9:592E00
DBEC:		label VETA_NO_PUT
DBEC:594F5520	DEFB of 30 bytes
DBF0:43414E54
DBF4:20505554
DBF8:20544841
DBFC:54204954
DC00:454D2054
DC04:48455245
DC08:2E00
DC0A:		label VETA_CASTS
DC0A:3F3F3F20	DEFB of 17 bytes
DC0E:43415354
DC12:5320424C
DC16:4553532E
DC1A:00
DC1B:		label VETA_PRY_DOOR
DC1B:4E4F204F	DEFB of 38 bytes
DC1F:4E452049
DC23:53204142
DC27:4C452054
DC2B:4F205052
DC2F:59205448
DC33:49532044
DC37:4F4F5220
DC3B:4F50454E
DC3F:2E00
DC41:		label VETA_FORCES
DC41:54484520	DEFB of 27 bytes
DC45:50415254
DC49:5920464F
DC4D:52434553
DC51:20544845
DC55:20444F4F
DC59:522E00
DC5C:		label VETA_TAKEN
DC5C:2054414B	DEFB of 8 bytes
DC60:454E2E00
DC64:		label VETA_PUT
DC64:2042594C	DEFB of 14 bytes
DC68:20504F4C
DC6C:4F5A454E
DC70:2E00
DC72:		label VETA_DRINK
DC72:2042594C	DEFB of 12 bytes
DC76:20565950
DC7A:49542E00
DC7E:		label VETA_EAT
DC7E:2042594C	DEFB of 13 bytes
DC82:20534E45
DC86:5A454E2E
DC8A:00
DC8B:		label ARRAY_STRING_DEKORACE
DC8B:534F4D45	DEFB of 48 bytes
DC8F:5448494E
DC93:47205343
DC97:55525249
DC9B:45532044
DC9F:45455045
DCA3:5220494E
DCA7:544F2054
DCAB:48452046
DCAF:4C4F4F52
DCB3:20445241
DCB7:494E2E00
DCBB:54484953	DEFB of 27 bytes
DCBF:2052554E
DCC3:45204953
DCC7:20554E52
DCCB:45434F47
DCCF:4E495A45
DCD3:442E00
DCD6:		label ARRAY_STRING_PREPINACE
DCD6:50524548	DEFB of 19 bytes
DCDA:4F44494C
DCDE:204A5349
DCE2:2050414B
DCE6:552E00
DCE9:53544953	DEFB of 23 bytes
DCED:4B4E554C
DCF1:204A5349
DCF5:20544C41
DCF9:4349544B
DCFD:4F2E00
DD00:53544953	DEFB of 30 bytes
DD04:4B4E554C
DD08:204A5349
DD0C:20534B52
DD10:59544520
DD14:544C4143
DD18:49544B4F
DD1C:2E00
DD1E:4F544F43	DEFB of 19 bytes
DD22:494C204A
DD26:5349205A
DD2A:414D4B45
DD2E:4D2E00
DD31:		label VETA_11
DD31:54484953	DEFB of 47 bytes
DD35:20534C49
DD39:4D592C20
DD3D:534D454C
DD41:4C592044
DD45:5241494E
DD49:20504950
DD4D:45205245
DD51:5645414C
DD55:53204E4F
DD59:5448494E
DD5D:472E00
DD60:		label VETA_13
DD60:54484552	DEFB of 32 bytes
DD64:45204953
DD68:20412044
DD6C:5241494E
DD70:41474520
DD74:47524154
DD78:45204845
DD7C:52452E00
DD80:		label VETA_14
DD80:4F4E4C59	DEFB of 28 bytes
DD84:20544845
DD88:20535452
DD8C:4F4E4720
DD90:5348414C
DD94:4C205041
DD98:53532E00
DD9C:		label VETA_15
DD9C:57415443	DEFB of 17 bytes
DDA0:4820594F
DDA4:55522053
DDA8:5445502E
DDAC:00
DDAD:		label VETA_16
DDAD:4E4F5420	DEFB of 25 bytes
DDB1:414C4C20
DDB5:49532041
DDB9:53204954
DDBD:20415050
DDC1:45415253
DDC5:00
DDC6:		label VETA_EXP
DDC6:3F3F3F20	DEFB of 38 bytes
DDCA:48415320
DDCE:4741494E
DDD2:45442041
DDD6:204C4556
DDDA:454C204F
DDDE:46204558
DDE2:50455249
DDE6:454E4345
DDEA:2E00
DDEC:		label VETA_DOWN
DDEC:474F494E	DEFB of 14 bytes
DDF0:4720444F
DDF4:574E2E2E
DDF8:2E00
DDFA:		label VETA_UP
DDFA:474F494E	DEFB of 10 bytes
DDFE:47205550
DE02:2E00
DE04:		label VETA_DOOR
DE04:54484520	DEFB of 24 bytes
DE08:444F4F52
DE0C:20415050
DE10:45415253
DE14:20535455
DE18:434B2E00
DE1C:		label VETA_DAGGER
DE1C:54484520	DEFB of 17 bytes
DE20:44414747
DE24:45522046
DE28:4954532E
DE2C:00
DE2D:		label VETA_HOLLOW
DE2D:4120484F	DEFB of 34 bytes
DE31:4C4C4F57
DE35:204C4155
DE39:47485445
DE3D:52204543
DE41:484F4553
DE45:20464149
DE49:4E544C59
DE4D:2E00
DE4F:		label VETA_UNDEAD
DE4F:3F3F3F20	DEFB of 35 bytes
DE53:55534553
DE57:20544845
DE5B:20504F57
DE5F:45522054
DE63:4F205455
DE67:524E2055
DE6B:4E444541
DE6F:442100
DE72:		label HELP_STRING
DE72:54455354	DEFB of 28 bytes
DE76:205A5820
DE7A:44554E47
DE7E:454F4E20
DE82:44454D4F
DE86:20562030
DE8A:2E373000
DE8E:4F564C41	DEFB of 44 bytes
DE92:44414E49
DE96:3A20512C
DE9A:452D4F54
DE9E:4F43454E
DEA2:493B2057
DEA6:2C532D50
DEAA:4F485942
DEAE:3B20412C
DEB2:442D554B
DEB6:524F4B00
DEBA:312E2E36	DEFB of 33 bytes
DEBE:2D414B54
DEC2:49564E49
DEC6:20504F53
DECA:54415641
DECE:3B20492D
DED2:494E5645
DED6:4E544152
DEDA:00
DEDB:53504143	DEFB of 47 bytes
DEDF:4520284D
DEE3:455A4552
DEE7:4E494B29
DEEB:202D2041
DEEF:4B43453B
DEF3:2053532B
DEF7:58202843
DEFB:54524C2B
DEFF:5829202D
DF03:204B4F4E
DF07:454300
NEXT_NAME	EQU 000B
DF0A:		label VETA_HP
DF0A:485000	DEFB of 3 bytes
DF0D:		label NAMES
DF0D:444F4852	DEFB of 11 bytes
DF11:554D2020
DF15:202000
DF18:57595244	DEFB of 11 bytes
DF1C:20202020
DF20:202000
DF23:4C494E44	DEFB of 11 bytes
DF27:41202020
DF2B:202000
DF2E:45495448	DEFB of 11 bytes
DF32:4E452020
DF36:202000
DF39:544F4420	DEFB of 11 bytes
DF3D:55504849
DF41:4C4C00
DF44:49524953	DEFB of 11 bytes
DF48:20202020
DF4C:202000
DF4F:		label ARRAY_STRING_ITEMS
DF4F:00		DEFB of 1 bytes
DF50:52494E47	DEFB of 5 bytes
DF54:00
DF55:52554249	DEFB of 11 bytes
DF59:4E205249
DF5D:4E4700
DF60:534D4152	DEFB of 13 bytes
DF64:41474420
DF68:52494E47
DF6C:00
DF6D:53415050	DEFB of 14 bytes
DF71:48495245
DF75:2052494E
DF79:4700
DF7B:4449414D	DEFB of 13 bytes
DF7F:4F4E4420
DF83:52494E47
DF87:00
DF88:48454C4D	DEFB of 5 bytes
DF8C:00
DF8D:44574152	DEFB of 13 bytes
DF91:56454E20
DF95:48454C4D
DF99:00
DF9A:4E45434B	DEFB of 9 bytes
DF9E:4C414345
DFA2:00
DFA3:41524D4F	DEFB of 6 bytes
DFA7:5200
DFA9:43484149	DEFB of 10 bytes
DFAD:4E4D4149
DFB1:4C00
DFB3:4C454154	DEFB of 14 bytes
DFB7:48455220
DFBB:41524D4F
DFBF:5200
DFC1:504C4154	DEFB of 12 bytes
DFC5:45204152
DFC9:4D4F5200
DFCD:4152524F	DEFB of 6 bytes
DFD1:5700
DFD3:42524143	DEFB of 8 bytes
DFD7:45525300
DFDB:424F4F54	DEFB of 6 bytes
DFDF:5300
DFE1:414E4B48	DEFB of 5 bytes
DFE5:00
DFE6:41584500	DEFB of 4 bytes
DFEA:424F4F4B	DEFB of 5 bytes
DFEE:00
DFEF:424F5700	DEFB of 4 bytes
DFF3:44414747	DEFB of 7 bytes
DFF7:455200
DFFA:4D414345	DEFB of 5 bytes
DFFE:00
DFFF:53484945	DEFB of 7 bytes
E003:4C4400
E006:53504944	DEFB of 14 bytes
E00A:45522053
E00E:4849454C
E012:4400
E014:534C494E	DEFB of 6 bytes
E018:4700
E01A:53574F52	DEFB of 6 bytes
E01E:4400
E020:424F4E45	DEFB of 5 bytes
E024:00
E025:52415449	DEFB of 8 bytes
E029:4F4E5300
E02D:4845414C	DEFB of 15 bytes
E031:494E4720
E035:504F5449
E039:4F4E00
E03C:414E5449	DEFB of 16 bytes
E040:444F5445
E044:20504F54
E048:494F4E00
E04C:504F5449	DEFB of 9 bytes
E050:4F4E5F42
E054:00
		End of INCLUDE
		REPT 0
E055:		label CARKY
E055:00		DEFB of 1 bytes
E056:80		DEFB of 1 bytes
E057:C0		DEFB of 1 bytes
E058:E0		DEFB of 1 bytes
E059:F0		DEFB of 1 bytes
E05A:F8		DEFB of 1 bytes
E05B:FC		DEFB of 1 bytes
E05C:FE		DEFB of 1 bytes
E05D:FF		DEFB of 1 bytes
E05E:		label CARKY_END
		INCLUDE sprite2buffer.asm
E05E:		label SET_TARGET_BUFFER
E05E:3EB0	LD A, B0
E060:322DE1	LD (E12D), A
E063:3EC8	LD A, C8
E065:323BE1	LD (E13B), A
E068:C9		RET
E069:		label SET_TARGET_SCREEN
E069:3E40	LD A, 40
E06B:322DE1	LD (E12D), A
E06E:3E58	LD A, 58
E070:323BE1	LD (E13B), A
E073:C9		RET
E074:		label SET_MAX_31
E074:3E1F	LD A, 1F
E076:3211E1	LD (E111), A
E079:32BAE0	LD (E0BA), A
E07C:C9		RET
E07D:		label SET_MAX_17
E07D:3E11	LD A, 11
E07F:3211E1	LD (E111), A
E082:32BAE0	LD (E0BA), A
E085:C9		RET
MEZERA		EQU 003F
E086:		label COPY_SPRITE2BUFFER
E086:FDE5	PUSH IY
E088:ED7386E1	LD (E186), SP
E08C:1A		LD A, (DE)
E08D:83		ADD A, E
E08E:6F		LD L, A
E08F:7A		LD A, D
E090:CE00	ADC A, 00
E092:67		LD H, A
E093:13		INC DE
E094:1A		LD A, (DE)
E095:FD67	LD IYH, A
E097:13		INC DE
E098:1A		LD A, (DE)
E099:DD67	LD IXH, A
E09B:79		LD A, C
E09C:EEFF	XOR FF
E09E:FAC5E0	JP M, E0C5
E0A1:4F		LD C, A
E0A2:3E2D	LD A, 2D
E0A4:327BE1	LD (E17B), A
E0A7:E5		PUSH HL
E0A8:21180A	LD HL, 0A18
E0AB:2255E1	LD (E155), HL
E0AE:2609	LD H, 09
E0B0:22B9E1	LD (E1B9), HL
E0B3:260E	LD H, 0E
E0B5:22DEE1	LD (E1DE), HL
E0B8:E1		POP HL
E0B9:		label CS2B_17VS31
E0B9:3E11	LD A, 11
E0BB:DD6F	LD IXL, A
E0BD:90		SUB B
E0BE:FD6F	LD IYL, A
E0C0:FAE3E0	JP M, E0E3
E0C3:183C	JR E101
E0C5:		label CS2B_JAKPISMO
E0C5:3E2C	LD A, 2C
E0C7:327BE1	LD (E17B), A
E0CA:E5		PUSH HL
E0CB:210608	LD HL, 0806
E0CE:2255E1	LD (E155), HL
E0D1:2604	LD H, 04
E0D3:22B9E1	LD (E1B9), HL
E0D6:22DEE1	LD (E1DE), HL
E0D9:E1		POP HL
E0DA:CB78	BIT 7, B
E0DC:FD68	LD IYL, B
E0DE:DD2E00	LD IXL, 00
E0E1:281E	JR Z, E101
E0E3:		label CS2B_OREZ_POCATEK_SPRITU
E0E3:310800	LD SP, 0008
E0E6:		label CS2B_VYNECH_SLOUPEC
E0E6:DD44	LD B, IXH
E0E8:		label CS2B_DALSI_ATRIBUT
E0E8:13		INC DE
E0E9:1A		LD A, (DE)
E0EA:FE3F	CP 3F
E0EC:2806	JR Z, E0F4
E0EE:B7		OR A
E0EF:F2F3E0	JP P, E0F3
E0F2:39		ADD HL, SP
E0F3:		label CS2B_BEZ_MASKY
E0F3:39		ADD HL, SP
E0F4:		label CS2B_ODECTI_ZNAK
E0F4:10F2	DJNZ E0E8
E0F6:FD25	DEC IYH
E0F8:CA85E1	JP Z, E185
E0FB:FD2C	INC IYL
E0FD:20E7	JR NZ, E0E6
E0FF:DD45	LD B, IXL
E101:		label CS2B_ZACINAME_V_BUFFERU
E101:F9		LD SP, HL
E102:FD68	LD IYL, B
E104:DD7D	LD A, IXL
E106:B7		OR A
E107:2807	JR Z, E110
E109:78		LD A, B
E10A:B7		OR A
E10B:FA85E1	JP M, E185
E10E:1807	JR E117
E110:		label CS2B_SELFMODIFYING_MAXSLOUPEC
E110:3E11	LD A, 11
E112:FD95	SUB IYL
E114:FA85E1	JP M, E185
E117:		label CS2B_TEST_ZKRACENI_SIRKY
E117:3C		INC A
E118:FDBC	CP IYH
E11A:3002	JR NC, E11E
E11C:FD67	LD IYH, A
E11E:		label CS2B_NEZKRACUJ
E11E:79		LD A, C
E11F:0F		RRCA
E120:0F		RRCA
E121:0F		RRCA
E122:67		LD H, A
E123:E6E0	AND E0
E125:80		ADD A, B
E126:6F		LD L, A
E127:08		EX AF, AF'
E128:79		LD A, C
E129:D9		EXX
E12A:E618	AND 18
E12C:		label CS2B_SELFMODIFYING_ADR_BUFF
E12C:C6B0	ADD A, B0
E12E:3277E1	LD (E177), A
E131:67		LD H, A
E132:08		EX AF, AF'
E133:6F		LD L, A
E134:FD6F	LD IYL, A
E136:D9		EXX
E137:7C		LD A, H
E138:E603	AND 03
E13A:		label CS2B_SELFMODIFYING_ADR_ATTR_BUFF
E13A:C6C8	ADD A, C8
E13C:67		LD H, A
E13D:3281E1	LD (E181), A
E140:FD44	LD B, IYH
E142:DD6C	LD IXL, H
E144:C3A1E1	JP E1A1
E147:		label CS2B_MASKA
E147:E67F	AND 7F
E149:4F		LD C, A
E14A:E638	AND 38
E14C:79		LD A, C
E14D:2004	JR NZ, E153
E14F:7E		LD A, (HL)
E150:E678	AND 78
E152:B1		OR C
E153:		label CS2B_MASKA_NEZACHOVAT_PAPER
E153:77		LD (HL), A
E154:D9		EXX
E155:		label CS2B_SELF_LD8_OR_JR_MASKA_ZRC
E155:0608	LD B, 08
E157:		label CS2B_MASKA_LOOP
E157:D1		POP DE
E158:7E		LD A, (HL)
E159:A3		AND E
E15A:B2		OR D
E15B:77		LD (HL), A
E15C:24		INC H
E15D:10F8	DJNZ E157
E15F:182A	JR E18B
E161:		label CS2B_MASKA_ZRCADLOVE
E161:EB		EX DE, HL
E162:26D0	LD H, D0
E164:FD2608	LD IYH, 08
E167:		label CS2B_MASKA_ZRCADLOVE_LOOP
E167:C1		POP BC
E168:1A		LD A, (DE)
E169:69		LD L, C
E16A:A6		AND (HL)
E16B:68		LD L, B
E16C:B6		OR (HL)
E16D:12		LD (DE), A
E16E:14		INC D
E16F:FD25	DEC IYH
E171:20F4	JR NZ, E167
E173:EB		EX DE, HL
E174:1815	JR E18B
E176:		label CS2B_PRVNI_RADEK
E176:		label CS2B_SELF_H_SHADOW
E176:2600	LD H, 00
E178:DD6C	LD IXL, H
E17A:		label CS2B_SELF_MIRROR_DEC
E17A:FD2C	INC IYL
E17C:FD7D	LD A, IYL
E17E:6F		LD L, A
E17F:D9		EXX
E180:		label CS2B_SELF_H
E180:2600	LD H, 00
E182:6F		LD L, A
E183:101C	DJNZ E1A1
E185:		label CS2B_EXIT
E185:310000	LD SP, 0000
E188:FDE1	POP IY
E18A:C9		RET
E18B:		label CS2B_O_ZNAK_NIZE
E18B:DD2D	DEC IXL
E18D:28E7	JR Z, E176
E18F:3E20	LD A, 20
E191:85		ADD A, L
E192:6F		LD L, A
E193:3809	JR C, E19E
E195:7C		LD A, H
E196:D608	SUB 08
E198:67		LD H, A
E199:7D		LD A, L
E19A:D9		EXX
E19B:C3A0E1	JP E1A0
E19E:		label CS2B_TRETINA
E19E:D9		EXX
E19F:24		INC H
E1A0:		label CS2B_ATTR_NEXT
E1A0:6F		LD L, A
E1A1:		label CS2B_POCATEK
E1A1:13		INC DE
E1A2:1A		LD A, (DE)
E1A3:FE3F	CP 3F
E1A5:2007	JR NZ, E1AE
E1A7:D9		EXX
E1A8:7C		LD A, H
E1A9:C608	ADD A, 08
E1AB:67		LD H, A
E1AC:18DD	JR E18B
E1AE:		label CS2B_NENI_DIRA
E1AE:B7		OR A
E1AF:FA47E1	JP M, E147
E1B2:4F		LD C, A
E1B3:E638	AND 38
E1B5:2821	JR Z, E1D8
E1B7:71		LD (HL), C
E1B8:D9		EXX
E1B9:		label CS2B_SELF_LD4_OR_JR_PREP_ZRC
E1B9:0604	LD B, 04
E1BB:		label CS2B_PREPISOVANI_LOOP
E1BB:D1		POP DE
E1BC:73		LD (HL), E
E1BD:24		INC H
E1BE:72		LD (HL), D
E1BF:24		INC H
E1C0:10F9	DJNZ E1BB
E1C2:18C7	JR E18B
E1C4:		label CS2B_PREPISOVANI_ZRCADLOVE
E1C4:16D0	LD D, D0
E1C6:FD2604	LD IYH, 04
E1C9:		label CS2B_PREPISOVANI_ZRCADLOVE_LOOP
E1C9:C1		POP BC
E1CA:59		LD E, C
E1CB:1A		LD A, (DE)
E1CC:77		LD (HL), A
E1CD:24		INC H
E1CE:58		LD E, B
E1CF:1A		LD A, (DE)
E1D0:77		LD (HL), A
E1D1:24		INC H
E1D2:FD25	DEC IYH
E1D4:20F3	JR NZ, E1C9
E1D6:18B3	JR E18B
E1D8:		label CS2B_PRIPISOVANI
E1D8:7E		LD A, (HL)
E1D9:E6F8	AND F8
E1DB:B1		OR C
E1DC:77		LD (HL), A
E1DD:D9		EXX
E1DE:		label CS2B_SELF_LD4_OR_JR_PRIP_ZRC
E1DE:0604	LD B, 04
E1E0:		label CS2B_PRIPISOVANI_LOOP
E1E0:D1		POP DE
E1E1:7E		LD A, (HL)
E1E2:B3		OR E
E1E3:77		LD (HL), A
E1E4:24		INC H
E1E5:7E		LD A, (HL)
E1E6:B2		OR D
E1E7:77		LD (HL), A
E1E8:24		INC H
E1E9:10F5	DJNZ E1E0
E1EB:C38BE1	JP E18B
E1EE:		label CS2B_PRIPISOVANI_ZRCADLOVE
E1EE:16D0	LD D, D0
E1F0:FD2604	LD IYH, 04
E1F3:		label CS2B_PRIPISOVANI_ZRCADLOVE_LOOP
E1F3:C1		POP BC
E1F4:59		LD E, C
E1F5:1A		LD A, (DE)
E1F6:B6		OR (HL)
E1F7:77		LD (HL), A
E1F8:24		INC H
E1F9:58		LD E, B
E1FA:1A		LD A, (DE)
E1FB:B6		OR (HL)
E1FC:77		LD (HL), A
E1FD:24		INC H
E1FE:FD25	DEC IYH
E200:20F1	JR NZ, E1F3
E202:C38BE1	JP E18B
SKOK_NA_MASKA_ZRCADLOVE EQU 000A
SKOK_NA_PREPISOVANI_ZRCADLOVE EQU 0009
SKOK_NA_PRIPISOVANI_ZRCADLOVE EQU 000E
		IF (false)
-   .error 'Hodnota relativniho skoku na CS2B_MASKA_ZRCADLOVE mimo povoleny rozsah!'
		ENDIF
		IF (false)
-   .error 'Hodnota relativniho skoku na CS2B_PREPISOVANI_ZRCADLOVE mimo povoleny rozsah!'
		ENDIF
		IF (false)
-   .error 'Hodnota relativniho skoku na CS2B_PRIPISOVANI_ZRCADLOVE mimo povoleny rozsah!'
		ENDIF
		End of INCLUDE
		INCLUDE input.asm
E205:		label TEST_KEMPSTON
E205:AF		XOR A
E206:67		LD H, A
E207:6F		LD L, A
E208:		label TK_NOVY_STAV
E208:0606	LD B, 06
E20A:B4		OR H
E20B:67		LD H, A
E20C:		label TK_LOOP
E20C:76		HALT
E20D:DB1F	IN A, (1F)
E20F:E61F	AND 1F
E211:FE1F	CP 1F
E213:C8		RET Z
E214:BD		CP L
E215:6F		LD L, A
E216:20F0	JR NZ, E208
E218:10F2	DJNZ E20C
E21A:7C		LD A, H
E21B:2105D6	LD HL, D605
E21E:060A	LD B, 0A
E220:48		LD C, B
E221:		label TK_TEST_STAVU
E221:BE		CP (HL)
E222:2827	JR Z, E24B
E224:23		INC HL
E225:10FA	DJNZ E221
E227:04		INC B
E228:FE11	CP 11
E22A:2808	JR Z, E234
E22C:06FF	LD B, FF
E22E:FE12	CP 12
E230:2802	JR Z, E234
E232:AF		XOR A
E233:C9		RET
E234:		label TK_ZMENA_AKT_POSTAVY
E234:0E31	LD C, 31
E236:2172D4	LD HL, D472
E239:7E		LD A, (HL)
E23A:80		ADD A, B
E23B:23		INC HL
E23C:FA47E2	JP M, E247
E23F:BE		CP (HL)
E240:2802	JR Z, E244
E242:81		ADD A, C
E243:C9		RET
E244:		label TK_PRETECENI
E244:79		LD A, C
E245:B7		OR A
E246:C9		RET
E247:		label TK_PODTECENI
E247:7E		LD A, (HL)
E248:3D		DEC A
E249:81		ADD A, C
E24A:C9		RET
E24B:		label TK_SHODNY_STAV
E24B:0600	LD B, 00
E24D:09		ADD HL, BC
E24E:7E		LD A, (HL)
E24F:B7		OR A
E250:C9		RET
E251:		label KEYPRESSED
E251:11785C	LD DE, 5C78
E254:1A		LD A, (DE)
E255:E620	AND 20
E257:47		LD B, A
E258:21085C	LD HL, 5C08
E25B:		label KEYPRESSED_NO
E25B:1A		LD A, (DE)
E25C:E620	AND 20
E25E:A8		XOR B
E25F:C0		RET NZ
E260:7E		LD A, (HL)
E261:B7		OR A
E262:E5		PUSH HL
E263:C5		PUSH BC
E264:CC05E2	CALL Z, E205
E267:C1		POP BC
E268:E1		POP HL
E269:28F0	JR Z, E25B
E26B:0600	LD B, 00
E26D:70		LD (HL), B
E26E:2A45D4	LD HL, (D445)
E271:4C		LD C, H
E272:26D1	LD H, D1
		IF (true)
E274:FE77	CP 77
E276:CAF4E2	JP Z, E2F4
E279:04		INC B
E27A:FE73	CP 73
E27C:CAF4E2	JP Z, E2F4
E27F:04		INC B
E280:FE61	CP 61
E282:CAF4E2	JP Z, E2F4
E285:04		INC B
E286:FE64	CP 64
E288:CAF4E2	JP Z, E2F4
		ELSE (false)
- .warning 'Delsi kod o 4 bajty protoze stisknuto_dopredu..stisknuto_vpravo != 0..3'
-     cp      KEY_DOPREDU             ;  7:2, "w" = dopredu
-     jp      z,POSUN
-     ld      b,stisknuto_dozadu      ;  7:2, offset radku tabulky VEKTORY_POHYBU
-     cp      KEY_DOZADU              ;  7:2, "s" = dozadu
-     jp      z,POSUN
-     ld      b,stisknuto_vlevo       ;  7:2, offset radku tabulky VEKTORY_POHYBU
-     cp      KEY_VLEVO               ;  7:2, "a" = vlevo
-     jp      z,POSUN
-     ld      b,stisknuto_vpravo      ;  7:2, offset radku tabulky VEKTORY_POHYBU
-     cp      KEY_VPRAVO              ;  7:2, "d" = vpravo
-     jp      z,POSUN
		ENDIF
E28B:06FF	LD B, FF
E28D:FE71	CP 71
E28F:2833	JR Z, E2C4
E291:0601	LD B, 01
E293:FE65	CP 65
E295:282D	JR Z, E2C4
E297:FE20	CP 20
E299:CA80EA	JP Z, EA80
E29C:FE69	CP 69
E29E:CA79E7	JP Z, E779
E2A1:FE37	CP 37
E2A3:3007	JR NC, E2AC
E2A5:FE31	CP 31
E2A7:3803	JR C, E2AC
E2A9:C387E7	JP E787
E2AC:		label KEYPRESSED_NO_NUMBER_1_6
E2AC:FE2A	CP 2A
E2AE:CABBE2	JP Z, E2BB
E2B1:FE60	CP 60
E2B3:C2ECEB	JP NZ, EBEC
E2B6:E1		POP HL
E2B7:CD5BEA	CALL EA5B
E2BA:C9		RET
E2BB:		label SET_BORDER
E2BB:3A74D4	LD A, (D474)
E2BE:EE07	XOR 07
E2C0:3274D4	LD (D474), A
E2C3:C9		RET
		End of INCLUDE
		INCLUDE move.asm
E2C4:		label OTOC_SE
E2C4:79		LD A, C
E2C5:80		ADD A, B
E2C6:E603	AND 03
E2C8:2146D4	LD HL, D446
E2CB:77		LD (HL), A
E2CC:CDE2E2	CALL E2E2
E2CF:3E12	LD A, 12
E2D1:80		ADD A, B
E2D2:80		ADD A, B
E2D3:CD1FEC	CALL EC1F
E2D6:CD09EC	CALL EC09
E2D9:C9		RET
E2DA:		label HL_NOVA_POZICE
E2DA:16D2	LD D, D2
E2DC:81		ADD A, C
E2DD:5F		LD E, A
E2DE:1A		LD A, (DE)
E2DF:85		ADD A, L
E2E0:6F		LD L, A
E2E1:C9		RET
E2E2:		label INC_POCITADLO_POHYBU_A_ZVUK
E2E2:2147D4	LD HL, D447
E2E5:34		INC (HL)
E2E6:21E803	LD HL, 03E8
E2E9:		label IPPAZ_LOOP
E2E9:7E		LD A, (HL)
E2EA:E6F8	AND F8
E2EC:D3FE	OUT (FE), A
E2EE:2B		DEC HL
E2EF:7C		LD A, H
E2F0:B5		OR L
E2F1:20F6	JR NZ, E2E9
E2F3:C9		RET
E2F4:		label POSUN
E2F4:CD60E7	CALL E760
E2F7:CA21E3	JP Z, E321
E2FA:48		LD C, B
E2FB:05		DEC B
E2FC:2812	JR Z, E310
E2FE:48		LD C, B
E2FF:FA10E3	JP M, E310
		IF (false)
-     .error      'Seznam POSUN_VLEVO_INVENTAREM prekracuje 256 bajtovy segment!'
		ENDIF
E302:2147D4	LD HL, D447
E305:05		DEC B
E306:2802	JR Z, E30A
E308:2E5D	LD L, 5D
E30A:		label POSUN_LOOP
E30A:2C		INC L
E30B:BE		CP (HL)
E30C:2C		INC L
E30D:30FB	JR NC, E30A
E30F:4E		LD C, (HL)
E310:		label POSUN_PRICTI
E310:81		ADD A, C
E311:061F	LD B, 1F
E313:F217E3	JP P, E317
E316:80		ADD A, B
E317:		label POSUN_NEZAPORNY
E317:B8		CP B
E318:3801	JR C, E31B
E31A:90		SUB B
E31B:		label POSUN_V_MEZICH
E31B:3212D7	LD (D712), A
E31E:C33EE8	JP E83E
E321:		label POSUN_NEJSEM_V_INVENTARI
E321:78		LD A, B
E322:87		ADD A, A
E323:87		ADD A, A
E324:F5		PUSH AF
E325:CDDAE2	CALL E2DA
E328:CB46	BIT 0, (HL)
E32A:200E	JR NZ, E33A
E32C:CDBDE4	CALL E4BD
E32F:3809	JR C, E33A
E331:7D		LD A, L
E332:3245D4	LD (D445), A
E335:CDE2E2	CALL E2E2
E338:1807	JR E341
E33A:		label POSUN_ZABLOKOVAN
E33A:DD21D5DB	LD IX, DBD5
E33E:CDB9E3	CALL E3B9
E341:		label EXIT_POSUN
E341:F1		POP AF
E342:CD1FEC	CALL EC1F
E345:C9		RET
		End of INCLUDE
		INCLUDE strings.asm
E346:		label PRINT_STRING
E346:3E07	LD A, 07
E348:		label PRINT_STRING_COLOR
E348:5D		LD E, L
E349:6F		LD L, A
E34A:E5		PUSH HL
E34B:CD87EC	CALL EC87
E34E:54		LD D, H
E34F:0E40	LD C, 40
E351:		label PS_NEXT_CHAR
E351:E1		POP HL
E352:		label PRINT_STRING_CONTINUE
E352:7D		LD A, L
E353:6B		LD L, E
E354:77		LD (HL), A
E355:6F		LD L, A
E356:DD7E00	LD A, (IX+00)
E359:DD23	INC IX
E35B:D620	SUB 20
E35D:D8		RET C
E35E:E5		PUSH HL
E35F:67		LD H, A
E360:87		ADD A, A
E361:6F		LD L, A
E362:84		ADD A, H
E363:85		ADD A, L
E364:6F		LD L, A
E365:CED3	ADC A, D3
E367:95		SUB L
E368:67		LD H, A
E369:0605	LD B, 05
E36B:		label PS_RIGHT_LOOP
E36B:7E		LD A, (HL)
E36C:B7		OR A
E36D:2813	JR Z, E382
E36F:E5		PUSH HL
E370:6F		LD L, A
E371:62		LD H, D
E372:C5		PUSH BC
E373:0608	LD B, 08
E375:		label PS_LOOP_PX_DOWN
E375:CB15	RL L
E377:3003	JR NC, E37C
E379:1A		LD A, (DE)
E37A:A9		XOR C
E37B:12		LD (DE), A
E37C:		label PS_NEXT_PX_DOWN
E37C:14		INC D
E37D:10F6	DJNZ E375
E37F:C1		POP BC
E380:54		LD D, H
E381:E1		POP HL
E382:		label PS_PX_RIGHT
E382:23		INC HL
E383:AF		XOR A
E384:CB09	RRC C
E386:8B		ADC A, E
E387:5F		LD E, A
E388:10E1	DJNZ E36B
E38A:18C5	JR E351
E38C:		label PRINT_STRING_OBAL
E38C:E5		PUSH HL
E38D:D5		PUSH DE
E38E:C5		PUSH BC
E38F:CD48E3	CALL E348
E392:C1		POP BC
E393:D1		POP DE
E394:E1		POP HL
E395:C9		RET
		IF (false)
- PRINT2BUFFER:
-     ld	a,Adr_Buffer / 256
-     ld	(PS_ADRESA_SEGMENTU+1),a
-     ret
- PRINT2SCREEN:
-     ld	a,$40
-     ld	(PS_ADRESA_SEGMENTU+1),a
-     ret
		ENDIF
E396:		label SCROLL
E396:2650	LD H, 50
E398:		label SCROLL_LOOP
E398:54		LD D, H
E399:1E80	LD E, 80
E39B:2EA0	LD L, A0
E39D:016000	LD BC, 0060
E3A0:EDB0	LDIR
E3A2:CB5C	BIT 3, H
E3A4:28F2	JR Z, E398
E3A6:CB44	BIT 0, H
E3A8:265A	LD H, 5A
E3AA:28EC	JR Z, E398
E3AC:		label SCROLL_LAST_LINE
E3AC:0608	LD B, 08
E3AE:2650	LD H, 50
E3B0:		label SCROLL_NEXT_MICROLINE
E3B0:6B		LD L, E
E3B1:		label SCROLL_CLEAR_MICROLINE
E3B1:71		LD (HL), C
E3B2:2C		INC L
E3B3:20FC	JR NZ, E3B1
E3B5:24		INC H
E3B6:10F8	DJNZ E3B0
E3B8:C9		RET
E3B9:		label PRINT_MESSAGE
E3B9:3E07	LD A, 07
E3BB:		label PRINT_MESSAGE_COLOR
E3BB:CD96E3	CALL E396
E3BE:21E05A	LD HL, 5AE0
E3C1:CD48E3	CALL E348
E3C4:C9		RET
E3C5:		label PRINT_MESSAGE_ARRAY
E3C5:CDF7E3	CALL E3F7
E3C8:3E05	LD A, 05
E3CA:CDBBE3	CALL E3BB
E3CD:C9		RET
E3CE:		label PRINT_DEKORACE
E3CE:CD41EA	CALL EA41
E3D1:13		INC DE
E3D2:1A		LD A, (DE)
E3D3:E61F	AND 1F
E3D5:47		LD B, A
E3D6:218BDC	LD HL, DC8B
E3D9:CDC5E3	CALL E3C5
E3DC:CD5BEA	CALL EA5B
E3DF:C9		RET
E3E0:		label PRINT_PREPINAC
E3E0:CD41EA	CALL EA41
E3E3:1A		LD A, (DE)
E3E4:E61F	AND 1F
E3E6:CB3F	SRL A
E3E8:CB3F	SRL A
E3EA:47		LD B, A
E3EB:21D6DC	LD HL, DCD6
E3EE:CDC5E3	CALL E3C5
E3F1:CD5BEA	CALL EA5B
E3F4:C9		RET
E3F5:		label AXS_NEXT_STRING
E3F5:EDB1	CPIR
E3F7:		label ADR_X_STRING
E3F7:AF		XOR A
E3F8:4F		LD C, A
E3F9:B8		CP B
E3FA:20F9	JR NZ, E3F5
E3FC:E5		PUSH HL
E3FD:DDE1	POP IX
E3FF:C9		RET
		IF (false)
- STRING_COPY:
- 	ld	a,(hl)
- 	inc	hl
- 	ld	(de),a
- 	inc	de
- 	or	a
- 	jr	nz,STRING_COPY
- 	ret
		ENDIF
E400:		label ITEM_MAKE_A
E400:B7		OR A
E401:C8		RET Z
E402:E5		PUSH HL
E403:47		LD B, A
E404:214FDF	LD HL, DF4F
E407:CDF7E3	CALL E3F7
E40A:CD96E3	CALL E396
E40D:21E05A	LD HL, 5AE0
E410:CD46E3	CALL E346
E413:DDE1	POP IX
E415:CD52E3	CALL E352
E418:C9		RET
E419:		label ITEM_TAKEN_A
E419:215CDC	LD HL, DC5C
E41C:18E2	JR E400
E41E:		label ITEM_PUT_A
E41E:2164DC	LD HL, DC64
E421:18DD	JR E400
		End of INCLUDE
		INCLUDE objects.asm
E423:		label FIND_FIRST_OBJECT
E423:11A4ED	LD DE, EDA4
E426:		label FFO_NEXT
E426:13		INC DE
E427:		label FIND_NEXT_OBJECT
E427:13		INC DE
E428:1A		LD A, (DE)
E429:13		INC DE
E42A:BD		CP L
E42B:DA26E4	JP C, E426
E42E:C9		RET
E42F:		label FIND_LAST_ITEM
E42F:11A4ED	LD DE, EDA4
E432:7C		LD A, H
E433:E603	AND 03
E435:3C		INC A
E436:67		LD H, A
E437:		label FLI_LOOP
E437:13		INC DE
E438:13		INC DE
E439:1A		LD A, (DE)
E43A:13		INC DE
E43B:BD		CP L
E43C:38F9	JR C, E437
E43E:2006	JR NZ, E446
E440:1A		LD A, (DE)
E441:E603	AND 03
E443:BC		CP H
E444:38F1	JR C, E437
E446:		label FLI_EXIT
E446:1B		DEC DE
E447:3E0F	LD A, 0F
E449:84		ADD A, H
E44A:67		LD H, A
E44B:C9		RET
E44C:		label VLOZ_ITEM_NA_POZICI
E44C:F5		PUSH AF
E44D:CD2FE4	CALL E42F
E450:E5		PUSH HL
E451:2AA4ED	LD HL, (EDA4)
E454:E5		PUSH HL
E455:ED52	SBC HL, DE
E457:44		LD B, H
E458:4D		LD C, L
E459:03		INC BC
E45A:E1		POP HL
E45B:54		LD D, H
E45C:5D		LD E, L
E45D:23		INC HL
E45E:23		INC HL
E45F:23		INC HL
E460:22A4ED	LD (EDA4), HL
E463:EB		EX DE, HL
E464:EDB8	LDDR
E466:C1		POP BC
E467:F1		POP AF
E468:EB		EX DE, HL
E469:77		LD (HL), A
E46A:2B		DEC HL
E46B:70		LD (HL), B
E46C:2B		DEC HL
E46D:71		LD (HL), C
E46E:CD1EE4	CALL E41E
E471:AF		XOR A
E472:3211D7	LD (D711), A
E475:C33EE8	JP E83E
E478:		label VEZMI_ITEM_Z_POZICE
E478:CD2FE4	CALL E42F
E47B:EB		EX DE, HL
E47C:2B		DEC HL
E47D:7E		LD A, (HL)
E47E:2B		DEC HL
E47F:46		LD B, (HL)
E480:2B		DEC HL
E481:4E		LD C, (HL)
E482:EB		EX DE, HL
E483:ED42	SBC HL, BC
E485:C0		RET NZ
E486:3211D7	LD (D711), A
E489:2AA4ED	LD HL, (EDA4)
E48C:ED52	SBC HL, DE
E48E:23		INC HL
E48F:44		LD B, H
E490:4D		LD C, L
E491:62		LD H, D
E492:6B		LD L, E
E493:23		INC HL
E494:23		INC HL
E495:23		INC HL
E496:EDB0	LDIR
E498:1B		DEC DE
E499:ED53A4ED	LD (EDA4), DE
E49D:CD19E4	CALL E419
E4A0:C33EE8	JP E83E
E4A3:		label PREPNI_OBJECT
E4A3:D5		PUSH DE
E4A4:CD23E4	CALL E423
E4A7:2012	JR NZ, E4BB
E4A9:		label PO_NALEZEN_OBJECT
E4A9:1A		LD A, (DE)
E4AA:AC		XOR H
E4AB:E61C	AND 1C
E4AD:2007	JR NZ, E4B6
		IF (false)
-     ld      A, H
-     and     MASKA_TYP
-     cp      TYP_DVERE
-     jr      z, PO_FOUND
-     ld      a,(de)                      ;  7:1 typ
-     sub     h
-     and     MASKA_NATOCENI
-     jr      nz,PO_NEXT_OBJECT           ;12/7:2       ??? pokud je horni bit nastaven tak to bude blbnout?
- PO_FOUND:
		ENDIF
E4AF:7C		LD A, H
E4B0:E6E0	AND E0
E4B2:EB		EX DE, HL
E4B3:AE		XOR (HL)
E4B4:77		LD (HL), A
E4B5:EB		EX DE, HL
E4B6:		label PO_NEXT_OBJECT
E4B6:CD26E4	CALL E426
E4B9:28EE	JR Z, E4A9
E4BB:		label PO_EXIT
E4BB:D1		POP DE
E4BC:C9		RET
E4BD:		label JE_POZICE_BLOKOVANA
E4BD:CD23E4	CALL E423
E4C0:C0		RET NZ
E4C1:		label JPB_NALEZEN_OBJECT
E4C1:1A		LD A, (DE)
E4C2:C6E0	ADD A, E0
E4C4:D8		RET C
E4C5:CD26E4	CALL E426
E4C8:28F7	JR Z, E4C1
E4CA:C9		RET
E4CB:		label FIND_OBJECT
E4CB:DD2C	INC IXL
E4CD:C8		RET Z
E4CE:DD2D	DEC IXL
E4D0:11A4ED	LD DE, EDA4
E4D3:		label FO_LOOP
E4D3:13		INC DE
E4D4:		label FO_LOOP_DODATECNY
E4D4:13		INC DE
E4D5:1A		LD A, (DE)
E4D6:13		INC DE
E4D7:DD95	SUB IXL
E4D9:38F8	JR C, E4D3
E4DB:C0		RET NZ
E4DC:1A		LD A, (DE)
E4DD:E61C	AND 1C
		IF (false)
-     cp      TYP_PREPINAC            ;  7:2 
-     .warning 'Delsi kod, protoze TYP_PREPINAC != 0'
		ELSE (true)
E4DF:B7		OR A
		ENDIF
E4E0:2826	JR Z, E508
E4E2:FE08	CP 08
E4E4:284F	JR Z, E535
E4E6:FE04	CP 04
E4E8:CACDE5	JP Z, E5CD
E4EB:FE10	CP 10
E4ED:CAE2E5	JP Z, E5E2
E4F0:FE0C	CP 0C
E4F2:20DF	JR NZ, E4D3
E4F4:13		INC DE
E4F5:1A		LD A, (DE)
E4F6:E61F	AND 1F
E4F8:2199DB	LD HL, DB99
E4FB:FE01	CP 01
E4FD:2803	JR Z, E502
E4FF:215DDB	LD HL, DB5D
E502:		label FOUND_DEKORACE
E502:CD30E7	CALL E730
E505:18CD	JR E4D4
E507:		label FO_EXIT
E507:C9		RET
E508:		label FOUND_PREPINAC
E508:C5		PUSH BC
E509:1A		LD A, (DE)
E50A:E603	AND 03
E50C:2146D4	LD HL, D446
E50F:6E		LD L, (HL)
E510:95		SUB L
E511:2171D8	LD HL, D871
E514:09		ADD HL, BC
E515:E603	AND 03
E517:280D	JR Z, E526
E519:017800	LD BC, 0078
E51C:09		ADD HL, BC
E51D:FE03	CP 03
E51F:2805	JR Z, E526
E521:09		ADD HL, BC
E522:FE01	CP 01
E524:200C	JR NZ, E532
E526:		label FD_PREPINAC_INIT
E526:1A		LD A, (DE)
E527:B7		OR A
E528:F22FE5	JP P, E52F
E52B:013C00	LD BC, 003C
E52E:09		ADD HL, BC
E52F:		label FD_PREPINAC_VIEW
E52F:CD31E7	CALL E731
E532:		label FD_PREPINAC_EXIT
E532:C1		POP BC
E533:189E	JR E4D3
E535:		label FOUND_ENEMY
E535:D5		PUSH DE
E536:DDE5	PUSH IX
E538:C5		PUSH BC
E539:3E0C	LD A, 0C
E53B:B9		CP C
E53C:200C	JR NZ, E54A
E53E:3A785C	LD A, (5C78)
E541:E640	AND 40
E543:3E02	LD A, 02
E545:CA4AE5	JP Z, E54A
E548:3E01	LD A, 01
E54A:		label FE_FAR
E54A:328FE5	LD (E58F), A
E54D:1A		LD A, (DE)
E54E:E6E0	AND E0
E550:07		RLCA
E551:07		RLCA
E552:07		RLCA
E553:DD6F	LD IXL, A
E555:07		RLCA
E556:81		ADD A, C
E557:81		ADD A, C
E558:C6D9	ADD A, D9
E55A:6F		LD L, A
E55B:CED4	ADC A, D4
E55D:95		SUB L
E55E:67		LD H, A
E55F:13		INC DE
E560:1A		LD A, (DE)
E561:EB		EX DE, HL
E562:2151D5	LD HL, D551
E565:09		ADD HL, BC
E566:4E		LD C, (HL)
E567:2152DA	LD HL, DA52
E56A:09		ADD HL, BC
E56B:E61F	AND 1F
E56D:2807	JR Z, E576
E56F:010A00	LD BC, 000A
E572:		label FE_NEXT
E572:09		ADD HL, BC
E573:3D		DEC A
E574:20FC	JR NZ, E572
E576:		label FE_VIEW
E576:7E		LD A, (HL)
E577:B7		OR A
E578:CAABE5	JP Z, E5AB
E57B:2B		DEC HL
E57C:6E		LD L, (HL)
E57D:67		LD H, A
E57E:228CE5	LD (E58C), HL
E581:EB		EX DE, HL
E582:		label FE_LOOP
E582:2B		DEC HL
E583:46		LD B, (HL)
E584:2B		DEC HL
E585:4E		LD C, (HL)
E586:0C		INC C
E587:0D		DEC C
E588:CAA7E5	JP Z, E5A7
E58B:		label FE_SELFMODIFIYNG
E58B:110000	LD DE, 0000
E58E:		label FE_SELFMODIFIYNG2
E58E:3E00	LD A, 00
E590:DDBD	CP IXL
E592:C29EE5	JP NZ, E59E
E595:115568	LD DE, 6855
E598:78		LD A, B
E599:C6FF	ADD A, FF
E59B:47		LD B, A
E59C:0E03	LD C, 03
E59E:		label FE_CALL
E59E:E5		PUSH HL
E59F:DDE5	PUSH IX
E5A1:CD86E0	CALL E086
E5A4:DDE1	POP IX
E5A6:E1		POP HL
E5A7:		label FE_TEST_LOOP
E5A7:DD2D	DEC IXL
E5A9:20D7	JR NZ, E582
E5AB:		label FE_EXIT
E5AB:C1		POP BC
E5AC:DDE1	POP IX
E5AE:D1		POP DE
E5AF:C3D3E4	JP E4D3
E5B2:		label FOUND_DOOR
E5B2:0C		INC C
E5B3:0D		DEC C
E5B4:C8		RET Z
E5B5:1A		LD A, (DE)
E5B6:3C		INC A
E5B7:3C		INC A
E5B8:AC		XOR H
E5B9:E603	AND 03
E5BB:C0		RET NZ
E5BC:2115DA	LD HL, DA15
E5BF:CD30E7	CALL E730
E5C2:1A		LD A, (DE)
E5C3:C6E0	ADD A, E0
E5C5:D0		RET NC
E5C6:21D9D9	LD HL, D9D9
E5C9:CD30E7	CALL E730
E5CC:C9		RET
E5CD:		label FOUND_RAM
E5CD:13		INC DE
E5CE:1A		LD A, (DE)
E5CF:13		INC DE
E5D0:13		INC DE
E5D1:0C		INC C
E5D2:0D		DEC C
E5D3:200D	JR NZ, E5E2
E5D5:67		LD H, A
E5D6:3A46D4	LD A, (D446)
E5D9:AC		XOR H
E5DA:E601	AND 01
E5DC:2115DA	LD HL, DA15
E5DF:CD33E7	CALL E733
E5E2:		label FOUND_ITEM
		IF (false)
-     ld      a,c
-     cp      MAX_VIDITELNOST_PREDMETU_PLUS_1
-     jp      nc, FO_LOOP                     ; return ( bohuzel tolikrat, kolikrat je predmetu na policku )
		ENDIF
E5E2:DDCB004E	BIT 1, (IX+00)
E5E6:C0		RET NZ
E5E7:D5		PUSH DE
E5E8:3A46D4	LD A, (D446)
E5EB:67		LD H, A
E5EC:		label FI_HLEDANI_NEJVZDALENEJSIHO
E5EC:1A		LD A, (DE)
E5ED:E603	AND 03
E5EF:BC		CP H
E5F0:300D	JR NC, E5FF
E5F2:		label FI_DALSI_RADEK
E5F2:13		INC DE
E5F3:13		INC DE
E5F4:1A		LD A, (DE)
E5F5:13		INC DE
E5F6:B7		OR A
E5F7:28F9	JR Z, E5F2
E5F9:DDBD	CP IXL
E5FB:28EF	JR Z, E5EC
E5FD:D1		POP DE
E5FE:D5		PUSH DE
E5FF:		label FI_NEJVZDALENEJSI
E5FF:6B		LD L, E
E600:		label FI_VYKRESLI_ITEM_LOOP
E600:E5		PUSH HL
E601:D5		PUSH DE
E602:DDE5	PUSH IX
E604:C5		PUSH BC
E605:1A		LD A, (DE)
E606:E61C	AND 1C
E608:FE10	CP 10
E60A:2807	JR Z, E613
E60C:FE04	CP 04
E60E:CCB2E5	CALL Z, E5B2
E611:1837	JR E64A
E613:		label FI_ITEM
E613:1A		LD A, (DE)
E614:94		SUB H
E615:E603	AND 03
E617:87		ADD A, A
E618:2151D5	LD HL, D551
E61B:09		ADD HL, BC
E61C:47		LD B, A
E61D:7E		LD A, (HL)
E61E:FE06	CP 06
E620:3028	JR NC, E64A
E622:13		INC DE
E623:1A		LD A, (DE)
E624:87		ADD A, A
E625:87		ADD A, A
E626:87		ADD A, A
E627:86		ADD A, (HL)
E628:C665	ADD A, 65
E62A:6F		LD L, A
E62B:CEDA	ADC A, DA
E62D:95		SUB L
E62E:67		LD H, A
E62F:5E		LD E, (HL)
E630:23		INC HL
E631:56		LD D, (HL)
E632:14		INC D
E633:15		DEC D
E634:2814	JR Z, E64A
E636:79		LD A, C
E637:87		ADD A, A
E638:80		ADD A, B
E639:C68D	ADD A, 8D
E63B:6F		LD L, A
E63C:CED5	ADC A, D5
E63E:95		SUB L
E63F:67		LD H, A
E640:4E		LD C, (HL)
E641:0C		INC C
E642:0D		DEC C
E643:2805	JR Z, E64A
E645:23		INC HL
E646:46		LD B, (HL)
E647:CD86E0	CALL E086
E64A:		label FI_NEKRESLI
E64A:C1		POP BC
E64B:DDE1	POP IX
E64D:D1		POP DE
E64E:E1		POP HL
E64F:13		INC DE
E650:13		INC DE
E651:1A		LD A, (DE)
E652:13		INC DE
E653:DDBD	CP IXL
E655:2802	JR Z, E659
E657:D1		POP DE
E658:D5		PUSH DE
E659:		label FI_TEST_ZACATKU_SELF
E659:7D		LD A, L
E65A:BB		CP E
E65B:20A3	JR NZ, E600
E65D:D1		POP DE
E65E:C9		RET
		End of INCLUDE
		INCLUDE draw3D.asm
E65F:		label VIEW
E65F:010011	LD BC, 1100
E662:		label POZADI
E662:112C7F	LD DE, 7F2C
E665:3A47D4	LD A, (D447)
E668:E601	AND 01
E66A:2802	JR Z, E66E
E66C:0EFF	LD C, FF
E66E:		label V_H5
E66E:C5		PUSH BC
E66F:D5		PUSH DE
E670:CD86E0	CALL E086
E673:D1		POP DE
E674:C1		POP BC
E675:10EB	DJNZ E662
E677:CD86E0	CALL E086
E67A:11EA5F	LD DE, 5FEA
E67D:010E00	LD BC, 000E
E680:CD86E0	CALL E086
E683:26D2	LD H, D2
E685:3A46D4	LD A, (D446)
E688:6F		LD L, A
E689:4E		LD C, (HL)
E68A:C60C	ADD A, 0C
E68C:6F		LD L, A
E68D:7E		LD A, (HL)
E68E:5F		LD E, A
E68F:87		ADD A, A
E690:87		ADD A, A
E691:57		LD D, A
E692:26D1	LD H, D1
E694:3A45D4	LD A, (D445)
E697:0606	LD B, 06
E699:		label NULA
E699:6F		LD L, A
E69A:E5		PUSH HL
E69B:81		ADD A, C
E69C:10FB	DJNZ E699
E69E:DDE1	POP IX
E6A0:D5		PUSH DE
E6A1:2199D7	LD HL, D799
E6A4:06FF	LD B, FF
E6A6:CDF1E6	CALL E6F1
E6A9:D1		POP DE
E6AA:7A		LD A, D
E6AB:93		SUB E
E6AC:57		LD D, A
E6AD:DDE1	POP IX
E6AF:D5		PUSH DE
E6B0:21DDD7	LD HL, D7DD
E6B3:0630	LD B, 30
E6B5:CDF1E6	CALL E6F1
E6B8:D1		POP DE
E6B9:7A		LD A, D
E6BA:93		SUB E
E6BB:57		LD D, A
E6BC:DDE1	POP IX
E6BE:D5		PUSH DE
E6BF:2111D8	LD HL, D811
E6C2:0624	LD B, 24
E6C4:CDF1E6	CALL E6F1
E6C7:D1		POP DE
E6C8:7A		LD A, D
E6C9:93		SUB E
E6CA:57		LD D, A
E6CB:DDE1	POP IX
E6CD:D5		PUSH DE
E6CE:2135D8	LD HL, D835
E6D1:0618	LD B, 18
E6D3:CDF1E6	CALL E6F1
E6D6:D1		POP DE
E6D7:DDE1	POP IX
E6D9:D5		PUSH DE
E6DA:2149D8	LD HL, D849
E6DD:060C	LD B, 0C
E6DF:CDF1E6	CALL E6F1
E6E2:D1		POP DE
E6E3:DDE1	POP IX
E6E5:215DD8	LD HL, D85D
E6E8:0600	LD B, 00
E6EA:CDF1E6	CALL E6F1
E6ED:CD58E9	CALL E958
E6F0:C9		RET
E6F1:		label PROHLEDEJ_PROSTOR_VPREDU
E6F1:DD4D	LD C, IXL
E6F3:7A		LD A, D
E6F4:		label PPV_LOOP
E6F4:81		ADD A, C
E6F5:DD6F	LD IXL, A
E6F7:DDCB004E	BIT 1, (IX+00)
E6FB:CD33E7	CALL E733
E6FE:CD33E7	CALL E733
E701:7A		LD A, D
E702:BB		CP E
E703:3E04	LD A, 04
E705:CC4FE7	CALL Z, E74F
E708:79		LD A, C
E709:92		SUB D
E70A:DD6F	LD IXL, A
E70C:DDCB004E	BIT 1, (IX+00)
E710:CD33E7	CALL E733
E713:CD33E7	CALL E733
E716:7A		LD A, D
E717:BB		CP E
E718:3E08	LD A, 08
E71A:CC4FE7	CALL Z, E74F
E71D:7A		LD A, D
E71E:93		SUB E
E71F:57		LD D, A
E720:20D2	JR NZ, E6F4
E722:DD69	LD IXL, C
E724:DDCB004E	BIT 1, (IX+00)
E728:CD33E7	CALL E733
E72B:AF		XOR A
E72C:CD4FE7	CALL E74F
E72F:C9		RET
E730:		label ADD_BC_INIT_COPY_PATTERN2BUFFER_NOZEROFLAG
E730:09		ADD HL, BC
E731:		label INIT_COPY_PATTERN2BUFFER_NOZEROFLAG
E731:F601	OR 01
E733:		label INIT_COPY_PATTERN2BUFFER
E733:D5		PUSH DE
E734:C5		PUSH BC
E735:5E		LD E, (HL)
E736:23		INC HL
E737:56		LD D, (HL)
E738:23		INC HL
E739:4E		LD C, (HL)
E73A:23		INC HL
E73B:46		LD B, (HL)
E73C:23		INC HL
E73D:280D	JR Z, E74C
E73F:14		INC D
E740:15		DEC D
E741:F5		PUSH AF
E742:E5		PUSH HL
E743:DDE5	PUSH IX
E745:C486E0	CALL NZ, E086
E748:DDE1	POP IX
E74A:E1		POP HL
E74B:F1		POP AF
E74C:		label ICP_EXIT
E74C:C1		POP BC
E74D:D1		POP DE
E74E:C9		RET
E74F:		label INIT_FIND_OBJECT
E74F:CB78	BIT 7, B
E751:C0		RET NZ
E752:E5		PUSH HL
E753:D5		PUSH DE
E754:C5		PUSH BC
E755:80		ADD A, B
E756:4F		LD C, A
E757:0600	LD B, 00
E759:CDCBE4	CALL E4CB
E75C:C1		POP BC
E75D:D1		POP DE
E75E:E1		POP HL
E75F:C9		RET
		End of INCLUDE
		INCLUDE inventory.asm
E760:		label TEST_OTEVRENY_INVENTAR
E760:3A10D2	LD A, (D210)
E763:E601	AND 01
E765:3A12D7	LD A, (D712)
E768:C9		RET
E769:		label DE_INVENTORY_ITEMS_AKTIVNI
E769:3A72D4	LD A, (D472)
E76C:5F		LD E, A
E76D:		label DE_INVENTORY_ITEMS_A
		IF (false)
-     .error 'Zmenit kod pro nasobeni 27x'
		ENDIF
E76D:87		ADD A, A
E76E:87		ADD A, A
E76F:87		ADD A, A
E770:87		ADD A, A
E771:87		ADD A, A
E772:93		SUB E
E773:C619	ADD A, 19
E775:5F		LD E, A
		IF (false)
-      .warning 'Delsi kod o 2 bajty! Pole INVENTORY_ITEMS = preleza segment!'
-     adc     A, INVENTORY_ITEMS / 256;  7:2
-     sub     E                       ;  4:1
-     ld      D, A                    ;  4:1
		ELSE (true)
E776:16D6	LD D, D6
		ENDIF
E778:C9		RET
E779:		label SET_RIGHT_PANEL
E779:2110D2	LD HL, D210
E77C:7E		LD A, (HL)
E77D:EE01	XOR 01
E77F:77		LD (HL), A
E780:E601	AND 01
E782:C23EE8	JP NZ, E83E
E785:1811	JR E798
E787:		label NEW_PLAYER_ACTIVE
E787:D631	SUB 31
E789:2173D4	LD HL, D473
E78C:BE		CP (HL)
E78D:D0		RET NC
E78E:2B		DEC HL
E78F:BE		CP (HL)
E790:C8		RET Z
E791:77		LD (HL), A
E792:CD60E7	CALL E760
E795:C23EE8	JP NZ, E83E
E798:		label PLAYERS_WINDOW
E798:01010E	LD BC, 0E01
E79B:2112C8	LD HL, C812
E79E:CD73EC	CALL EC73
E7A1:01030E	LD BC, 0E03
E7A4:21B2C8	LD HL, C8B2
E7A7:CD73EC	CALL EC73
E7AA:01030E	LD BC, 0E03
E7AD:2192C9	LD HL, C992
E7B0:CD73EC	CALL EC73
E7B3:01010E	LD BC, 0E01
E7B6:2172CA	LD HL, CA72
E7B9:CD73EC	CALL EC73
E7BC:DD210DDF	LD IX, DF0D
E7C0:ED4B72D4	LD BC, (D472)
E7C4:0C		INC C
E7C5:2112C8	LD HL, C812
E7C8:1119C8	LD DE, C819
E7CB:		label PW_JMENA_LOOP
E7CB:3E03	LD A, 03
E7CD:0D		DEC C
E7CE:2802	JR Z, E7D2
E7D0:3E07	LD A, 07
E7D2:		label PW_AKTIVNI
E7D2:F5		PUSH AF
E7D3:CD8CE3	CALL E38C
E7D6:7D		LD A, L
E7D7:C6A0	ADD A, A0
E7D9:6F		LD L, A
E7DA:8C		ADC A, H
E7DB:95		SUB L
E7DC:67		LD H, A
E7DD:F1		POP AF
E7DE:DDE5	PUSH IX
E7E0:DD210ADF	LD IX, DF0A
E7E4:CD8CE3	CALL E38C
E7E7:DDE1	POP IX
E7E9:7D		LD A, L
E7EA:C640	ADD A, 40
E7EC:6F		LD L, A
E7ED:8C		ADC A, H
E7EE:95		SUB L
E7EF:67		LD H, A
E7F0:EB		EX DE, HL
E7F1:10D8	DJNZ E7CB
E7F3:CD74E0	CALL E074
E7F6:DD2119D6	LD IX, D619
E7FA:AF		XOR A
E7FB:0E1F	LD C, 1F
E7FD:		label PW_HANDS_LOOP
E7FD:47		LD B, A
E7FE:DD7E14	LD A, (IX+14)
E801:CD19EA	CALL EA19
E804:04		INC B
E805:DD7E19	LD A, (IX+19)
E808:CD19EA	CALL EA19
E80B:04		INC B
E80C:78		LD A, B
E80D:0600	LD B, 00
E80F:DD09	ADD IX, BC
E811:FE0C	CP 0C
E813:C2FDE7	JP NZ, E7FD
E816:F3		DI
E817:3E18	LD A, 18
E819:CD09EA	CALL EA09
E81C:218DD4	LD HL, D48D
E81F:0606	LD B, 06
E821:		label PW_AVATARS
E821:CD31E7	CALL E731
E824:10FB	DJNZ E821
E826:CD69E0	CALL E069
E829:0602	LD B, 02
E82B:		label PW_KOMPAS_A_SIPKY
E82B:CD31E7	CALL E731
E82E:10FB	DJNZ E82B
E830:CD5EE0	CALL E05E
E833:CD98EC	CALL EC98
E836:FB		EI
E837:CD7DE0	CALL E07D
E83A:CD09EC	CALL EC09
E83D:C9		RET
E83E:		label INVENTORY_WINDOW_OPEN
E83E:		label INVENTORY_WINDOW_KURZOR
E83E:		label INVENTORY_WINDOW_REFRESH
E83E:010408	LD BC, 0804
E841:2198C8	LD HL, C898
E844:CD73EC	CALL EC73
E847:010808	LD BC, 0808
E84A:2118C9	LD HL, C918
E84D:CD73EC	CALL EC73
E850:010408	LD BC, 0804
E853:2118CA	LD HL, CA18
E856:CD73EC	CALL EC73
E859:01040A	LD BC, 0A04
E85C:2116C8	LD HL, C816
E85F:CD73EC	CALL EC73
E862:3A72D4	LD A, (D472)
E865:F5		PUSH AF
E866:3C		INC A
E867:010B00	LD BC, 000B
E86A:2102DF	LD HL, DF02
E86D:		label IW_NEXT_NAME
E86D:09		ADD HL, BC
E86E:3D		DEC A
E86F:20FC	JR NZ, E86D
E871:E5		PUSH HL
E872:DDE1	POP IX
E874:2116C8	LD HL, C816
E877:CD46E3	CALL E346
E87A:F1		POP AF
E87B:87		ADD A, A
E87C:87		ADD A, A
E87D:C68D	ADD A, 8D
E87F:6F		LD L, A
E880:CED4	ADC A, D4
E882:95		SUB L
E883:67		LD H, A
E884:5E		LD E, (HL)
E885:23		INC HL
E886:56		LD D, (HL)
E887:010012	LD BC, 1200
E88A:CD74E0	CALL E074
E88D:F3		DI
E88E:CD86E0	CALL E086
		IF (false)
-     jr      INVENTORY_POKRACUJ
-     call    SET_MAX_31              ; meni jen akumulator
-     di
- INVENTORY_POKRACUJ:
		ENDIF
E891:AF		XOR A
E892:F5		PUSH AF
E893:D9		EXX
E894:2149D7	LD HL, D749
E897:D9		EXX
E898:211B00	LD HL, 001B
E89B:CD69E7	CALL E769
E89E:19		ADD HL, DE
E89F:061B	LD B, 1B
E8A1:		label IW_LOOP
E8A1:CDC9E8	CALL E8C9
E8A4:10FB	DJNZ E8A1
E8A6:111F86	LD DE, 861F
E8A9:D5		PUSH DE
E8AA:11091D	LD DE, 1D09
E8AD:D5		PUSH DE
E8AE:11005F	LD DE, 5F00
E8B1:D5		PUSH DE
E8B2:110719	LD DE, 1907
E8B5:D5		PUSH DE
E8B6:11005F	LD DE, 5F00
E8B9:D5		PUSH DE
E8BA:11F81D	LD DE, 1DF8
E8BD:D5		PUSH DE
E8BE:CD27E9	CALL E927
E8C1:CD58E9	CALL E958
E8C4:FB		EI
E8C5:CD7DE0	CALL E07D
E8C8:C9		RET
E8C9:		label VYKRESLI_ITEM_NA_POZICI_B
E8C9:D1		POP DE
E8CA:ED5325E9	LD (E925), DE
E8CE:D9		EXX
E8CF:2B		DEC HL
E8D0:56		LD D, (HL)
E8D1:2B		DEC HL
E8D2:5E		LD E, (HL)
E8D3:D9		EXX
E8D4:3A11D7	LD A, (D711)
E8D7:4F		LD C, A
E8D8:CDD8E9	CALL E9D8
E8DB:2807	JR Z, E8E4
E8DD:114886	LD DE, 8648
E8E0:D5		PUSH DE
E8E1:D9		EXX
E8E2:D5		PUSH DE
E8E3:D9		EXX
E8E4:		label IW_BEZ_MRIZKY
E8E4:78		LD A, B
E8E5:FE11	CP 11
E8E7:2007	JR NZ, E8F0
E8E9:11B383	LD DE, 83B3
E8EC:D5		PUSH DE
E8ED:D9		EXX
E8EE:D5		PUSH DE
E8EF:D9		EXX
E8F0:		label IW_NENI_PROSTIRANI
E8F0:48		LD C, B
		IF (false)
-     .warning 'Pomalejsi kod, INVENTORY_ITEMS preleza segment!'
-     dec     HL
		ELSE (true)
E8F1:2D		DEC L
		ENDIF
E8F2:7E		LD A, (HL)
E8F3:87		ADD A, A
E8F4:280A	JR Z, E900
E8F6:E5		PUSH HL
E8F7:CD36E9	CALL E936
E8FA:E1		POP HL
E8FB:D5		PUSH DE
E8FC:D9		EXX
E8FD:D5		PUSH DE
E8FE:D9		EXX
E8FF:0D		DEC C
E900:		label IW_PRAZDNE_POLICKO
E900:11EC83	LD DE, 83EC
E903:D5		PUSH DE
E904:D9		EXX
E905:D5		PUSH DE
E906:D9		EXX
E907:3A12D7	LD A, (D712)
E90A:3C		INC A
E90B:B8		CP B
E90C:2007	JR NZ, E915
E90E:11FB80	LD DE, 80FB
E911:D5		PUSH DE
E912:D9		EXX
E913:D5		PUSH DE
E914:D9		EXX
E915:		label IW_NEJSME_NA_KURZORU
E915:78		LD A, B
E916:B9		CP C
E917:2004	JR NZ, E91D
E919:FE12	CP 12
E91B:3007	JR NC, E924
E91D:		label IW_PREDMET_OBSAZEN
E91D:11C280	LD DE, 80C2
E920:D5		PUSH DE
E921:D9		EXX
E922:D5		PUSH DE
E923:D9		EXX
E924:		label IW_NEKRESLI_PODKLAD
E924:		label VINPB_SELF
E924:C30000	JP 0000
E927:		label KRESLI_ZE_ZASOBNIKU
E927:E1		POP HL
E928:C1		POP BC
E929:04		INC B
E92A:05		DEC B
E92B:2807	JR Z, E934
E92D:D1		POP DE
E92E:E5		PUSH HL
E92F:CD86E0	CALL E086
E932:18F3	JR E927
E934:		label KZZ_EXIT
E934:E5		PUSH HL
E935:C9		RET
E936:		label DE_2DSPRITE_A
E936:C6D3	ADD A, D3
E938:6F		LD L, A
		IF (true)
E939:CED6	ADC A, D6
E93B:95		SUB L
E93C:67		LD H, A
E93D:5E		LD E, (HL)
E93E:23		INC HL
		ELSE (false)
-     ld      H, ITEM2SPRITE / 256
-     ld      E, (HL)
-     inc     L
		ENDIF
E93F:56		LD D, (HL)
E940:C9		RET
E941:		label A_NAJDI_POLOZENY_PREDMET_HL
E941:E5		PUSH HL
E942:C5		PUSH BC
E943:D5		PUSH DE
E944:CD2FE4	CALL E42F
E947:EB		EX DE, HL
E948:2B		DEC HL
E949:7E		LD A, (HL)
E94A:2B		DEC HL
E94B:46		LD B, (HL)
E94C:2B		DEC HL
E94D:4E		LD C, (HL)
E94E:EB		EX DE, HL
E94F:ED42	SBC HL, BC
E951:2801	JR Z, E954
E953:AF		XOR A
E954:		label NPP_EXIT
E954:D1		POP DE
E955:C1		POP BC
E956:E1		POP HL
E957:C9		RET
		IF (false)
- VYKRESLI_POLOZENY_PREDMET:
-     push    BC
-     push    HL
-     ld      DE, I_bg                ; podklad pod predmet
-     call    COPY_SPRITE2BUFFER
-     pop     HL    
-     call    FIND_LAST_ITEM
-     ex      DE, HL
-     dec     HL                      ; PODTYP
-     ld      A, (HL)
-     dec     HL                      ; zamky + typ + roh
-     ld      B, (HL)
-     dec     HL                      ; lokace
-     ld      C, (HL)
-     ex      DE, HL
-     sbc     HL, BC
-     pop     BC
-     ret     nz
-     ADD     A, A
-     ret     z                       ; tohle by slo smazat
-     call    DE_2DSPRITE_A
-     call    COPY_SPRITE2BUFFER
-     ret
		ENDIF
E958:		label VYKRESLI_AKTIVNI_PREDMET
E958:CD60E7	CALL E760
E95B:C8		RET Z
		IF (false)
-     ld      BC, $020D
-     ld      HL, (LOCATION)              ; 16:3 L=LOCATION, H=VECTOR
-     push    HL
-     call    VYKRESLI_POLOZENY_PREDMET   ; roh vlevo vzadu
-     pop     HL
-     inc     H
-     ld      BC, $0D0D
-     call    VYKRESLI_POLOZENY_PREDMET   ; roh vpravo vzadu
-     ld      HL, (LOCATION)              ; 16:3 L=LOCATION, H=VECTOR
-     ld      D, VEKTORY_POHYBU/256       ;  7:2
-     ld      E, H                        ;  4:1 de = @(VECTORY_POHYBU[radek][sloupec])
-     ld      A, (DE)                     ;  7:1 o kolik zmenit LOCATION pro pohyb danym smerem
-     add     A, L                        ;  4:1 ZMENIT POKUD BUDE MAPA 16bit!!! ( ..a nejen to, pozice predmetu, dveri atd. )
-     ld      L, A                        ;  4:1 hl = pozice na mape po presunu
-     inc     H
-     inc     H
-     ld      BC, $0B0B
-     push    HL
-     call    VYKRESLI_POLOZENY_PREDMET   ; roh vpravo vepredu na ctverci pred nama
-     pop     HL
-     inc     H
-     ld      BC, $040B
-     call    VYKRESLI_POLOZENY_PREDMET   ; roh vlevo vepredu na ctverci pred nama
		ENDIF
		IF (true)
E95C:CD69E7	CALL E769
E95F:D5		PUSH DE
E960:DDE1	POP IX
E962:2A45D4	LD HL, (D445)
E965:CD41E9	CALL E941
E968:DD771C	LD (IX+1C), A
E96B:24		INC H
E96C:CD41E9	CALL E941
E96F:DD771E	LD (IX+1E), A
E972:CDCCE9	CALL E9CC
E975:25		DEC H
E976:CD41E9	CALL E941
E979:DD771B	LD (IX+1B), A
E97C:25		DEC H
E97D:CD41E9	CALL E941
E980:DD771D	LD (IX+1D), A
		ENDIF
E983:AF		XOR A
E984:F5		PUSH AF
E985:D9		EXX
E986:2151D7	LD HL, D751
E989:D9		EXX
E98A:211F00	LD HL, 001F
E98D:CD69E7	CALL E769
E990:19		ADD HL, DE
E991:061F	LD B, 1F
E993:		label VAP_LOOP
E993:CDC9E8	CALL E8C9
E996:05		DEC B
E997:3E1B	LD A, 1B
E999:B8		CP B
E99A:20F7	JR NZ, E993
E99C:CD27E9	CALL E927
E99F:3A11D7	LD A, (D711)
E9A2:87		ADD A, A
E9A3:C8		RET Z
E9A4:C6D3	ADD A, D3
E9A6:6F		LD L, A
		IF (true)
E9A7:CED6	ADC A, D6
E9A9:95		SUB L
E9AA:67		LD H, A
E9AB:5E		LD E, (HL)
E9AC:23		INC HL
		ELSE (false)
-     ld      h, ITEM2SPRITE / 256
-     ld      e, (hl)
-     inc     l
		ENDIF
E9AD:56		LD D, (HL)
E9AE:D5		PUSH DE
E9AF:3A12D7	LD A, (D712)
E9B2:87		ADD A, A
E9B3:C613	ADD A, 13
E9B5:6F		LD L, A
E9B6:CED7	ADC A, D7
E9B8:95		SUB L
E9B9:67		LD H, A
E9BA:4E		LD C, (HL)
E9BB:23		INC HL
E9BC:46		LD B, (HL)
E9BD:05		DEC B
E9BE:0D		DEC C
E9BF:11FB80	LD DE, 80FB
E9C2:C5		PUSH BC
E9C3:CD86E0	CALL E086
E9C6:C1		POP BC
E9C7:D1		POP DE
E9C8:CD86E0	CALL E086
E9CB:C9		RET
E9CC:		label HL_VEPREDU
E9CC:2A45D4	LD HL, (D445)
E9CF:E5		PUSH HL
E9D0:7D		LD A, L
E9D1:6C		LD L, H
E9D2:26D2	LD H, D2
E9D4:86		ADD A, (HL)
E9D5:E1		POP HL
E9D6:6F		LD L, A
E9D7:C9		RET
E9D8:		label TEST_NEPOVOLENE_POZICE
E9D8:78		LD A, B
E9D9:3D		DEC A
E9DA:FE1B	CP 1B
E9DC:380D	JR C, E9EB
E9DE:E601	AND 01
E9E0:C8		RET Z
E9E1:E5		PUSH HL
E9E2:CDCCE9	CALL E9CC
E9E5:26D1	LD H, D1
E9E7:CB46	BIT 0, (HL)
E9E9:E1		POP HL
E9EA:C9		RET
E9EB:		label TNP_NOSENE
E9EB:E6F0	AND F0
E9ED:C8		RET Z
E9EE:79		LD A, C
E9EF:B7		OR A
E9F0:C8		RET Z
POZICE_M1	EQU D750
E9F1:E5		PUSH HL
E9F2:C650	ADD A, 50
E9F4:6F		LD L, A
E9F5:CED7	ADC A, D7
E9F7:95		SUB L
E9F8:67		LD H, A
E9F9:78		LD A, B
E9FA:FE1B	CP 1B
E9FC:2002	JR NZ, EA00
E9FE:3E16	LD A, 16
EA00:		label TNP_NENI_PRSTEN
EA00:FE1A	CP 1A
EA02:2002	JR NZ, EA06
EA04:3E15	LD A, 15
EA06:		label TNP_NENI_RUKA
EA06:BE		CP (HL)
EA07:E1		POP HL
EA08:C9		RET
EA09:		label VYKRESLI_ZE_ZASOBNIKU
EA09:E1		POP HL
EA0A:		label VYKRESLI_ZE_ZASOBNIKU_LOOP
EA0A:C1		POP BC
EA0B:D1		POP DE
EA0C:E5		PUSH HL
EA0D:F5		PUSH AF
EA0E:14		INC D
EA0F:15		DEC D
EA10:C486E0	CALL NZ, E086
EA13:F1		POP AF
EA14:E1		POP HL
EA15:3D		DEC A
EA16:20F2	JR NZ, EA0A
EA18:E9		JP (HL)
EA19:		label VYKRESLI_RUKU
EA19:E1		POP HL
EA1A:223FEA	LD (EA3F), HL
EA1D:113982	LD DE, 8239
EA20:87		ADD A, A
EA21:280A	JR Z, EA2D
EA23:C6D3	ADD A, D3
EA25:6F		LD L, A
		IF (true)
EA26:CED6	ADC A, D6
EA28:95		SUB L
EA29:67		LD H, A
EA2A:5E		LD E, (HL)
EA2B:23		INC HL
		ELSE (false)
-     ld      H, ITEM2SPRITE / 256
-     ld      E, (HL)
-     inc     L
		ENDIF
EA2C:56		LD D, (HL)
EA2D:		label VR_PRAZDNA
EA2D:D5		PUSH DE
		IF (false)
-     .error      'Seznam POZICE_RUKOU prekracuje 256 bajtovy segment!'
		ENDIF
EA2E:3E75	LD A, 75
EA30:80		ADD A, B
EA31:80		ADD A, B
EA32:6F		LD L, A
EA33:26D4	LD H, D4
EA35:5E		LD E, (HL)
EA36:2C		INC L
EA37:56		LD D, (HL)
EA38:D5		PUSH DE
EA39:21C280	LD HL, 80C2
EA3C:E5		PUSH HL
EA3D:D5		PUSH DE
EA3E:		label VR_SELF
EA3E:C30000	JP 0000
		End of INCLUDE
EA41:		label PUSH_ALL
EA41:F3		DI
EA42:2258EA	LD (EA58), HL
EA45:E3		EX (SP), HL
EA46:F5		PUSH AF
EA47:C5		PUSH BC
EA48:D5		PUSH DE
EA49:DDE5	PUSH IX
EA4B:FDE5	PUSH IY
EA4D:08		EX AF, AF'
EA4E:F5		PUSH AF
EA4F:08		EX AF, AF'
EA50:D9		EXX
EA51:C5		PUSH BC
EA52:D5		PUSH DE
EA53:E5		PUSH HL
EA54:D9		EXX
EA55:FB		EI
EA56:E5		PUSH HL
EA57:		label PUSH_ALL_HL
EA57:210000	LD HL, 0000
EA5A:C9		RET
EA5B:		label POP_ALL
EA5B:F3		DI
EA5C:E1		POP HL
EA5D:D9		EXX
EA5E:E1		POP HL
EA5F:D1		POP DE
EA60:C1		POP BC
EA61:D9		EXX
EA62:08		EX AF, AF'
EA63:F1		POP AF
EA64:08		EX AF, AF'
EA65:FDE1	POP IY
EA67:DDE1	POP IX
EA69:D1		POP DE
EA6A:C1		POP BC
EA6B:F1		POP AF
EA6C:E3		EX (SP), HL
EA6D:FB		EI
EA6E:C9		RET
EA6F:		label TIME_SCROLL
EA6F:3A795C	LD A, (5C79)
EA72:E602	AND 02
EA74:47		LD B, A
EA75:		label TIME_SCROLL_LAST
EA75:EE00	XOR 00
EA77:C8		RET Z
EA78:78		LD A, B
EA79:3276EA	LD (EA76), A
EA7C:CD96E3	CALL E396
EA7F:C9		RET
EA80:		label PREHOD_PREPINAC
EA80:CD60E7	CALL E760
EA83:CAD9EA	JP Z, EAD9
EA86:47		LD B, A
EA87:04		INC B
EA88:2111D7	LD HL, D711
EA8B:4E		LD C, (HL)
EA8C:CDD8E9	CALL E9D8
EA8F:DD21ECDB	LD IX, DBEC
EA93:C2B9E3	JP NZ, E3B9
EA96:3E11	LD A, 11
EA98:90		SUB B
EA99:E5		PUSH HL
EA9A:CC49EC	CALL Z, EC49
EA9D:2600	LD H, 00
EA9F:68		LD L, B
EAA0:2D		DEC L
EAA1:CD69E7	CALL E769
EAA4:19		ADD HL, DE
EAA5:7E		LD A, (HL)
EAA6:71		LD (HL), C
EAA7:E1		POP HL
EAA8:77		LD (HL), A
EAA9:C5		PUSH BC
EAAA:CD19E4	CALL E419
EAAD:C1		POP BC
EAAE:2A11D7	LD HL, (D711)
EAB1:7C		LD A, H
EAB2:D61B	SUB 1B
EAB4:DA3EE8	JP C, E83E
EAB7:26EA	LD H, EA
EAB9:C6D5	ADD A, D5
EABB:6F		LD L, A
EABC:46		LD B, (HL)
EABD:2A45D4	LD HL, (D445)
EAC0:CB48	BIT 1, B
EAC2:C4CCE9	CALL NZ, E9CC
EAC5:7C		LD A, H
EAC6:80		ADD A, B
EAC7:67		LD H, A
EAC8:79		LD A, C
EAC9:B7		OR A
EACA:F5		PUSH AF
EACB:C44CE4	CALL NZ, E44C
EACE:F1		POP AF
EACF:CC78E4	CALL Z, E478
EAD2:C33EE8	JP E83E
EAD5:		label PP_DATA
EAD5:03000201	DEFB of 4 bytes
EAD9:		label PP_DATA_END
		IF (false)
-     .error 'PP_DATA!'
		ENDIF
EAD9:		label PP_NEJSME_V_INVENTARI
EAD9:AF		XOR A
EADA:CDDAE2	CALL E2DA
EADD:3E00	LD A, 00
EADF:81		ADD A, C
EAE0:47		LD B, A
EAE1:CD23E4	CALL E423
EAE4:		label PP_NALEZEN_OBJEKT
EAE4:C0		RET NZ
EAE5:1A		LD A, (DE)
EAE6:E61F	AND 1F
EAE8:B8		CP B
EAE9:280C	JR Z, EAF7
EAEB:E61C	AND 1C
EAED:FE0C	CP 0C
EAEF:CCCEE3	CALL Z, E3CE
EAF2:CD26E4	CALL E426
EAF5:18ED	JR EAE4
EAF7:		label PP_PROHOD_PAKU
		IF (false)
-     ld      A, (DE)                     ;  7:1 typ
-     xor     ZAM_1                       ;  7:2 prepneme paku / prohodime horni bit
-     ld      (de),a                      ;  7:1 typ
		ELSE (true)
EAF7:2680	LD H, 80
EAF9:CDA3E4	CALL E4A3
		ENDIF
EAFC:13		INC DE
EAFD:CDE0E3	CALL E3E0
EB00:		label PP_LOOP
EB00:13		INC DE
EB01:1A		LD A, (DE)
EB02:B7		OR A
EB03:C0		RET NZ
EB04:13		INC DE
EB05:1A		LD A, (DE)
EB06:6F		LD L, A
EB07:13		INC DE
EB08:1A		LD A, (DE)
EB09:67		LD H, A
EB0A:CDA3E4	CALL E4A3
EB0D:C300EB	JP EB00
EB10:		label COPY_INVENTORY2SCREEN
EB10:76		HALT
EB11:3EDE	LD A, DE
EB13:32E1EB	LD (EBE1), A
EB16:212515	LD HL, 1525
EB19:22E5EB	LD (EBE5), HL
EB1C:017805	LD BC, 0578
EB1F:		label CI2S_WAIT
EB1F:0B		DEC BC
EB20:CB78	BIT 7, B
EB22:28FB	JR Z, EB1F
EB24:3A74D4	LD A, (D474)
EB27:D3FE	OUT (FE), A
EB29:26C8	LD H, C8
EB2B:1658	LD D, 58
EB2D:DD2101FF	LD IX, FF01
EB31:CDE7EB	CALL EBE7
EB34:26B7	LD H, B7
EB36:1647	LD D, 47
EB38:DD2108FF	LD IX, FF08
EB3C:CDE7EB	CALL EBE7
EB3F:26C9	LD H, C9
EB41:1659	LD D, 59
EB43:DD2101FF	LD IX, FF01
EB47:CDE7EB	CALL EBE7
EB4A:26BF	LD H, BF
EB4C:164F	LD D, 4F
EB4E:DD2108FF	LD IX, FF08
EB52:CDE7EB	CALL EBE7
EB55:26CA	LD H, CA
EB57:165A	LD D, 5A
EB59:DD21017F	LD IX, 7F01
EB5D:CDE7EB	CALL EBE7
EB60:26C7	LD H, C7
EB62:1657	LD D, 57
EB64:DD21087F	LD IX, 7F08
EB68:CDE7EB	CALL EBE7
EB6B:AF		XOR A
EB6C:D3FE	OUT (FE), A
EB6E:C9		RET
EB6F:		label COPY_VYREZ2SCREEN
EB6F:76		HALT
EB70:3ED6	LD A, D6
EB72:32E1EB	LD (EBE1), A
EB75:210000	LD HL, 0000
EB78:22E5EB	LD (EBE5), HL
EB7B:017805	LD BC, 0578
EB7E:		label CV2S_WAIT
EB7E:0B		DEC BC
EB7F:CB78	BIT 7, B
EB81:28FB	JR Z, EB7E
EB83:3A74D4	LD A, (D474)
EB86:D3FE	OUT (FE), A
EB88:26C8	LD H, C8
EB8A:1658	LD D, 58
EB8C:DD2101F1	LD IX, F101
EB90:CDE7EB	CALL EBE7
EB93:26B7	LD H, B7
EB95:1647	LD D, 47
EB97:DD2108F1	LD IX, F108
EB9B:CDE7EB	CALL EBE7
EB9E:26C9	LD H, C9
EBA0:1659	LD D, 59
EBA2:DD2101D1	LD IX, D101
EBA6:CDE7EB	CALL EBE7
EBA9:26BF	LD H, BF
EBAB:164F	LD D, 4F
EBAD:DD2108D1	LD IX, D108
EBB1:CDE7EB	CALL EBE7
EBB4:AF		XOR A
EBB5:D3FE	OUT (FE), A
EBB7:C9		RET
EBB8:		label COPY_LOOP_18x
EBB8:EDA8	LDD
EBBA:EDA8	LDD
EBBC:EDA8	LDD
EBBE:EDA8	LDD
EBC0:		label COPY_LOOP_14x
EBC0:EDA8	LDD
EBC2:EDA8	LDD
EBC4:EDA8	LDD
EBC6:EDA8	LDD
EBC8:EDA8	LDD
EBCA:EDA8	LDD
EBCC:EDA8	LDD
EBCE:EDA8	LDD
EBD0:EDA8	LDD
EBD2:EDA8	LDD
EBD4:EDA8	LDD
EBD6:EDA8	LDD
EBD8:EDA8	LDD
EBDA:EDA8	LDD
EBDC:D620	SUB 20
EBDE:		label COPY_MICROLINE
EBDE:5F		LD E, A
EBDF:6F		LD L, A
EBE0:		label COPY_MENITELNY_SKOK
EBE0:30D6	JR NC, EBB8
EBE2:		label COPY_END_SEGMENT
EBE2:DD2D	DEC IXL
EBE4:C8		RET Z
EBE5:		label COPY_DEC_OR_NOP
EBE5:00		NOP
EBE6:00		NOP
EBE7:		label COPY_START
EBE7:DD7C	LD A, IXH
EBE9:B7		OR A
EBEA:18F2	JR EBDE
EBEC:		label HELP
EBEC:DD2172DE	LD IX, DE72
EBF0:3E02	LD A, 02
EBF2:CDBBE3	CALL E3BB
EBF5:CDB9E3	CALL E3B9
EBF8:CDB9E3	CALL E3B9
EBFB:CDB9E3	CALL E3B9
EBFE:C9		RET
EBFF:		label OBAL_SPRITE2BUFFER
EBFF:F5		PUSH AF
EC00:E5		PUSH HL
EC01:D5		PUSH DE
EC02:CD86E0	CALL E086
EC05:D1		POP DE
EC06:E1		POP HL
EC07:F1		POP AF
EC08:C9		RET
EC09:		label AKTUALIZUJ_RUZICI
EC09:3A46D4	LD A, (D446)
EC0C:87		ADD A, A
EC0D:87		ADD A, A
EC0E:C6C9	ADD A, C9
EC10:6F		LD L, A
		IF (false)
- .warning 'Delsi kod o 2 bajty! RUZICE a RUZICE_END lezi na dvou segmentech!'
-     adc     a,RUZICE / 256              ;  7:2 resi preteceni
-     sub     l                           ;  7:2 
-     ld      h,a                         ;  4:1 hl = ukazatel na ukazatel spravneho spritu
		ELSE (true)
EC11:26D4	LD H, D4
		ENDIF
EC13:CD69E0	CALL E069
EC16:F3		DI
EC17:CD33E7	CALL E733
EC1A:FB		EI
EC1B:CD5EE0	CALL E05E
EC1E:C9		RET
EC1F:		label AKTUALIZUJ_SIPKY
EC1F:6F		LD L, A
EC20:CD69E0	CALL E069
EC23:7D		LD A, L
EC24:21A9D4	LD HL, D4A9
EC27:F3		DI
EC28:CD33E7	CALL E733
EC2B:85		ADD A, L
EC2C:6F		LD L, A
		IF (false)
-     .warning    'Delsi kod o 3 bajty! Pole SIPKY preleza 256 bajtovy segment!'
-     adc     A, H                        ; 4:1
-     sub     L                           ; 4:1
-     ld      H, A                        ; 4:1 H + carry
		ENDIF
EC2D:CD33E7	CALL E733
EC30:FB		EI
EC31:CD5EE0	CALL E05E
EC34:C9		RET
		IF (false)
- HORIZONTAL_FULL_LINE:
-     ld      a,$ff
- HORIZONTAL_MASK_LINE:
- HML_LOOP:
-     ld      (hl),a
-     inc     l
-     djnz    HML_LOOP
-     ret
		ENDIF
		IF (false)
- FILL_BLOCK:
-     ld      A, L                ;  4:1 nastavime na prvni znak a budeme postupne zvysovat o 32 => o znak nize
- FB_DALSI_MICROLINE:
-     push    AF                  ; 11:1 ulozime L
-     ld      C, IXL              ;  8:2 nastavime citac poctu radku
- FB_DALSI_RADEK:
-     ld      B, IXH              ;  8:2 nastavime citac poctu sloupcu
- FB_DALSI_SLOUPEC:
-     ld      (HL), E             ;  7:1
-     inc     L                   ;  4:1
-     djnz    FB_DALSI_SLOUPEC    ;13/8:2
-     add     A, $20              ;  7:2
-     ld      L, A                ;  4:1 stejna mikroradka o znak/radek nize
-     dec     C                   ;  4:1
-     jr      nz, FB_DALSI_RADEK  ;12/7:2
-     pop     AF                  ; 10:1
-     ld      L, A                ;  4:1
-     dec     D                   ;  4:1
-     ret     z                   ;11/5:1 pokud byla vyplnena jen jedna mikroradka ( atributy ) tak hl nebylo zmeneno
-     inc     H                   ;  4:1 o mikroradek nize
-     jp      FB_DALSI_MICROLINE  ; 10:3
- FILL_ATTR_BLOCK:
-     ld      IXH, B                  ; 8:2 push    bc + pop     ix = 11+14:1+2
-     ld      IXL, C                  ; 8:2
-     ld      DE, $0107               ; 10:3 jen 1 mikroradek a bila barva (vzor)
-     call    FILL_BLOCK
-     call    SEG_ATTR2SCREEN
-     ld      DE, $0800               ; 10:3 8 mikroradku a vyplnujeme nulama
-     call    FILL_BLOCK
-     ret
		ELSE (true)
EC35:		label FILL_BLOCK
EC35:		label FB_PIXEL
EC35:C5		PUSH BC
EC36:E5		PUSH HL
EC37:7D		LD A, L
EC38:		label FB_RADEK
EC38:42		LD B, D
EC39:		label FB_DALSI_SLOUPEC
EC39:73		LD (HL), E
EC3A:2C		INC L
EC3B:10FC	DJNZ EC39
EC3D:C620	ADD A, 20
EC3F:6F		LD L, A
EC40:0D		DEC C
EC41:20F5	JR NZ, EC38
EC43:E1		POP HL
EC44:C1		POP BC
EC45:24		INC H
EC46:10ED	DJNZ EC35
EC48:C9		RET
EC49:		label EATING
EC49:C5		PUSH BC
EC4A:3A72D4	LD A, (D472)
EC4D:CD4DED	CALL ED4D
EC50:23		INC HL
EC51:1172DC	LD DE, DC72
EC54:79		LD A, C
EC55:D61B	SUB 1B
EC57:2003	JR NZ, EC5C
EC59:117EDC	LD DE, DC7E
EC5C:		label E_NO_FOOD
EC5C:3D		DEC A
EC5D:2003	JR NZ, EC62
EC5F:46		LD B, (HL)
EC60:2B		DEC HL
EC61:70		LD (HL), B
EC62:		label E_NO_R
EC62:3D		DEC A
EC63:2002	JR NZ, EC67
EC65:23		INC HL
EC66:77		LD (HL), A
EC67:		label E_NO_G
EC67:3D		DEC A
EC68:2000	JR NZ, EC6A
EC6A:		label E_NO_B
EC6A:		label E_PRINT
EC6A:EB		EX DE, HL
EC6B:79		LD A, C
EC6C:CD00E4	CALL E400
EC6F:C1		POP BC
EC70:0E00	LD C, 00
EC72:C9		RET
EC73:		label FILL_ATTR_BLOCK
EC73:50		LD D, B
EC74:1E07	LD E, 07
EC76:0601	LD B, 01
EC78:CD35EC	CALL EC35
EC7B:25		DEC H
EC7C:CD87EC	CALL EC87
EC7F:1E00	LD E, 00
EC81:0608	LD B, 08
EC83:CD35EC	CALL EC35
EC86:C9		RET
		ENDIF
EC87:		label SEG_ATTR2SCREEN
EC87:7C		LD A, H
EC88:26B0	LD H, B0
EC8A:D6C8	SUB C8
EC8C:3004	JR NC, EC92
EC8E:2640	LD H, 40
EC90:C670	ADD A, 70
EC92:		label SA_BUFF
EC92:87		ADD A, A
EC93:87		ADD A, A
EC94:87		ADD A, A
EC95:84		ADD A, H
EC96:67		LD H, A
EC97:C9		RET
EC98:		label ZOBRAZ_ZIVOTY
EC98:216FD7	LD HL, D76F
EC9B:0606	LD B, 06
EC9D:		label ZZ_LOOP
EC9D:C5		PUSH BC
EC9E:4E		LD C, (HL)
EC9F:2C		INC L
ECA0:46		LD B, (HL)
ECA1:2C		INC L
ECA2:2C		INC L
ECA3:5E		LD E, (HL)
ECA4:2C		INC L
ECA5:56		LD D, (HL)
ECA6:CDE6EC	CALL ECE6
ECA9:2C		INC L
ECAA:4E		LD C, (HL)
ECAB:2C		INC L
ECAC:3A785C	LD A, (5C78)
ECAF:B9		CP C
ECB0:3802	JR C, ECB4
ECB2:AF		XOR A
ECB3:77		LD (HL), A
ECB4:		label ZZ_NEVYPRSEL
ECB4:7E		LD A, (HL)
ECB5:B7		OR A
ECB6:2804	JR Z, ECBC
ECB8:47		LD B, A
ECB9:CDC1EC	CALL ECC1
ECBC:		label ZZ_BEZ_AKT_ZRANENI
ECBC:2C		INC L
ECBD:C1		POP BC
ECBE:10DD	DJNZ EC9D
ECC0:C9		RET
ECC1:		label VYKRESLI_KRVAVY_FLEK
ECC1:E5		PUSH HL
ECC2:7A		LD A, D
ECC3:87		ADD A, A
ECC4:87		ADD A, A
ECC5:87		ADD A, A
ECC6:92		SUB D
Pomocny		EQU 0574
ECC7:D674	SUB 74
ECC9:4F		LD C, A
ECCA:7B		LD A, E
ECCB:E61F	AND 1F
ECCD:3D		DEC A
ECCE:47		LD B, A
ECCF:D5		PUSH DE
ECD0:111770	LD DE, 7017
ECD3:CDFFEB	CALL EBFF
ECD6:E1		POP HL
ECD7:2C		INC L
ECD8:2C		INC L
ECD9:DD21E4EC	LD IX, ECE4
ECDD:3E42	LD A, 42
ECDF:CD48E3	CALL E348
ECE2:E1		POP HL
ECE3:C9		RET
ECE4:		label DAMAGE_BUF
ECE4:3100	DEFB of 2 bytes
ECE6:		label VYKRESLI_ZIVOTY
ECE6:E5		PUSH HL
ECE7:D5		PUSH DE
ECE8:D5		PUSH DE
ECE9:AF		XOR A
ECEA:67		LD H, A
ECEB:69		LD L, C
ECEC:57		LD D, A
ECED:58		LD E, B
ECEE:47		LD B, A
ECEF:29		ADD HL, HL
ECF0:29		ADD HL, HL
ECF1:09		ADD HL, BC
ECF2:4F		LD C, A
ECF3:37		SCF
ECF4:		label VZ_ZNAKU
ECF4:0D		DEC C
ECF5:ED52	SBC HL, DE
ECF7:30FB	JR NC, ECF4
ECF9:ED5A	ADC HL, DE
ECFB:29		ADD HL, HL
ECFC:29		ADD HL, HL
ECFD:29		ADD HL, HL
ECFE:		label VZ_ZBYTEK
ECFE:3C		INC A
ECFF:ED52	SBC HL, DE
ED01:30FB	JR NC, ECFE
		IF (false)
-     .error      'Seznam CARKY prekracuje segment!'
		ENDIF
ED03:C654	ADD A, 54
ED05:6F		LD L, A
ED06:26E0	LD H, E0
ED08:56		LD D, (HL)
ED09:79		LD A, C
ED0A:3C		INC A
ED0B:2002	JR NZ, ED0F
ED0D:3E42	LD A, 42
ED0F:		label VZ_VICEZNAKOVY
ED0F:E646	AND 46
ED11:5F		LD E, A
ED12:E1		POP HL
ED13:0605	LD B, 05
ED15:		label VZ_LOOP_SELF
ED15:7A		LD A, D
ED16:0C		INC C
ED17:2803	JR Z, ED1C
ED19:79		LD A, C
ED1A:17		RLA
ED1B:9F		SBC A, A
ED1C:		label VZ_PREDEL
ED1C:		label VZ_COL_SELF
ED1C:73		LD (HL), E
ED1D:E5		PUSH HL
ED1E:C5		PUSH BC
ED1F:4F		LD C, A
ED20:CD87EC	CALL EC87
ED23:0606	LD B, 06
ED25:		label VZ_LOOP_PX
ED25:24		INC H
ED26:71		LD (HL), C
ED27:10FC	DJNZ ED25
ED29:C1		POP BC
ED2A:E1		POP HL
ED2B:2C		INC L
ED2C:10E7	DJNZ ED15
ED2E:D1		POP DE
ED2F:E1		POP HL
ED30:C9		RET
ED31:		label VYHAZEJ_VSECHNO
ED31:C5		PUSH BC
ED32:D5		PUSH DE
ED33:7B		LD A, E
ED34:CD6DE7	CALL E76D
ED37:061B	LD B, 1B
ED39:		label VV_LOOP
ED39:D5		PUSH DE
ED3A:C5		PUSH BC
ED3B:2A45D4	LD HL, (D445)
ED3E:1A		LD A, (DE)
ED3F:B7		OR A
ED40:C44CE4	CALL NZ, E44C
ED43:C1		POP BC
ED44:D1		POP DE
ED45:AF		XOR A
ED46:12		LD (DE), A
		IF (false)
-     .warning 'Pomalejsi kod kvuli vicesegmentovemu INVENTORY_ITEMS'
-     inc     DE
		ELSE (true)
ED47:1C		INC E
		ENDIF
ED48:10EF	DJNZ ED39
ED4A:D1		POP DE
ED4B:C1		POP BC
ED4C:C9		RET
		IF (false)
-     .error      'Seznam DATA_ZIVOTY prekracuje segment!'
		ENDIF
ED4D:		label HL_DATA_ZIVOTY_A
ED4D:6F		LD L, A
ED4E:87		ADD A, A
ED4F:87		ADD A, A
ED50:87		ADD A, A
ED51:95		SUB L
ED52:C66F	ADD A, 6F
ED54:6F		LD L, A
ED55:26D7	LD H, D7
ED57:C9		RET
ED58:		label ZRAN_POSTAVU
ED58:D5		PUSH DE
ED59:7B		LD A, E
ED5A:CD4DED	CALL ED4D
ED5D:7E		LD A, (HL)
ED5E:92		SUB D
ED5F:3007	JR NC, ED68
ED61:AF		XOR A
ED62:77		LD (HL), A
ED63:CD31ED	CALL ED31
ED66:180E	JR ED76
ED68:		label ZP_ZIJE
ED68:77		LD (HL), A
ED69:23		INC HL
ED6A:23		INC HL
ED6B:23		INC HL
ED6C:23		INC HL
ED6D:23		INC HL
ED6E:3A785C	LD A, (5C78)
ED71:C632	ADD A, 32
ED73:77		LD (HL), A
ED74:23		INC HL
ED75:72		LD (HL), D
ED76:		label ZP_EXIT
ED76:D1		POP DE
ED77:C9		RET
ED78:		label OTESTUJ_TRVALE_ZRANENI
ED78:D5		PUSH DE
ED79:7B		LD A, E
ED7A:CD4DED	CALL ED4D
ED7D:23		INC HL
ED7E:23		INC HL
ED7F:7E		LD A, (HL)
ED80:B7		OR A
ED81:57		LD D, A
ED82:C458ED	CALL NZ, ED58
ED85:D1		POP DE
ED86:C9		RET
ED87:		label PLAYERS_WINDOW_AND_DAMAGE
ED87:		label PWAD_SELF
ED87:3E00	LD A, 00
ED89:21785C	LD HL, 5C78
ED8C:AE		XOR (HL)
ED8D:E680	AND 80
ED8F:280F	JR Z, EDA0
ED91:7E		LD A, (HL)
ED92:3288ED	LD (ED88), A
ED95:110001	LD DE, 0100
ED98:0606	LD B, 06
ED9A:		label PWAD_LOOP
ED9A:CD78ED	CALL ED78
ED9D:1C		INC E
ED9E:10FA	DJNZ ED9A
EDA0:		label PWAD_NEZRANUJ
EDA0:CD98E7	CALL E798
EDA3:C9		RET
		INCLUDE table.h
i_nw		EQU 0000
i_ne		EQU 0001
i_se		EQU 0002
i_sw		EQU 0003
CHODBA_VZ	EQU 0001
CHODBA_SJ	EQU 0000
TYP_DVERE_N	EQU 0004
TYP_DVERE_E	EQU 0005
TYP_DVERE_S	EQU 0006
TYP_DVERE_W	EQU 0007
TYP_ZARAZKA	EQU 00FF
EDA4:		label ADR_ZARAZKY
EDA4:C0EE	DEFW of 1 words
EDA6:		label TABLE_OBJECTS
EDA6:010C00	DEFB of 3 bytes
EDA9:060C01	DEFB of 3 bytes
EDAC:101019	DEFB of 3 bytes
EDAF:101114	DEFB of 3 bytes
EDB2:101219	DEFB of 3 bytes
EDB5:101316	DEFB of 3 bytes
EDB8:11101A	DEFB of 3 bytes
EDBB:111117	DEFB of 3 bytes
EDBE:11120A	DEFB of 3 bytes
EDC1:11130B	DEFB of 3 bytes
EDC4:158980	DEFB of 3 bytes
EDC7:201015	DEFB of 3 bytes
EDCA:201113	DEFB of 3 bytes
EDCD:201218	DEFB of 3 bytes
EDD0:201311	DEFB of 3 bytes
EDD3:21100C	DEFB of 3 bytes
EDD6:211106	DEFB of 3 bytes
EDD9:211207	DEFB of 3 bytes
EDDC:211317	DEFB of 3 bytes
EDDF:301019	DEFB of 3 bytes
EDE2:321204	DEFB of 3 bytes
EDE5:321302	DEFB of 3 bytes
EDE8:40101A	DEFB of 3 bytes
EDEB:40111A	DEFB of 3 bytes
EDEE:40121A	DEFB of 3 bytes
EDF1:40131A	DEFB of 3 bytes
EDF4:421010	DEFB of 3 bytes
EDF7:42111C	DEFB of 3 bytes
EDFA:42121D	DEFB of 3 bytes
EDFD:42131E	DEFB of 3 bytes
EE00:448980	DEFB of 3 bytes
EE03:50101A	DEFB of 3 bytes
EE06:50111A	DEFB of 3 bytes
EE09:50121A	DEFB of 3 bytes
EE0C:50131A	DEFB of 3 bytes
EE0F:521012	DEFB of 3 bytes
EE12:521108	DEFB of 3 bytes
EE15:52121B	DEFB of 3 bytes
EE18:52131D	DEFB of 3 bytes
EE1B:578401	DEFB of 3 bytes
EE1E:571016	DEFB of 3 bytes
EE21:57101D	DEFB of 3 bytes
EE24:57101D	DEFB of 3 bytes
EE27:57101D	DEFB of 3 bytes
EE2A:578500	DEFB of 3 bytes
EE2D:578700	DEFB of 3 bytes
EE30:57131A	DEFB of 3 bytes
EE33:571311	DEFB of 3 bytes
EE36:590100	DEFB of 3 bytes
EE39:005784	DEFB of 3 bytes
EE3C:5F0C00	DEFB of 3 bytes
EE3F:738C00	DEFB of 3 bytes
EE42:73121D	DEFB of 3 bytes
EE45:778401	DEFB of 3 bytes
EE48:778500	DEFB of 3 bytes
EE4B:778700	DEFB of 3 bytes
EE4E:810C01	DEFB of 3 bytes
EE51:840200	DEFB of 3 bytes
EE54:007784	DEFB of 3 bytes
EE57:8E8400	DEFB of 3 bytes
EE5A:8E8400	DEFB of 3 bytes
EE5D:8E8600	DEFB of 3 bytes
EE60:9EE400	DEFB of 3 bytes
EE63:9EE400	DEFB of 3 bytes
EE66:9EE600	DEFB of 3 bytes
EE69:B00C00	DEFB of 3 bytes
PAKA_A		EQU 00B9
PAKA_B		EQU 00BA
PAKA_C		EQU 00BB
PAKA_D		EQU 00BC
EE6C:B90200	DEFB of 3 bytes
EE6F:008E84	DEFB of 3 bytes
EE72:009EE4	DEFB of 3 bytes
EE75:00BA82	DEFB of 3 bytes
EE78:00BB82	DEFB of 3 bytes
EE7B:00BC82	DEFB of 3 bytes
EE7E:BA0200	DEFB of 3 bytes
EE81:009EC4	DEFB of 3 bytes
EE84:00BB82	DEFB of 3 bytes
EE87:BB0200	DEFB of 3 bytes
EE8A:009E64	DEFB of 3 bytes
EE8D:00BC82	DEFB of 3 bytes
EE90:BC0200	DEFB of 3 bytes
EE93:009EA4	DEFB of 3 bytes
EE96:00BA82	DEFB of 3 bytes
EE99:D80100	DEFB of 3 bytes
		IF (false)
- defb      0,                           216,      ZAM_1 + TYP_PREPINAC + west    ; prepne i paku na druhe strane
		ENDIF
EE9C:00E884	DEFB of 3 bytes
EE9F:D80300	DEFB of 3 bytes
		IF (false)
- defb      0,                           216,      ZAM_1 + TYP_PREPINAC + east    ; prepne i paku na druhe strane
		ENDIF
EEA2:00E884	DEFB of 3 bytes
EEA5:E88401	DEFB of 3 bytes
EEA8:E88500	DEFB of 3 bytes
EEAB:E88700	DEFB of 3 bytes
EEAE:F60C01	DEFB of 3 bytes
EEB1:F6101D	DEFB of 3 bytes
EEB4:F6111C	DEFB of 3 bytes
EEB7:F6121D	DEFB of 3 bytes
EEBA:F6131D	DEFB of 3 bytes
EEBD:FE0C00	DEFB of 3 bytes
EEC0:		label ZARAZKA
EEC0:FF		DEFB of 1 bytes
		End of INCLUDE
EEC1:		label END_CODE
		IF (false)
-     .error 'Kod preteka do zasobniku.'
		ENDIF
Emiting raw binary from 5F00 to EEC0
