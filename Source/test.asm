spritesStart	EQU 5F00
		INCLUDE sprites.h
Body_left	EQU 5F00
dno_bufferu	EQU 5FEA
D0		EQU 608F
D1		EQU 64CA
D2		EQU 66C5
D3		EQU 6826
ESA1		EQU 68A5
ES1		EQU 6ABE
ES2		EQU 6C61
ES3		EQU 6D5E
ES4		EQU 6DCA
FFace01		EQU 6E1B
FFace02		EQU 6EAE
FFace03		EQU 6F41
FFace04		EQU 6FD4
Flek		EQU 7067
H0		EQU 70DC
H0rune		EQU 779F
H1		EQU 77F6
H1rune		EQU 7AC9
H2		EQU 7AF2
H2rune		EQU 7C1D
H3		EQU 7C3C
H3rune		EQU 7CCF
H4		EQU 7CE6
H4m1		EQU 7DA9
H4m2		EQU 7E2C
H4m3		EQU 7ED7
H4m4		EQU 7F6A
H5		EQU 7FAD
I_ankh		EQU 802E
I_armor_ch	EQU 8067
I_armor_l	EQU 80A0
I_armor_p	EQU 80D9
I_axe		EQU 8112
I_bg		EQU 8143
I_bgm		EQU 817C
I_bone		EQU 81B5
I_book		EQU 81EE
I_boots		EQU 8227
I_bow		EQU 8260
I_bracers	EQU 8291
I_dagger	EQU 82CA
I_empty		EQU 82F3
I_helm		EQU 8324
I_helm_d	EQU 835D
I_mace		EQU 8396
I_necklace	EQU 83C9
I_potion_b	EQU 83F2
I_potion_g	EQU 841B
I_potion_r	EQU 8444
I_prostirani	EQU 846D
I_ram		EQU 84A6
I_rations	EQU 84BF
I_ring		EQU 84F8
I_ring_b	EQU 8521
I_ring_g	EQU 855A
I_ring_r	EQU 8593
I_ring_w	EQU 85CC
I_shield	EQU 8605
I_shield2	EQU 863E
I_sling		EQU 8677
I_sword		EQU 86A8
I_toulec	EQU 86D9
I_zakazano	EQU 8702
I0_armor	EQU 873B
I0_bone		EQU 8830
I0_unknwn	EQU 892B
I0_weapon	EQU 89A5
I1_armor	EQU 8A47
I1_bone		EQU 8AC2
I1_unknwn	EQU 8B47
I1_weapon	EQU 8B80
I2_armor	EQU 8BE1
I2_bone		EQU 8C0F
I2_unknwn	EQU 8C45
I2_weapon	EQU 8C5A
Kanal0		EQU 8C7F
Kanal1		EQU 8DEA
Kanal2		EQU 8E8F
Kanal3		EQU 8EDA
Kompas		EQU 8F01
Komp_E		EQU 9083
Komp_N		EQU 9123
Komp_S		EQU 91C3
Komp_W		EQU 9263
K1m1		EQU 9303
K2m1		EQU 949E
K3m1		EQU 9649
K4m2		EQU 9787
MFace01		EQU 9846
MFace02		EQU 98D9
MFace03		EQU 996C
MFace04		EQU 99FF
miss		EQU 9A92
Pdl1		EQU 9AFB
Pdl2		EQU 9B2C
Pdl3		EQU 9B53
Pd0		EQU 9B68
Pd1		EQU 9BDB
Pd2		EQU 9C3A
Pd3		EQU 9C61
Pul1		EQU 9C88
Pul2		EQU 9CC1
Pul3		EQU 9CF2
Pu0		EQU 9D07
Pu1		EQU 9D7A
Pu2		EQU 9DD9
Pu3		EQU 9E12
R0		EQU 9E31
R1		EQU A250
R1m1		EQU A643
R2		EQU A6B2
R2m1		EQU A8B5
R3		EQU A998
R3m1		EQU AA79
R4		EQU AB3A
S_doleva	EQU ABBD
S_doprava	EQU ABE4
S_dopredu	EQU AC0B
S_dozadu	EQU AC32
S_vlevo		EQU AC59
S_vpravo	EQU AC80
S_vsechny	EQU ACA7
V0m1		EQU ADE5
V3m2		EQU AE66
V4m1		EQU AEF8
V4m3		EQU AF5B
Seg_Screen	EQU 0040
Adr_Screen	EQU 4000
Seg_Attr_Screen	EQU 0058
Adr_Attr_Screen	EQU 5800
Seg_Buffer	EQU 00B0
Adr_Buffer	EQU B000
Seg_Attr_Buffer	EQU 00C8
Adr_Attr_Buffer	EQU C800
Adr_Buf_end	EQU CB00
Xm5		EQU FB00
Xm4		EQU FC00
Xm3		EQU FD00
Xm2		EQU FE00
Xm1		EQU FF00
X00		EQU 0000
X01		EQU 0100
X02		EQU 0200
X03		EQU 0300
X04		EQU 0400
X05		EQU 0500
X06		EQU 0600
X07		EQU 0700
X08		EQU 0800
X09		EQU 0900
X10		EQU 0A00
X11		EQU 0B00
X12		EQU 0C00
X13		EQU 0D00
X14		EQU 0E00
X15		EQU 0F00
X16		EQU 1000
X17		EQU 1100
X18		EQU 1200
X19		EQU 1300
X20		EQU 1400
X21		EQU 1500
X22		EQU 1600
X23		EQU 1700
X24		EQU 1800
X25		EQU 1900
X26		EQU 1A00
X27		EQU 1B00
X28		EQU 1C00
X29		EQU 1D00
X30		EQU 1E00
X31		EQU 1F00
Y00		EQU 0000
Y01		EQU 0020
Y02		EQU 0040
Y03		EQU 0060
Y04		EQU 0080
Y05		EQU 00A0
Y06		EQU 00C0
Y07		EQU 00E0
Y08		EQU 0009
Y09		EQU 0029
Y10		EQU 0049
Y11		EQU 0069
Y12		EQU 0089
Y13		EQU 00A9
Y14		EQU 00C9
Y15		EQU 00E9
Y16		EQU 0012
Y17		EQU 0032
Y18		EQU 0052
Y19		EQU 0072
Y20		EQU 0092
Y21		EQU 00B2
Y22		EQU 00D2
Y23		EQU 00F2
Z00		EQU 0004
Z01		EQU 0024
Z02		EQU 0044
Z03		EQU 0064
Z04		EQU 0084
Z05		EQU 00A4
Z06		EQU 00C4
Z07		EQU 00E4
Z08		EQU 000D
Z09		EQU 002D
Z10		EQU 004D
Z11		EQU 006D
Z12		EQU 008D
Z13		EQU 00AD
Z14		EQU 00CD
Z15		EQU 00ED
Z16		EQU 0016
Z17		EQU 0036
Z18		EQU 0056
Z19		EQU 0076
Z20		EQU 0096
Z21		EQU 00B6
Z22		EQU 00D6
Z23		EQU 00F6
		End of INCLUDE
		ORG 5F00
		INCBIN grafika.bin
progStart	EQU D000
		IF (false)
-     .error 'Pretikaji sprity do kodu!'
		ENDIF
		ORG D000
		INCLUDE zrcadlovy.h
D000:		label ZRCADLOVY
D000:00		DEFB of 1 bytes
D001:80		DEFB of 1 bytes
D002:40		DEFB of 1 bytes
D003:C0		DEFB of 1 bytes
D004:20		DEFB of 1 bytes
D005:A0		DEFB of 1 bytes
D006:60		DEFB of 1 bytes
D007:E0		DEFB of 1 bytes
D008:10		DEFB of 1 bytes
D009:90		DEFB of 1 bytes
D00A:50		DEFB of 1 bytes
D00B:D0		DEFB of 1 bytes
D00C:30		DEFB of 1 bytes
D00D:B0		DEFB of 1 bytes
D00E:70		DEFB of 1 bytes
D00F:F0		DEFB of 1 bytes
D010:08		DEFB of 1 bytes
D011:88		DEFB of 1 bytes
D012:48		DEFB of 1 bytes
D013:C8		DEFB of 1 bytes
D014:28		DEFB of 1 bytes
D015:A8		DEFB of 1 bytes
D016:68		DEFB of 1 bytes
D017:E8		DEFB of 1 bytes
D018:18		DEFB of 1 bytes
D019:98		DEFB of 1 bytes
D01A:58		DEFB of 1 bytes
D01B:D8		DEFB of 1 bytes
D01C:38		DEFB of 1 bytes
D01D:B8		DEFB of 1 bytes
D01E:78		DEFB of 1 bytes
D01F:F8		DEFB of 1 bytes
D020:04		DEFB of 1 bytes
D021:84		DEFB of 1 bytes
D022:44		DEFB of 1 bytes
D023:C4		DEFB of 1 bytes
D024:24		DEFB of 1 bytes
D025:A4		DEFB of 1 bytes
D026:64		DEFB of 1 bytes
D027:E4		DEFB of 1 bytes
D028:14		DEFB of 1 bytes
D029:94		DEFB of 1 bytes
D02A:54		DEFB of 1 bytes
D02B:D4		DEFB of 1 bytes
D02C:34		DEFB of 1 bytes
D02D:B4		DEFB of 1 bytes
D02E:74		DEFB of 1 bytes
D02F:F4		DEFB of 1 bytes
D030:0C		DEFB of 1 bytes
D031:8C		DEFB of 1 bytes
D032:4C		DEFB of 1 bytes
D033:CC		DEFB of 1 bytes
D034:2C		DEFB of 1 bytes
D035:AC		DEFB of 1 bytes
D036:6C		DEFB of 1 bytes
D037:EC		DEFB of 1 bytes
D038:1C		DEFB of 1 bytes
D039:9C		DEFB of 1 bytes
D03A:5C		DEFB of 1 bytes
D03B:DC		DEFB of 1 bytes
D03C:3C		DEFB of 1 bytes
D03D:BC		DEFB of 1 bytes
D03E:7C		DEFB of 1 bytes
D03F:FC		DEFB of 1 bytes
D040:02		DEFB of 1 bytes
D041:82		DEFB of 1 bytes
D042:42		DEFB of 1 bytes
D043:C2		DEFB of 1 bytes
D044:22		DEFB of 1 bytes
D045:A2		DEFB of 1 bytes
D046:62		DEFB of 1 bytes
D047:E2		DEFB of 1 bytes
D048:12		DEFB of 1 bytes
D049:92		DEFB of 1 bytes
D04A:52		DEFB of 1 bytes
D04B:D2		DEFB of 1 bytes
D04C:32		DEFB of 1 bytes
D04D:B2		DEFB of 1 bytes
D04E:72		DEFB of 1 bytes
D04F:F2		DEFB of 1 bytes
D050:0A		DEFB of 1 bytes
D051:8A		DEFB of 1 bytes
D052:4A		DEFB of 1 bytes
D053:CA		DEFB of 1 bytes
D054:2A		DEFB of 1 bytes
D055:AA		DEFB of 1 bytes
D056:6A		DEFB of 1 bytes
D057:EA		DEFB of 1 bytes
D058:1A		DEFB of 1 bytes
D059:9A		DEFB of 1 bytes
D05A:5A		DEFB of 1 bytes
D05B:DA		DEFB of 1 bytes
D05C:3A		DEFB of 1 bytes
D05D:BA		DEFB of 1 bytes
D05E:7A		DEFB of 1 bytes
D05F:FA		DEFB of 1 bytes
D060:06		DEFB of 1 bytes
D061:86		DEFB of 1 bytes
D062:46		DEFB of 1 bytes
D063:C6		DEFB of 1 bytes
D064:26		DEFB of 1 bytes
D065:A6		DEFB of 1 bytes
D066:66		DEFB of 1 bytes
D067:E6		DEFB of 1 bytes
D068:16		DEFB of 1 bytes
D069:96		DEFB of 1 bytes
D06A:56		DEFB of 1 bytes
D06B:D6		DEFB of 1 bytes
D06C:36		DEFB of 1 bytes
D06D:B6		DEFB of 1 bytes
D06E:76		DEFB of 1 bytes
D06F:F6		DEFB of 1 bytes
D070:0E		DEFB of 1 bytes
D071:8E		DEFB of 1 bytes
D072:4E		DEFB of 1 bytes
D073:CE		DEFB of 1 bytes
D074:2E		DEFB of 1 bytes
D075:AE		DEFB of 1 bytes
D076:6E		DEFB of 1 bytes
D077:EE		DEFB of 1 bytes
D078:1E		DEFB of 1 bytes
D079:9E		DEFB of 1 bytes
D07A:5E		DEFB of 1 bytes
D07B:DE		DEFB of 1 bytes
D07C:3E		DEFB of 1 bytes
D07D:BE		DEFB of 1 bytes
D07E:7E		DEFB of 1 bytes
D07F:FE		DEFB of 1 bytes
D080:01		DEFB of 1 bytes
D081:81		DEFB of 1 bytes
D082:41		DEFB of 1 bytes
D083:C1		DEFB of 1 bytes
D084:21		DEFB of 1 bytes
D085:A1		DEFB of 1 bytes
D086:61		DEFB of 1 bytes
D087:E1		DEFB of 1 bytes
D088:11		DEFB of 1 bytes
D089:91		DEFB of 1 bytes
D08A:51		DEFB of 1 bytes
D08B:D1		DEFB of 1 bytes
D08C:31		DEFB of 1 bytes
D08D:B1		DEFB of 1 bytes
D08E:71		DEFB of 1 bytes
D08F:F1		DEFB of 1 bytes
D090:09		DEFB of 1 bytes
D091:89		DEFB of 1 bytes
D092:49		DEFB of 1 bytes
D093:C9		DEFB of 1 bytes
D094:29		DEFB of 1 bytes
D095:A9		DEFB of 1 bytes
D096:69		DEFB of 1 bytes
D097:E9		DEFB of 1 bytes
D098:19		DEFB of 1 bytes
D099:99		DEFB of 1 bytes
D09A:59		DEFB of 1 bytes
D09B:D9		DEFB of 1 bytes
D09C:39		DEFB of 1 bytes
D09D:B9		DEFB of 1 bytes
D09E:79		DEFB of 1 bytes
D09F:F9		DEFB of 1 bytes
D0A0:05		DEFB of 1 bytes
D0A1:85		DEFB of 1 bytes
D0A2:45		DEFB of 1 bytes
D0A3:C5		DEFB of 1 bytes
D0A4:25		DEFB of 1 bytes
D0A5:A5		DEFB of 1 bytes
D0A6:65		DEFB of 1 bytes
D0A7:E5		DEFB of 1 bytes
D0A8:15		DEFB of 1 bytes
D0A9:95		DEFB of 1 bytes
D0AA:55		DEFB of 1 bytes
D0AB:D5		DEFB of 1 bytes
D0AC:35		DEFB of 1 bytes
D0AD:B5		DEFB of 1 bytes
D0AE:75		DEFB of 1 bytes
D0AF:F5		DEFB of 1 bytes
D0B0:0D		DEFB of 1 bytes
D0B1:8D		DEFB of 1 bytes
D0B2:4D		DEFB of 1 bytes
D0B3:CD		DEFB of 1 bytes
D0B4:2D		DEFB of 1 bytes
D0B5:AD		DEFB of 1 bytes
D0B6:6D		DEFB of 1 bytes
D0B7:ED		DEFB of 1 bytes
D0B8:1D		DEFB of 1 bytes
D0B9:9D		DEFB of 1 bytes
D0BA:5D		DEFB of 1 bytes
D0BB:DD		DEFB of 1 bytes
D0BC:3D		DEFB of 1 bytes
D0BD:BD		DEFB of 1 bytes
D0BE:7D		DEFB of 1 bytes
D0BF:FD		DEFB of 1 bytes
D0C0:03		DEFB of 1 bytes
D0C1:83		DEFB of 1 bytes
D0C2:43		DEFB of 1 bytes
D0C3:C3		DEFB of 1 bytes
D0C4:23		DEFB of 1 bytes
D0C5:A3		DEFB of 1 bytes
D0C6:63		DEFB of 1 bytes
D0C7:E3		DEFB of 1 bytes
D0C8:13		DEFB of 1 bytes
D0C9:93		DEFB of 1 bytes
D0CA:53		DEFB of 1 bytes
D0CB:D3		DEFB of 1 bytes
D0CC:33		DEFB of 1 bytes
D0CD:B3		DEFB of 1 bytes
D0CE:73		DEFB of 1 bytes
D0CF:F3		DEFB of 1 bytes
D0D0:0B		DEFB of 1 bytes
D0D1:8B		DEFB of 1 bytes
D0D2:4B		DEFB of 1 bytes
D0D3:CB		DEFB of 1 bytes
D0D4:2B		DEFB of 1 bytes
D0D5:AB		DEFB of 1 bytes
D0D6:6B		DEFB of 1 bytes
D0D7:EB		DEFB of 1 bytes
D0D8:1B		DEFB of 1 bytes
D0D9:9B		DEFB of 1 bytes
D0DA:5B		DEFB of 1 bytes
D0DB:DB		DEFB of 1 bytes
D0DC:3B		DEFB of 1 bytes
D0DD:BB		DEFB of 1 bytes
D0DE:7B		DEFB of 1 bytes
D0DF:FB		DEFB of 1 bytes
D0E0:07		DEFB of 1 bytes
D0E1:87		DEFB of 1 bytes
D0E2:47		DEFB of 1 bytes
D0E3:C7		DEFB of 1 bytes
D0E4:27		DEFB of 1 bytes
D0E5:A7		DEFB of 1 bytes
D0E6:67		DEFB of 1 bytes
D0E7:E7		DEFB of 1 bytes
D0E8:17		DEFB of 1 bytes
D0E9:97		DEFB of 1 bytes
D0EA:57		DEFB of 1 bytes
D0EB:D7		DEFB of 1 bytes
D0EC:37		DEFB of 1 bytes
D0ED:B7		DEFB of 1 bytes
D0EE:77		DEFB of 1 bytes
D0EF:F7		DEFB of 1 bytes
D0F0:0F		DEFB of 1 bytes
D0F1:8F		DEFB of 1 bytes
D0F2:4F		DEFB of 1 bytes
D0F3:CF		DEFB of 1 bytes
D0F4:2F		DEFB of 1 bytes
D0F5:AF		DEFB of 1 bytes
D0F6:6F		DEFB of 1 bytes
D0F7:EF		DEFB of 1 bytes
D0F8:1F		DEFB of 1 bytes
D0F9:9F		DEFB of 1 bytes
D0FA:5F		DEFB of 1 bytes
D0FB:DF		DEFB of 1 bytes
D0FC:3F		DEFB of 1 bytes
D0FD:BF		DEFB of 1 bytes
D0FE:7F		DEFB of 1 bytes
D0FF:FF		DEFB of 1 bytes
		End of INCLUDE
		INCLUDE map.h
BIT_NEPRUCHOZI	EQU 0000
BIT_STENA	EQU 0001
D100:		label DUNGEON_MAP
D100:03030303	DEFB of 16 bytes
D104:03030203
D108:03030303
D10C:03030303
D110:00000300	DEFB of 16 bytes
D114:00000003
D118:00000003
D11C:00000003
D120:00000300	DEFB of 16 bytes
D124:00030000
D128:00030003
D12C:00030003
D130:00000000	DEFB of 16 bytes
D134:00000303
D138:03000000
D13C:00030003
D140:00000000	DEFB of 16 bytes
D144:00000303
D148:00000303
D14C:00030003
D150:00000000	DEFB of 16 bytes
D154:00000300
D158:00030000
D15C:00030003
D160:00000000	DEFB of 16 bytes
D164:00030303
D168:03000003
D16C:00030003
D170:03000002	DEFB of 16 bytes
D174:00000000
D178:00000000
D17C:00030003
D180:03020303	DEFB of 16 bytes
D184:03030303
D188:03030003
D18C:03030003
D190:03000000	DEFB of 16 bytes
D194:00000000
D198:03000000
D19C:00030003
D1A0:03000300	DEFB of 16 bytes
D1A4:03000000
D1A8:03000000
D1AC:00030003
D1B0:03000000	DEFB of 16 bytes
D1B4:00000000
D1B8:03030303
D1BC:03030003
D1C0:03000300	DEFB of 16 bytes
D1C4:03000000
D1C8:03000000
D1CC:03030000
D1D0:03000000	DEFB of 16 bytes
D1D4:00000000
D1D8:03000000
D1DC:00000000
D1E0:03000000	DEFB of 16 bytes
D1E4:00000000
D1E8:00000000
D1EC:03030000
D1F0:03030303	DEFB of 16 bytes
D1F4:03030203
D1F8:03030303
D1FC:03030303
sirka		EQU 0010
		End of INCLUDE
dopredu		EQU 0000
dozadu		EQU 0004
vlevo		EQU 0008
vpravo		EQU 000C
D200:		label VEKTORY_POHYBU
D200:F00110FF	DEFB of 4 bytes
D204:10FFF001	DEFB of 4 bytes
D208:FFF00110	DEFB of 4 bytes
D20C:0110FFF0	DEFB of 4 bytes
		IF (false)
-     .error      'Seznam VEKTORY_POHYBU neleze na zacatku segmentu!'
		ENDIF
PRIZNAK_OTEVRENY_INVENTAR EQU 0001
D210:		label PRIZNAKY
D210:00		DEFB of 1 bytes
D211:		label MAIN
D211:CD7DEA	CALL EA7D
D214:F3		DI
D215:ED56	IM 1
D217:FB		EI
D218:3E0C	LD A, 0C
D21A:21095C	LD HL, 5C09
D21D:77		LD (HL), A
D21E:2D		DEC L
D21F:3600	LD (HL), 00
D221:010420	LD BC, 2004
D224:21805A	LD HL, 5A80
D227:CDCFEB	CALL EBCF
D22A:CD44EB	CALL EB44
D22D:CD31E8	CALL E831
D230:		label MAIN_LOOP
D230:11018F	LD DE, 8F01
D233:01E907	LD BC, 07E9
D236:CD91E0	CALL E091
D239:CDFFE6	CALL E6FF
D23C:CD01E8	CALL E801
D23F:2003	JR NZ, D244
D241:CDE7EC	CALL ECE7
D244:		label MAIN_OTEVRENY_INVENTAR
D244:CD61EB	CALL EB61
D247:11A7AC	LD DE, ACA7
D24A:01E900	LD BC, 00E9
D24D:CD91E0	CALL E091
D250:CD04ED	CALL ED04
D253:CDA7EA	CALL EAA7
D256:CDDAE2	CALL E2DA
D259:C330D2	JP D230
D25C:		label POSTAVA_PLUS
D25C:2173D4	LD HL, D473
D25F:7E		LD A, (HL)
D260:2B		DEC HL
D261:34		INC (HL)
D262:96		SUB (HL)
D263:C0		RET NZ
D264:77		LD (HL), A
D265:C9		RET
D266:		label POSTAVA_MINUS
D266:2173D4	LD HL, D473
D269:7E		LD A, (HL)
D26A:2B		DEC HL
D26B:35		DEC (HL)
D26C:F0		RET P
D26D:3D		DEC A
D26E:77		LD (HL), A
D26F:C9		RET
		INCLUDE input.h
TIMER_ADR	EQU 5C78
LAST_KEY_ADR	EQU 5C08
REPEAT_READING_JOY EQU 0006
JOY_PORT	EQU 001F
FLOP_BIT_ATTACK	EQU 0040
KEY_DOPREDU	EQU 0077
KEY_DOZADU	EQU 0073
KEY_VLEVO	EQU 0061
KEY_VPRAVO	EQU 0064
KEY_DOLEVA	EQU 0071
KEY_DOPRAVA	EQU 0065
KEY_SPACE	EQU 0020
KEY_INVENTAR	EQU 0069
KEY_FHAND	EQU 0072
KEY_SHAND	EQU 0066
KEY_PLUS	EQU 006B
KEY_MINUS	EQU 006A
stisknuto_dopredu EQU 0000
stisknuto_dozadu EQU 0001
stisknuto_vlevo	EQU 0002
stisknuto_vpravo EQU 0003
D270:		label DATA_KEMPSTON
D270:0164	DEFB of 2 bytes
D272:0261	DEFB of 2 bytes
D274:0965	DEFB of 2 bytes
D276:0A71	DEFB of 2 bytes
D278:0473	DEFB of 2 bytes
D27A:0877	DEFB of 2 bytes
D27C:1020	DEFB of 2 bytes
D27E:0569	DEFB of 2 bytes
D280:0669	DEFB of 2 bytes
D282:116B	DEFB of 2 bytes
D284:126A	DEFB of 2 bytes
D286:1872	DEFB of 2 bytes
D288:1466	DEFB of 2 bytes
D28A:		label DATA_KEMPSTON_END
D28A:00		DEFB of 1 bytes
DATA_KEMPSTON_SUM EQU 000D
		End of INCLUDE
D28B:		label BOJ
		IF (true)
D28B:D672	SUB 72
		ELSE (false)
-     add     256-KEY_SHAND               ; carry pokud KEY_SHAND
		ENDIF
D28D:3A72D4	LD A, (D472)
D290:8F		ADC A, A
D291:CD53EA	CALL EA53
D294:42		LD B, D
D295:4B		LD C, E
D296:11929A	LD DE, 9A92
D299:CD6EE0	CALL E06E
D29C:CD91E0	CALL E091
D29F:CD5DE0	CALL E05D
D2A2:C9		RET
		ORG D300
		INCLUDE font.h
D300:		label PISMO_5PX
D300:00000000	DEFB of 5 bytes
D304:00
D305:003A0000	DEFB of 5 bytes
D309:00
D30A:00600060	DEFB of 5 bytes
D30E:00
D30F:143E143E	DEFB of 5 bytes
D313:14
D314:00122A6B	DEFB of 5 bytes
D318:24
D319:32340816	DEFB of 5 bytes
D31D:26
D31E:00143A14	DEFB of 5 bytes
D322:0A
D323:00006000	DEFB of 5 bytes
D327:00
D328:00003C42	DEFB of 5 bytes
D32C:00
D32D:0000423C	DEFB of 5 bytes
D331:00
D332:00140814	DEFB of 5 bytes
D336:00
D337:00081C08	DEFB of 5 bytes
D33B:00
D33C:00020400	DEFB of 5 bytes
D340:00
D341:00080808	DEFB of 5 bytes
D345:00
D346:00020000	DEFB of 5 bytes
D34A:00
D34B:02040810	DEFB of 5 bytes
D34F:20
D350:001C262A	DEFB of 5 bytes
D354:1C
D355:00123E02	DEFB of 5 bytes
D359:00
D35A:00262A2A	DEFB of 5 bytes
D35E:12
D35F:00222A2A	DEFB of 5 bytes
D363:14
D364:003C040E	DEFB of 5 bytes
D368:04
D369:003A2A2A	DEFB of 5 bytes
D36D:24
D36E:001C2A2A	DEFB of 5 bytes
D372:04
D373:00202628	DEFB of 5 bytes
D377:30
D378:00142A2A	DEFB of 5 bytes
D37C:14
D37D:00102A2A	DEFB of 5 bytes
D381:1C
D382:00001400	DEFB of 5 bytes
D386:00
D387:00021400	DEFB of 5 bytes
D38B:00
D38C:00081422	DEFB of 5 bytes
D390:00
D391:00141414	DEFB of 5 bytes
D395:00
D396:00221408	DEFB of 5 bytes
D39A:00
D39B:0010202A	DEFB of 5 bytes
D39F:10
D3A0:001C223A	DEFB of 5 bytes
D3A4:1A
D3A5:001E2828	DEFB of 5 bytes
D3A9:1E
D3AA:003E2A2A	DEFB of 5 bytes
D3AE:14
D3AF:001C2222	DEFB of 5 bytes
D3B3:22
D3B4:003E2222	DEFB of 5 bytes
D3B8:1C
D3B9:003E2A2A	DEFB of 5 bytes
D3BD:22
D3BE:003E2828	DEFB of 5 bytes
D3C2:20
D3C3:001C222A	DEFB of 5 bytes
D3C7:0C
D3C8:003E0808	DEFB of 5 bytes
D3CC:3E
D3CD:00223E22	DEFB of 5 bytes
D3D1:00
D3D2:00040202	DEFB of 5 bytes
D3D6:3C
D3D7:003E0814	DEFB of 5 bytes
D3DB:22
D3DC:003E0202	DEFB of 5 bytes
D3E0:02
D3E1:003E1010	DEFB of 5 bytes
D3E5:3E
D3E6:003E1008	DEFB of 5 bytes
D3EA:3E
D3EB:001C2222	DEFB of 5 bytes
D3EF:1C
D3F0:003E2828	DEFB of 5 bytes
D3F4:10
D3F5:001C2226	DEFB of 5 bytes
D3F9:1E
D3FA:003E2828	DEFB of 5 bytes
D3FE:16
D3FF:00122A2A	DEFB of 5 bytes
D403:24
D404:00203E20	DEFB of 5 bytes
D408:20
D409:003C0202	DEFB of 5 bytes
D40D:3C
D40E:003E0204	DEFB of 5 bytes
D412:38
D413:003E0404	DEFB of 5 bytes
D417:3E
D418:00360808	DEFB of 5 bytes
D41C:36
D41D:00380608	DEFB of 5 bytes
D421:30
D422:00262A2A	DEFB of 5 bytes
D426:32
D427:00007E42	DEFB of 5 bytes
D42B:00
D42C:20100804	DEFB of 5 bytes
D430:02
D431:0000427E	DEFB of 5 bytes
D435:00
D436:10204020	DEFB of 5 bytes
D43A:10
D43B:00020202	DEFB of 5 bytes
D43F:02
D440:00083E4A	DEFB of 5 bytes
D444:22
		IF (false)
-     .error 'Adresa pocatku fontu PISMO_5PX nelezi na pocatku segmentu'
		ENDIF
		End of INCLUDE
		INCLUDE typy.h
MASKA_PREPINACE	EQU 00E0
ZAM_1		EQU 0080
ZAM_2		EQU 0040
ZAM_3		EQU 0020
ZAM_12		EQU 00C0
ZAM_13		EQU 00A0
ZAM_23		EQU 0060
ZAM_123		EQU 00E0
MASKA_TYP	EQU 001C
MASKA_NATOCENI	EQU 0003
MASKA_PODTYP	EQU 001F
ODEMCENO	EQU 0000
POSUN_TYP	EQU 0004
POSUN_PODTYP	EQU 0001
TYP_PREPINAC	EQU 0000
PODTYP_PAKA	EQU 0000
PODTYP_TLACITKO	EQU 0001
PODTYP_TAJNE_TLACITKO EQU 0002
PODTYP_ZAMEK	EQU 0003
TYP_DVERE	EQU 0004
TYP_ENEMY	EQU 0008
PODTYP_SKRET	EQU 0000
PODTYP_PAVOUK	EQU 0001
PODTYP_TRPASLIK	EQU 0002
PODTYP_NEMRTVY	EQU 0003
TYP_DEKORACE	EQU 000C
PODTYP_KANAL	EQU 0000
PODTYP_RUNA	EQU 0001
PODTYP_RAM	EQU 0002
TYP_ITEM	EQU 0010
PODTYP_EMPTY	EQU 0000
PODTYP_RING	EQU 0001
PODTYP_RING_R	EQU 0002
PODTYP_RING_G	EQU 0003
PODTYP_RING_B	EQU 0004
PODTYP_RING_W	EQU 0005
PODTYP_HELM	EQU 0006
PODTYP_HELM_D	EQU 0007
PODTYP_NECKLACE	EQU 0008
PODTYP_ARMOR	EQU 0009
PODTYP_ARMOR_CH	EQU 000A
PODTYP_ARMOR_L	EQU 000B
PODTYP_ARMOR_P	EQU 000C
PODTYP_ARROW	EQU 000D
PODTYP_BRACERS	EQU 000E
PODTYP_BOOTS	EQU 000F
PODTYP_ANKH	EQU 0010
PODTYP_AXE	EQU 0011
PODTYP_BOOK	EQU 0012
PODTYP_BOW	EQU 0013
PODTYP_DAGGER	EQU 0014
PODTYP_MACE	EQU 0015
PODTYP_SHIELD	EQU 0016
PODTYP_SHIELD2	EQU 0017
PODTYP_SLING	EQU 0018
PODTYP_SWORD	EQU 0019
PODTYP_BONE	EQU 001A
PODTYP_FOOD	EQU 001B
PODTYP_POTION_R	EQU 001C
PODTYP_POTION_G	EQU 001D
PODTYP_POTION_B	EQU 001E
FOOD_HEALING	EQU 0014
		End of INCLUDE
		INCLUDE move.h
north		EQU 0000
east		EQU 0001
south		EQU 0002
west		EQU 0003
D445:		label LOCATION
D445:34		DEFB of 1 bytes
D446:		label VECTOR
D446:00		DEFB of 1 bytes
D447:		label POHYB
D447:00		DEFB of 1 bytes
D448:		label POSUN_VLEVO_INVENTAREM
D448:02F1	DEFB of 2 bytes
D44A:031B	DEFB of 2 bytes
D44C:051A	DEFB of 2 bytes
D44E:0619	DEFB of 2 bytes
D450:0714	DEFB of 2 bytes
D452:080F	DEFB of 2 bytes
D454:15F8	DEFB of 2 bytes
D456:17F9	DEFB of 2 bytes
D458:1BFB	DEFB of 2 bytes
D45A:1DFD	DEFB of 2 bytes
D45C:1FFE	DEFB of 2 bytes
D45E:		label POSUN_VPRAVO_INVENTAREM
D45E:0D08	DEFB of 2 bytes
D460:1107	DEFB of 2 bytes
D462:1206	DEFB of 2 bytes
D464:1605	DEFB of 2 bytes
D466:1710	DEFB of 2 bytes
D468:1804	DEFB of 2 bytes
D46A:1A03	DEFB of 2 bytes
D46C:1B0B	DEFB of 2 bytes
D46E:1D02	DEFB of 2 bytes
D470:1F05	DEFB of 2 bytes
D472:		label POSUN_VLEVO_INVENTAREM_END
		End of INCLUDE
		IF (false)
		ENDIF
		INCLUDE objects.h
KONTROLUJ_NATOCENI_U_PREPINACU EQU 0000
NEXT_PAKA	EQU 0078
PAKA_DOWN	EQU 003C
NEXT_ENEMY	EQU 0048
		IF (false)
- i_ld        equ     0       ; predmet vidim jako levy-dal
- i_pd        equ     2       ; predmet vidim jako pravy-dal
- i_pb        equ     4       ; predmet vidim jako pravy-bliz
- i_lb        equ     6       ; predmet vidim jako levy-bliz
		ENDIF
D472:		label HLAVNI_POSTAVA
D472:00		DEFB of 1 bytes
D473:		label SUM_POSTAV
D473:06		DEFB of 1 bytes
D474:		label BORDER
D474:00		DEFB of 1 bytes
D475:		label POZICE_RUKOU
D475:2016	DEFW of 1 words
D477:6016	DEFW of 1 words
D479:201D	DEFW of 1 words
D47B:601D	DEFW of 1 words
D47D:0916	DEFW of 1 words
D47F:4916	DEFW of 1 words
D481:091D	DEFW of 1 words
D483:491D	DEFW of 1 words
D485:E916	DEFW of 1 words
D487:3216	DEFW of 1 words
D489:E91D	DEFW of 1 words
D48B:321D	DEFW of 1 words
D48D:		label POZICE_RUKOU_END
SIPKY_POZICE	EQU 00E9
KOMPAS_POZICE	EQU 07E9
D48D:		label AVATARS
D48D:D9982012	DEFW of 4 words
D491:AE6E2019
D495:416F0912	DEFW of 4 words
D499:D46F0919
D49D:4698E912	DEFW of 4 words
D4A1:1B6EE919
D4A5:		label KOMPAS
D4A5:018FE907	DEFW of 2 words
D4A9:		label SIPKY
D4A9:A7ACE900	DEFW of 2 words
D4AD:		label STISKNUTA_SIPKA
D4AD:0BACE903	DEFW of 2 words
D4B1:32AC3203	DEFW of 2 words
D4B5:59AC3201	DEFW of 2 words
D4B9:80AC3205	DEFW of 2 words
D4BD:BDABE901	DEFW of 2 words
D4C1:E4ABE905	DEFW of 2 words
D4C5:00000000	DEFW of 2 words
D4C9:		label SIPKY_END
SIPKA_DOPREDU	EQU 0000
SIPKA_DOZADU	EQU 0004
SIPKA_VLEVO	EQU 0008
SIPKA_VPRAVO	EQU 000C
SIPKA_OTOCDOLEVA EQU 0010
SIPKA_OTOCDOPRAVA EQU 0014
SIPKA_NIC	EQU 0018
D4C9:		label RUZICE
D4C9:2391E908	DEFW of 2 words
D4CD:8390E908	DEFW of 2 words
D4D1:C391E908	DEFW of 2 words
D4D5:6392E908	DEFW of 2 words
D4D9:		label RUZICE_END
ENEMY_ATTACK_DISTANCE EQU 000C
D4D9:		label ENEMY_GROUP
D4D9:00000000	DEFW of 12 words
D4DD:00000000
D4E1:00000000
D4E5:00000000
D4E9:00000000
D4ED:00000000
D4F1:A003A00A	DEFW of 12 words
D4F5:80048009
D4F9:A0110000
D4FD:80100000
D501:0000A0FC
D505:000080FD
D509:A005A00A	DEFW of 12 words
D50D:80068009
D511:A00F0000
D515:800E0000
D519:0000A000
D51D:00008001
D521:A006A009	DEFW of 12 words
D525:A007A008
D529:A00DA00F
D52D:A00CA00E
D531:A000A002
D535:A001A003
D539:84088009	DEFW of 12 words
D53D:8409840A
D541:840C840E
D545:800A840D
D549:80038005
D54D:80048407
D551:		label DIV_6
D551:00000000	DEFW of 6 words
D555:00000000
D559:00000000
D55D:02000200	DEFW of 6 words
D561:02000200
D565:02000200
D569:04000400	DEFW of 6 words
D56D:04000400
D571:04000400
D575:06000600	DEFW of 6 words
D579:06000600
D57D:06000600
D581:08000800	DEFW of 6 words
D585:08000800
D589:08000800
D58D:		label ITEM_POZICE
D58D:89008D11	DEFW of 12 words
D591:00000000
D595:00000000
D599:00000000
D59D:00000000
D5A1:00000000
D5A5:49044D0D	DEFW of 12 words
D5A9:6D0E6903
D5AD:49100000
D5B1:00006911
D5B5:00004D01
D5B9:6D000000
D5BD:09060D0B	DEFW of 12 words
D5C1:2D0C2905
D5C5:090D0D12
D5C9:2D13290E
D5CD:09FF0D04
D5D1:2D0329FE
D5D5:00000000	DEFW of 12 words
D5D9:00000000
D5DD:00000000
D5E1:00000000
D5E5:00000000
D5E9:00000000
D5ED:00000000	DEFW of 12 words
D5F1:00000000
D5F5:00000000
D5F9:00000000
D5FD:00000000
D601:00000000
MAX_VIDITELNOST_PREDMETU_PLUS_1 EQU 003C
		End of INCLUDE
		INCLUDE inventory.h
MAX_INVENTORY	EQU 001F
MAX_HOLD_INVENTORY EQU 001B
COLOR_OTHER_PLAYERS EQU 0007
COLOR_ACTIVE_PLAYER EQU 0003
D605:		label INVENTORY_ITEMS
D605:0C161B1B	DEFB of 16 bytes
D609:10000000
D60D:00000000
D611:00000000
D615:0007000A	DEFB of 15 bytes
D619:11000F00
D61D:00160405
D621:040302
D624:1B140000	DEFB of 16 bytes
D628:10000000
D62C:00000000
D630:00000000
D634:0006080C	DEFB of 15 bytes
D638:19020000
D63C:0E160000
D640:000000
D643:1C1C1D1E	DEFB of 16 bytes
D647:10000000
D64B:14000000
D64F:00000000
D653:0000080B	DEFB of 15 bytes
D657:15000F00
D65B:00100000
D65F:000000
D662:14171B00	DEFB of 16 bytes
D666:18000000
D66A:00000000
D66E:00000000
D672:00000000	DEFB of 15 bytes
D676:14050F00
D67A:00140000
D67E:000000
D681:14160000	DEFB of 16 bytes
D685:1A000000
D689:00000013
D68D:00000000
D691:00000000	DEFB of 15 bytes
D695:13000000
D699:00000000
D69D:000000
D6A0:14160000	DEFB of 16 bytes
D6A4:00000015
D6A8:00000000
D6AC:00000000
D6B0:00000800	DEFB of 15 bytes
D6B4:00030000
D6B8:00120100
D6BC:000000
D6BF:		label INVENTORY_ITEMS_END
D6BF:		label ITEM2SPRITE
D6BF:0000	DEFW of 1 words
D6C1:F884	DEFW of 1 words
D6C3:9385	DEFW of 1 words
D6C5:5A85	DEFW of 1 words
D6C7:2185	DEFW of 1 words
D6C9:CC85	DEFW of 1 words
MAX_RING_PLUS_1	EQU 0006
D6CB:2483	DEFW of 1 words
D6CD:5D83	DEFW of 1 words
D6CF:C983	DEFW of 1 words
MIN_ARMOR	EQU 0009
D6D1:0000	DEFW of 1 words
D6D3:6780	DEFW of 1 words
D6D5:A080	DEFW of 1 words
D6D7:D980	DEFW of 1 words
MAX_ARMOR_PLUS_1 EQU 000D
D6D9:0000	DEFW of 1 words
D6DB:9182	DEFW of 1 words
D6DD:2782	DEFW of 1 words
D6DF:2E80	DEFW of 1 words
D6E1:1281	DEFW of 1 words
D6E3:EE81	DEFW of 1 words
D6E5:6082	DEFW of 1 words
D6E7:CA82	DEFW of 1 words
D6E9:9683	DEFW of 1 words
D6EB:0586	DEFW of 1 words
D6ED:3E86	DEFW of 1 words
D6EF:7786	DEFW of 1 words
D6F1:A886	DEFW of 1 words
D6F3:B581	DEFW of 1 words
MIN_FOOD	EQU 001B
D6F5:BF84	DEFW of 1 words
D6F7:4484	DEFW of 1 words
D6F9:1B84	DEFW of 1 words
D6FB:F283	DEFW of 1 words
D6FD:		label ITEM2SPRITE_END
D6FD:		label PRESOUVANY_PREDMET
D6FD:00		DEFB of 1 bytes
D6FE:		label KURZOR_V_INVENTARI
D6FE:00		DEFB of 1 bytes
POZICE_PROSTIRANI EQU 1980
POZICE_HLAVA	EQU 1AE0
POZICE_NAHRDELNIK EQU 1A29
POZICE_BRNENI	EQU 1A69
POZICE_LPRSTEN	EQU 1812
POZICE_BOTY	EQU 1A52
POZICE_TOULEC	EQU 1D29
POZICE_NATEPNIK	EQU 1D69
POZICE_PPRSTEN	EQU 1C12
D6FF:		label POZICE_V_INVENTARI
D6FF:8012C012	DEFW of 8 words
D703:09124912
D707:8912C912
D70B:12125212
D70F:8015C015	DEFW of 8 words
D713:09154915
D717:8915C915
D71B:12155215
D71F:		label PROSTIRANI
D71F:8019	DEFW of 1 words
D721:E01A	DEFW of 1 words
D723:291A	DEFW of 1 words
D725:691A	DEFW of 1 words
D727:A918	DEFW of 1 words
D729:1218	DEFW of 1 words
D72B:521A	DEFW of 1 words
D72D:291D	DEFW of 1 words
D72F:691D	DEFW of 1 words
D731:A91C	DEFW of 1 words
D733:121C	DEFW of 1 words
D735:		label POZICE_V_INVENTARI_HOLD_END
D735:6904	DEFW of 1 words
D737:A902	DEFW of 1 words
D739:690B	DEFW of 1 words
D73B:A90D	DEFW of 1 words
D73D:		label POZICE_V_INVENTARI_END
INDEX_PROSTIRANI EQU 0011
INDEX_HLAVA	EQU 0012
INDEX_NAHRDELNIK EQU 0013
INDEX_BRNENI	EQU 0014
INDEX_LRUKA	EQU 0015
INDEX_LPRSTEN	EQU 0016
INDEX_BOTY	EQU 0017
INDEX_TOULEC	EQU 0018
INDEX_NATEPNIK	EQU 0019
INDEX_PRUKA	EQU 001A
INDEX_PPRSTEN	EQU 001B
INDEX_ZEM_LU_M1	EQU 001B
INDEX_ZEM_LD_M1	EQU 001C
INDEX_ZEM_RU_M1	EQU 001D
INDEX_ZEM_RD_M1	EQU 001E
D73D:		label POVOLENE_POZICE
D73D:16		DEFB of 1 bytes
D73E:16		DEFB of 1 bytes
D73F:16		DEFB of 1 bytes
D740:16		DEFB of 1 bytes
D741:16		DEFB of 1 bytes
D742:12		DEFB of 1 bytes
D743:12		DEFB of 1 bytes
D744:13		DEFB of 1 bytes
D745:14		DEFB of 1 bytes
D746:14		DEFB of 1 bytes
D747:14		DEFB of 1 bytes
D748:14		DEFB of 1 bytes
D749:18		DEFB of 1 bytes
D74A:19		DEFB of 1 bytes
D74B:17		DEFB of 1 bytes
D74C:15		DEFB of 1 bytes
D74D:15		DEFB of 1 bytes
D74E:15		DEFB of 1 bytes
D74F:15		DEFB of 1 bytes
D750:15		DEFB of 1 bytes
D751:15		DEFB of 1 bytes
D752:15		DEFB of 1 bytes
D753:15		DEFB of 1 bytes
D754:15		DEFB of 1 bytes
D755:15		DEFB of 1 bytes
D756:15		DEFB of 1 bytes
D757:11		DEFB of 1 bytes
D758:11		DEFB of 1 bytes
D759:11		DEFB of 1 bytes
D75A:11		DEFB of 1 bytes
D75B:		label POVOLENE_POZICE_END
D75B:		label DATA_ZIVOTY
D75B:848401B4	DEFB of 7 bytes
D75F:C80000
D762:5A5A01BB	DEFB of 7 bytes
D766:C80000
D769:40400194	DEFB of 7 bytes
D76D:C90000
D770:2828019B	DEFB of 7 bytes
D774:C90000
D777:2E2E0174	DEFB of 7 bytes
D77B:CA0000
D77E:2828017B	DEFB of 7 bytes
D782:CA0000
D785:		label DATA_ZIVOTY_END
		End of INCLUDE
		INCLUDE draw3D.h
BIT_ZRCADLOVE	EQU 0002
MASKA_ZRCADLOVE	EQU 0004
D785:		label TABLE_VIEW_9_DEPTH_4
D785:6A7F6411	DEFW of 8 words
D789:00000000
D78D:6A7F6000
D791:00000000
D795:D77E6411	DEFW of 8 words
D799:00000000
D79D:D77E6000
D7A1:00000000
D7A5:2C7E640F	DEFW of 8 words
D7A9:00000000
D7AD:2C7E6002
D7B1:00000000
D7B5:A97D640C	DEFW of 10 words
D7B9:00000000
D7BD:A97D6005
D7C1:00000000
D7C5:E67C6007
D7C9:		label TABLE_VIEW_7_DEPTH_3
D7C9:5BAF6411	DEFW of 8 words
D7CD:00000000
D7D1:5BAF6000
D7D5:00000000
D7D9:87976411	DEFW of 8 words
D7DD:00000000
D7E1:87976000
D7E5:00000000
D7E9:3C7C640E	DEFW of 10 words
D7ED:F8AE640B
D7F1:3C7C6003
D7F5:F8AE6006
D7F9:3C7C6007
D7FD:		label TABLE_VIEW_5_DEPTH_2
D7FD:66AE6411	DEFW of 8 words
D801:00000000
D805:66AE6000
D809:00000000
D80D:49966411	DEFW of 10 words
D811:00000000
D815:49966000
D819:00000000
D81D:F27A6005
D821:		label TABLE_DEPTH_1
D821:9E944411	DEFW of 10 words
D825:00000000
D829:9E944000
D82D:00000000
D831:F6774004
D835:		label TABLE_DEPTH_0
D835:03932411	DEFW of 10 words
D839:00000000
D83D:03932000
D841:00000000
D845:DC702001
D849:		label TABLE_DEPTH_x
D849:E5AD0411	DEFW of 10 words
D84D:00000000
D851:E5AD0000
D855:00000000
D859:00000000
D85D:		label PAKY_TABLE
D85D:00000000	DEFW of 6 words
D861:00000000
D865:00000000
D869:079D4007	DEFW of 6 words
D86D:00000000
D871:00000000
D875:7A9D6007	DEFW of 6 words
D879:00000000
D87D:00000000
D881:D99D6008	DEFW of 6 words
D885:D99D640F
D889:D99D6002
D88D:129E6008	DEFW of 6 words
D891:129E640D
D895:129E6004
D899:00000000	DEFW of 6 words
D89D:00000000
D8A1:00000000
D8A5:689B8007	DEFW of 6 words
D8A9:00000000
D8AD:00000000
D8B1:DB9B8007	DEFW of 6 words
D8B5:00000000
D8B9:00000000
D8BD:3A9C8008	DEFW of 6 words
D8C1:3A9C840F
D8C5:3A9C8002
D8C9:619C8008	DEFW of 6 words
D8CD:619C840D
D8D1:619C8004
D8D5:00000000	DEFW of 6 words
D8D9:00000000
D8DD:00000000
D8E1:00000000	DEFW of 6 words
D8E5:00000000
D8E9:889C6002
D8ED:00000000	DEFW of 6 words
D8F1:00000000
D8F5:C19C6004
D8F9:00000000	DEFW of 6 words
D8FD:00000000
D901:F29C8006
D905:00000000	DEFW of 6 words
D909:00000000
D90D:00008007
D911:00000000	DEFW of 6 words
D915:00000000
D919:00000000
D91D:00000000	DEFW of 6 words
D921:00000000
D925:FB9A8002
D929:00000000	DEFW of 6 words
D92D:00000000
D931:2C9B8004
D935:00000000	DEFW of 6 words
D939:00000000
D93D:539B8006
D941:00000000	DEFW of 6 words
D945:00000000
D949:00000000
D94D:00000000	DEFW of 6 words
D951:00000000
D955:00000000
D959:00000000	DEFW of 6 words
D95D:889C640F
D961:00000000
D965:00000000	DEFW of 6 words
D969:C19C640D
D96D:00000000
D971:00000000	DEFW of 6 words
D975:F29C840B
D979:00000000
D97D:00000000	DEFW of 6 words
D981:00000000
D985:00000000
D989:00000000	DEFW of 6 words
D98D:00000000
D991:00000000
D995:00000000	DEFW of 6 words
D999:FB9A840F
D99D:00000000
D9A1:00000000	DEFW of 6 words
D9A5:2C9B840D
D9A9:00000000
D9AD:00000000	DEFW of 6 words
D9B1:539B840B
D9B5:00000000
D9B9:00000000	DEFW of 6 words
D9BD:0000800A
D9C1:00000000
D9C5:		label DOOR_TABLE
D9C5:00000000	DEFW of 6 words
D9C9:00000000
D9CD:00000000
D9D1:8F604003	DEFW of 6 words
D9D5:00000000
D9D9:00000000
D9DD:CA646005	DEFW of 6 words
D9E1:CA64600F
D9E5:CA6460FB
D9E9:C5666006	DEFW of 6 words
D9ED:C566600C
D9F1:C5666000
D9F5:26688007	DEFW of 6 words
D9F9:2668800B
D9FD:26688003
DA01:		label RAM_TABLE
DA01:319E0004	DEFW of 6 words
DA05:00000000
DA09:00000000
DA0D:50A22001	DEFW of 6 words
DA11:43A62411
DA15:43A62000
DA19:B2A64004	DEFW of 6 words
DA1D:B5A84411
DA21:B5A84000
DA25:98A96006	DEFW of 6 words
DA29:98A9600C
DA2D:79AA6000
DA31:3AAB6007	DEFW of 6 words
DA35:3AAB600B
DA39:3AAB6003
NEXT_TYP_ENEMY	EQU 000A
DA3D:		label ENEMY_TABLE
DA3D:0000	DEFW of 1 words
DA3F:BE6A	DEFW of 1 words
DA41:616C	DEFW of 1 words
DA43:5E6D	DEFW of 1 words
DA45:CA6D	DEFW of 1 words
DA47:0000	DEFW of 1 words
DA49:A568	DEFW of 1 words
DA4B:0000	DEFW of 1 words
DA4D:0000	DEFW of 1 words
DA4F:0000	DEFW of 1 words
DA51:		label ITEM_TABLE
DA51:00000000	DEFW of 4 words
DA55:00000000
DA59:2B89478B	DEFW of 4 words
DA5D:458C0000
DA61:2B89478B	DEFW of 4 words
DA65:458C0000
DA69:2B89478B	DEFW of 4 words
DA6D:458C0000
DA71:2B89478B	DEFW of 4 words
DA75:458C0000
DA79:2B89478B	DEFW of 4 words
DA7D:458C0000
DA81:3B87478A	DEFW of 4 words
DA85:E18B0000
DA89:3B87478A	DEFW of 4 words
DA8D:E18B0000
DA91:2B89478B	DEFW of 4 words
DA95:458C0000
DA99:0000478A	DEFW of 4 words
DA9D:E18B0000
DAA1:3B87478A	DEFW of 4 words
DAA5:E18B0000
DAA9:3B87478A	DEFW of 4 words
DAAD:E18B0000
DAB1:3B87478A	DEFW of 4 words
DAB5:E18B0000
DAB9:2B89478B	DEFW of 4 words
DABD:458C0000
DAC1:2B89478B	DEFW of 4 words
DAC5:458C0000
DAC9:2B89478B	DEFW of 4 words
DACD:458C0000
DAD1:2B89478B	DEFW of 4 words
DAD5:458C0000
DAD9:A589808B	DEFW of 4 words
DADD:5A8C0000
DAE1:2B89478B	DEFW of 4 words
DAE5:458C0000
DAE9:A589808B	DEFW of 4 words
DAED:5A8C0000
DAF1:A589808B	DEFW of 4 words
DAF5:5A8C0000
DAF9:A589808B	DEFW of 4 words
DAFD:5A8C0000
DB01:3B87478A	DEFW of 4 words
DB05:E18B0000
DB09:3B87478A	DEFW of 4 words
DB0D:E18B0000
DB11:A589808B	DEFW of 4 words
DB15:5A8C0000
DB19:A589808B	DEFW of 4 words
DB1D:5A8C0000
DB21:3088C28A	DEFW of 4 words
DB25:0F8C0000
DB29:2B89478B	DEFW of 4 words
DB2D:458C0000
DB31:2B89478B	DEFW of 4 words
DB35:458C0000
DB39:2B89478B	DEFW of 4 words
DB3D:458C0000
DB41:2B89478B	DEFW of 4 words
DB45:458C0000
DB49:		label KANAL_TABLE
DB49:00000000	DEFW of 6 words
DB4D:00000000
DB51:00000000
DB55:7F8C0905	DEFW of 6 words
DB59:00000000
DB5D:00000000
DB61:EA8DE006	DEFW of 6 words
DB65:EA8DE010
DB69:EA8DE0FC
DB6D:8F8EC007	DEFW of 6 words
DB71:8F8EC00D
DB75:8F8EC001
DB79:DA8EA008	DEFW of 6 words
DB7D:DA8EA00C
DB81:DA8EA004
DB85:		label RUNE_TABLE
DB85:00000000	DEFW of 6 words
DB89:00000000
DB8D:00000000
DB91:9F778007	DEFW of 6 words
DB95:00000000
DB99:00000000
DB9D:C97A8007	DEFW of 6 words
DBA1:C97A8011
DBA5:00000000
DBA9:1D7C8008	DEFW of 6 words
DBAD:1D7C800E
DBB1:1D7C8002
DBB5:CF7C8008	DEFW of 6 words
DBB9:CF7C800C
DBBD:CF7C8004
		End of INCLUDE
		INCLUDE strings.h
DBC1:		label VETA_NO_WAY
DBC1:594F5520	DEFB of 23 bytes
DBC5:43414E27
DBC9:5420474F
DBCD:20544841
DBD1:54205741
DBD5:592E00
DBD8:		label VETA_NO_PUT
DBD8:594F5520	DEFB of 30 bytes
DBDC:43414E54
DBE0:20505554
DBE4:20544841
DBE8:54204954
DBEC:454D2054
DBF0:48455245
DBF4:2E00
DBF6:		label VETA_CASTS
DBF6:3F3F3F20	DEFB of 17 bytes
DBFA:43415354
DBFE:5320424C
DC02:4553532E
DC06:00
DC07:		label VETA_PRY_DOOR
DC07:4E4F204F	DEFB of 38 bytes
DC0B:4E452049
DC0F:53204142
DC13:4C452054
DC17:4F205052
DC1B:59205448
DC1F:49532044
DC23:4F4F5220
DC27:4F50454E
DC2B:2E00
DC2D:		label VETA_FORCES
DC2D:54484520	DEFB of 27 bytes
DC31:50415254
DC35:5920464F
DC39:52434553
DC3D:20544845
DC41:20444F4F
DC45:522E00
DC48:		label VETA_TAKEN
DC48:2054414B	DEFB of 8 bytes
DC4C:454E2E00
DC50:		label VETA_PUT
DC50:20574153	DEFB of 10 bytes
DC54:20505554
DC58:2E00
DC5A:		label VETA_DRINK
DC5A:20574153	DEFB of 12 bytes
DC5E:20445255
DC62:4E4B2E00
DC66:		label VETA_EAT
DC66:20574153	DEFB of 12 bytes
DC6A:20454154
DC6E:454E2E00
DC72:		label ARRAY_STRING_DEKORACE
DC72:534F4D45	DEFB of 48 bytes
DC76:5448494E
DC7A:47205343
DC7E:55525249
DC82:45532044
DC86:45455045
DC8A:5220494E
DC8E:544F2054
DC92:48452046
DC96:4C4F4F52
DC9A:20445241
DC9E:494E2E00
DCA2:54484953	DEFB of 27 bytes
DCA6:2052554E
DCAA:45204953
DCAE:20554E52
DCB2:45434F47
DCB6:4E495A45
DCBA:442E00
DCBD:		label ARRAY_STRING_PREPINACE
DCBD:594F5520	DEFB of 24 bytes
DCC1:53574954
DCC5:43484544
DCC9:20544845
DCCD:204C4556
DCD1:45522E00
DCD5:594F5520	DEFB of 24 bytes
DCD9:50524553
DCDD:53454420
DCE1:54484520
DCE5:42555454
DCE9:4F4E2E00
DCED:594F5520	DEFB of 29 bytes
DCF1:50524553
DCF5:53454420
DCF9:54484520
DCFD:48494445
DD01:20425554
DD05:544F4E2E
DD09:00
DD0A:594F5520	DEFB of 23 bytes
DD0E:53574954
DD12:43484544
DD16:20544845
DD1A:204C4F43
DD1E:4B2E00
DD21:		label VETA_11
DD21:54484953	DEFB of 47 bytes
DD25:20534C49
DD29:4D592C20
DD2D:534D454C
DD31:4C592044
DD35:5241494E
DD39:20504950
DD3D:45205245
DD41:5645414C
DD45:53204E4F
DD49:5448494E
DD4D:472E00
DD50:		label VETA_13
DD50:54484552	DEFB of 32 bytes
DD54:45204953
DD58:20412044
DD5C:5241494E
DD60:41474520
DD64:47524154
DD68:45204845
DD6C:52452E00
DD70:		label VETA_14
DD70:4F4E4C59	DEFB of 28 bytes
DD74:20544845
DD78:20535452
DD7C:4F4E4720
DD80:5348414C
DD84:4C205041
DD88:53532E00
DD8C:		label VETA_15
DD8C:57415443	DEFB of 17 bytes
DD90:4820594F
DD94:55522053
DD98:5445502E
DD9C:00
DD9D:		label VETA_16
DD9D:4E4F5420	DEFB of 25 bytes
DDA1:414C4C20
DDA5:49532041
DDA9:53204954
DDAD:20415050
DDB1:45415253
DDB5:00
DDB6:		label VETA_EXP
DDB6:3F3F3F20	DEFB of 38 bytes
DDBA:48415320
DDBE:4741494E
DDC2:45442041
DDC6:204C4556
DDCA:454C204F
DDCE:46204558
DDD2:50455249
DDD6:454E4345
DDDA:2E00
DDDC:		label VETA_DOWN
DDDC:474F494E	DEFB of 14 bytes
DDE0:4720444F
DDE4:574E2E2E
DDE8:2E00
DDEA:		label VETA_UP
DDEA:474F494E	DEFB of 10 bytes
DDEE:47205550
DDF2:2E00
DDF4:		label VETA_DOOR
DDF4:54484520	DEFB of 24 bytes
DDF8:444F4F52
DDFC:20415050
DE00:45415253
DE04:20535455
DE08:434B2E00
DE0C:		label VETA_DAGGER
DE0C:54484520	DEFB of 17 bytes
DE10:44414747
DE14:45522046
DE18:4954532E
DE1C:00
DE1D:		label VETA_HOLLOW
DE1D:4120484F	DEFB of 34 bytes
DE21:4C4C4F57
DE25:204C4155
DE29:47485445
DE2D:52204543
DE31:484F4553
DE35:20464149
DE39:4E544C59
DE3D:2E00
DE3F:		label VETA_UNDEAD
DE3F:3F3F3F20	DEFB of 35 bytes
DE43:55534553
DE47:20544845
DE4B:20504F57
DE4F:45522054
DE53:4F205455
DE57:524E2055
DE5B:4E444541
DE5F:442100
DE62:		label HELP_STRING
DE62:54455354	DEFB of 28 bytes
DE66:205A5820
DE6A:44554E47
DE6E:454F4E20
DE72:44454D4F
DE76:20562030
DE7A:2E373300
DE7E:4F564C41	DEFB of 44 bytes
DE82:44414E49
DE86:3A20512C
DE8A:452D4F54
DE8E:4F43454E
DE92:493B2057
DE96:2C532D50
DE9A:4F485942
DE9E:3B20412C
DEA2:442D554B
DEA6:524F4B00
DEAA:4A2C4B2C	DEFB of 48 bytes
DEAE:312E2E36
DEB2:2D414B54
DEB6:49564E49
DEBA:20504F53
DEBE:54415641
DEC2:3B20492D
DEC6:494E5645
DECA:4E544152
DECE:3B20522C
DED2:462D4841
DED6:4E445300
DEDA:53504143	DEFB of 47 bytes
DEDE:4520284D
DEE2:455A4552
DEE6:4E494B29
DEEA:202D2041
DEEE:4B43453B
DEF2:2053532B
DEF6:58202843
DEFA:54524C2B
DEFE:5829202D
DF02:204B4F4E
DF06:454300
NEXT_NAME	EQU 000B
DF09:		label VETA_HP
DF09:485000	DEFB of 3 bytes
DF0C:		label NAMES
DF0C:444F4852	DEFB of 11 bytes
DF10:554D2020
DF14:202000
DF17:57595244	DEFB of 11 bytes
DF1B:20202020
DF1F:202000
DF22:4C494E44	DEFB of 11 bytes
DF26:41202020
DF2A:202000
DF2D:45495448	DEFB of 11 bytes
DF31:4E452020
DF35:202000
DF38:544F4420	DEFB of 11 bytes
DF3C:55504849
DF40:4C4C00
DF43:49524953	DEFB of 11 bytes
DF47:20202020
DF4B:202000
DF4E:		label NAMES_END
DF4E:		label ARRAY_STRING_ITEMS
DF4E:00		DEFB of 1 bytes
DF4F:52494E47	DEFB of 5 bytes
DF53:00
DF54:52554249	DEFB of 11 bytes
DF58:4E205249
DF5C:4E4700
DF5F:534D4152	DEFB of 13 bytes
DF63:41474420
DF67:52494E47
DF6B:00
DF6C:53415050	DEFB of 14 bytes
DF70:48495245
DF74:2052494E
DF78:4700
DF7A:4449414D	DEFB of 13 bytes
DF7E:4F4E4420
DF82:52494E47
DF86:00
DF87:48454C4D	DEFB of 5 bytes
DF8B:00
DF8C:44574152	DEFB of 13 bytes
DF90:56454E20
DF94:48454C4D
DF98:00
DF99:4E45434B	DEFB of 9 bytes
DF9D:4C414345
DFA1:00
DFA2:41524D4F	DEFB of 6 bytes
DFA6:5200
DFA8:43484149	DEFB of 10 bytes
DFAC:4E4D4149
DFB0:4C00
DFB2:4C454154	DEFB of 14 bytes
DFB6:48455220
DFBA:41524D4F
DFBE:5200
DFC0:504C4154	DEFB of 12 bytes
DFC4:45204152
DFC8:4D4F5200
DFCC:4152524F	DEFB of 6 bytes
DFD0:5700
DFD2:42524143	DEFB of 8 bytes
DFD6:45525300
DFDA:424F4F54	DEFB of 6 bytes
DFDE:5300
DFE0:414E4B48	DEFB of 5 bytes
DFE4:00
DFE5:41584500	DEFB of 4 bytes
DFE9:424F4F4B	DEFB of 5 bytes
DFED:00
DFEE:424F5700	DEFB of 4 bytes
DFF2:44414747	DEFB of 7 bytes
DFF6:455200
DFF9:4D414345	DEFB of 5 bytes
DFFD:00
DFFE:53484945	DEFB of 7 bytes
E002:4C4400
E005:53504944	DEFB of 14 bytes
E009:45522053
E00D:4849454C
E011:4400
E013:534C494E	DEFB of 6 bytes
E017:4700
E019:53574F52	DEFB of 6 bytes
E01D:4400
E01F:424F4E45	DEFB of 5 bytes
E023:00
E024:52415449	DEFB of 8 bytes
E028:4F4E5300
E02C:4845414C	DEFB of 15 bytes
E030:494E4720
E034:504F5449
E038:4F4E00
E03B:414E5449	DEFB of 16 bytes
E03F:444F5445
E043:20504F54
E047:494F4E00
E04B:504F5449	DEFB of 9 bytes
E04F:4F4E5F42
E053:00
		End of INCLUDE
		REPT 0
E054:		label CARKY
E054:00		DEFB of 1 bytes
E055:80		DEFB of 1 bytes
E056:C0		DEFB of 1 bytes
E057:E0		DEFB of 1 bytes
E058:F0		DEFB of 1 bytes
E059:F8		DEFB of 1 bytes
E05A:FC		DEFB of 1 bytes
E05B:FE		DEFB of 1 bytes
E05C:FF		DEFB of 1 bytes
E05D:		label CARKY_END
		INCLUDE sprite2buffer.asm
MEZERA		EQU 0040
E05D:		label SET_TARGET_BUFFER
E05D:3EB0	LD A, B0
E05F:32DDE0	LD (E0DD), A
E062:32D1E1	LD (E1D1), A
E065:3EC8	LD A, C8
E067:32C4E0	LD (E0C4), A
E06A:32B8E1	LD (E1B8), A
E06D:C9		RET
E06E:		label SET_TARGET_SCREEN
E06E:3E40	LD A, 40
E070:32DDE0	LD (E0DD), A
E073:32D1E1	LD (E1D1), A
E076:3E58	LD A, 58
E078:32C4E0	LD (E0C4), A
E07B:32B8E1	LD (E1B8), A
E07E:C9		RET
E07F:		label SET_MAX_31
E07F:3E1F	LD A, 1F
E081:32B4E0	LD (E0B4), A
E084:32A1E1	LD (E1A1), A
E087:C9		RET
E088:		label SET_MAX_17
E088:3E11	LD A, 11
E08A:32B4E0	LD (E0B4), A
E08D:32A1E1	LD (E1A1), A
E090:C9		RET
E091:		label COPY_SPRITE2BUFFER
E091:F3		DI
E092:FDE5	PUSH IY
E094:1A		LD A, (DE)
E095:83		ADD A, E
E096:D9		EXX
E097:6F		LD L, A
E098:D9		EXX
E099:8A		ADC A, D
E09A:D9		EXX
E09B:95		SUB L
E09C:67		LD H, A
E09D:D9		EXX
E09E:13		INC DE
E09F:1A		LD A, (DE)
E0A0:FD67	LD IYH, A
E0A2:13		INC DE
E0A3:1A		LD A, (DE)
E0A4:DD67	LD IXH, A
E0A6:CB51	BIT 2, C
E0A8:C2A0E1	JP NZ, E1A0
		IF (false)
-     .error 'Adresa bufferu obrazovky nema horni bit nastaveny na jednicku!'
		ENDIF
E0AB:CB78	BIT 7, B
E0AD:68		LD L, B
E0AE:2600	LD H, 00
E0B0:C490E2	CALL NZ, E290
E0B3:		label CS2B_SELF_MAXSLOUPEC
E0B3:3E1F	LD A, 1F
E0B5:90		SUB B
E0B6:FA18E1	JP M, E118
E0B9:		label CS2B_TEST_ZKRACENI_SIRKY
E0B9:3C		INC A
E0BA:FDBC	CP IYH
E0BC:3002	JR NC, E0C0
E0BE:FD67	LD IYH, A
E0C0:		label CS2B_KONEC_OK
		IF (true)
E0C0:79		LD A, C
E0C1:E603	AND 03
E0C3:		label CS2B_SELF_ADR_ATTR_BUFF
E0C3:C6C8	ADD A, C8
E0C5:3211E1	LD (E111), A
E0C8:67		LD H, A
E0C9:79		LD A, C
E0CA:E6E0	AND E0
E0CC:80		ADD A, B
E0CD:FD6F	LD IYL, A
E0CF:6F		LD L, A
E0D0:D9		EXX
E0D1:ED7316E1	LD (E116), SP
E0D5:F9		LD SP, HL
E0D6:6F		LD L, A
E0D7:D9		EXX
E0D8:79		LD A, C
E0D9:D9		EXX
E0DA:E618	AND 18
E0DC:		label CS2B_SELF_ADR_DATA_BUFF
E0DC:C6B0	ADD A, B0
E0DE:3207E1	LD (E107), A
E0E1:67		LD H, A
E0E2:D9		EXX
		ELSE (false)
-     ld      A, C                    ;  4:1 Y radek 
-     and     %00011000               ;  7:2
- CS2B_SELF_ADR_DATA_BUFF:
-     add     A, Seg_Buffer           ;  7:2
-     ld      (CS2B_SELF_H_SHADOW+1), A ;  13:3 inicializace pro "ld H, n"    
-     ld      H, A                    ;  4:1 budouci H' = segment BUFF_DATA_ADR
-     ld      A, C                    ;  4:1
-     and     %11100000               ;  7:2
-     add     A, B                    ;  4:1 prictem X sloupec
-     ld      IYL, A                  ;  8:2 IYL = offset prvniho znaku leziciho uvnitr bufferu, potrebujeme pro zacatek dalsiho sloupce
-     ld      L, A                    ;  4:1 buduci HL' = BUFF_DATA_ADR
-     exx
-     ld      (CS2B_EXIT+1), SP     ; 20:4 uloz puvodni ukazatel zasobniku
-     ld      SP, HL                  ;  6:1 SP = SPRITE_DATA_ADR, DE = SPRITE_ATTR_ADR - 1
-     ld      L, A                    ;  4:1 budouci L
-     exx                             ;  4:1
-     ld      A, C                    ;  4:1 Y radek (puvodni C)
-     exx                             ;  4:1
-     and     %00000011               ;  7:2
- CS2B_SELF_ADR_ATTR_BUFF:
-     add     A, Seg_Attr_Buffer      ;  7:2
-     ld      (CS2B_SELF_H+1), A    ; 13:3 inicializace pro "ld H,n"
-     ld      H, A                    ;  4:1 HL = BUFF_ATTR_ADR
		ENDIF
E0E3:FD44	LD B, IYH
E0E5:DD6C	LD IXL, H
E0E7:C333E1	JP E133
E0EA:		label CS2B_MASK
E0EA:87		ADD A, A
E0EB:79		LD A, C
E0EC:2004	JR NZ, E0F2
E0EE:AE		XOR (HL)
E0EF:E607	AND 07
E0F1:AE		XOR (HL)
E0F2:		label CS2B_MASK_NEZACHOVAT_PAPER
E0F2:E67F	AND 7F
E0F4:77		LD (HL), A
E0F5:D9		EXX
E0F6:0608	LD B, 08
E0F8:4C		LD C, H
E0F9:		label CS2B_MASK_LOOP
E0F9:D1		POP DE
E0FA:7E		LD A, (HL)
E0FB:A3		AND E
E0FC:B2		OR D
E0FD:77		LD (HL), A
E0FE:24		INC H
E0FF:10F8	DJNZ E0F9
E101:DD2D	DEC IXL
E103:C22AE1	JP NZ, E12A
E106:		label CS2B_FIRST_ROW
E106:		label CS2B_SELF_H_SHADOW
E106:2600	LD H, 00
E108:DD6C	LD IXL, H
E10A:FD2C	INC IYL
E10C:FD7D	LD A, IYL
E10E:6F		LD L, A
E10F:D9		EXX
E110:		label CS2B_SELF_H
E110:2600	LD H, 00
E112:6F		LD L, A
E113:101E	DJNZ E133
E115:		label CS2B_EXIT
E115:310000	LD SP, 0000
E118:		label CS2B_EXIT_SP_OK
E118:FDE1	POP IY
E11A:FB		EI
E11B:C9		RET
E11C:		label CS2B_TRETINA
E11C:D9		EXX
E11D:24		INC H
E11E:1812	JR E132
E120:		label CS2B_CELOPRUHLEDNY
E120:D9		EXX
E121:4C		LD C, H
E122:7C		LD A, H
E123:C608	ADD A, 08
E125:67		LD H, A
E126:		label CS2B_DOLU
E126:DD2D	DEC IXL
E128:28DC	JR Z, E106
E12A:		label CS2B_O_ZNAK_NIZE
E12A:3E20	LD A, 20
E12C:85		ADD A, L
E12D:6F		LD L, A
E12E:38EC	JR C, E11C
E130:61		LD H, C
E131:D9		EXX
E132:		label CS2B_ATTR_NEXT
E132:6F		LD L, A
E133:		label CS2B_POCATEK
E133:13		INC DE
E134:1A		LD A, (DE)
E135:4F		LD C, A
E136:E6B8	AND B8
E138:2822	JR Z, E15C
E13A:FAEAE0	JP M, E0EA
E13D:71		LD (HL), C
E13E:D9		EXX
E13F:4C		LD C, H
E140:D1		POP DE
E141:73		LD (HL), E
E142:24		INC H
E143:72		LD (HL), D
E144:24		INC H
E145:D1		POP DE
E146:73		LD (HL), E
E147:24		INC H
E148:72		LD (HL), D
E149:24		INC H
E14A:D1		POP DE
E14B:73		LD (HL), E
E14C:24		INC H
E14D:72		LD (HL), D
E14E:24		INC H
E14F:D1		POP DE
E150:73		LD (HL), E
E151:24		INC H
E152:72		LD (HL), D
E153:24		INC H
E154:DD2D	DEC IXL
E156:C22AE1	JP NZ, E12A
E159:C306E1	JP E106
E15C:		label CS2B_ADD_INK
E15C:79		LD A, C
E15D:87		ADD A, A
		IF (false)
-     .error 'Zmenit kod, MEZERA != $.1000...!'
		ENDIF
E15E:87		ADD A, A
E15F:38BF	JR C, E120
E161:87		ADD A, A
E162:AE		XOR (HL)
E163:E638	AND 38
E165:2825	JR Z, E18C
E167:7E		LD A, (HL)
E168:E6F8	AND F8
E16A:B1		OR C
E16B:77		LD (HL), A
E16C:D9		EXX
E16D:0602	LD B, 02
E16F:4C		LD C, H
E170:		label CS2B_ADD_INK_LOOP
E170:D1		POP DE
E171:7E		LD A, (HL)
E172:B3		OR E
E173:77		LD (HL), A
E174:24		INC H
E175:7E		LD A, (HL)
E176:B2		OR D
E177:77		LD (HL), A
E178:24		INC H
E179:D1		POP DE
E17A:7E		LD A, (HL)
E17B:B3		OR E
E17C:77		LD (HL), A
E17D:24		INC H
E17E:7E		LD A, (HL)
E17F:B2		OR D
E180:77		LD (HL), A
E181:24		INC H
E182:10EC	DJNZ E170
E184:DD2D	DEC IXL
E186:C22AE1	JP NZ, E12A
E189:C306E1	JP E106
E18C:		label CS2B_DELETE_INK
E18C:D9		EXX
E18D:0604	LD B, 04
E18F:4C		LD C, H
E190:		label CS2B_DEL_INK_LOOP
E190:D1		POP DE
E191:7B		LD A, E
E192:2F		CPL
E193:A6		AND (HL)
E194:77		LD (HL), A
E195:24		INC H
E196:7A		LD A, D
E197:2F		CPL
E198:A6		AND (HL)
E199:77		LD (HL), A
E19A:24		INC H
E19B:10F3	DJNZ E190
E19D:C326E1	JP E126
E1A0:		label CS2B_ZRCADLOVE
E1A0:		label CS2B_Z_SELF_MAXSLOUPEC
E1A0:3E1F	LD A, 1F
E1A2:67		LD H, A
E1A3:90		SUB B
E1A4:6F		LD L, A
E1A5:FC90E2	CALL M, E290
E1A8:78		LD A, B
E1A9:B7		OR A
E1AA:FA18E1	JP M, E118
E1AD:3C		INC A
E1AE:FDBC	CP IYH
E1B0:3002	JR NC, E1B4
E1B2:FD67	LD IYH, A
E1B4:		label CS2B_Z_KONEC_OK
		IF (true)
E1B4:79		LD A, C
E1B5:E603	AND 03
E1B7:		label CS2B_Z_SELF_ADR_ATTR_BUFF
E1B7:C6C8	ADD A, C8
E1B9:3207E2	LD (E207), A
E1BC:67		LD H, A
E1BD:79		LD A, C
E1BE:E6E0	AND E0
E1C0:80		ADD A, B
E1C1:FD6F	LD IYL, A
E1C3:6F		LD L, A
E1C4:D9		EXX
E1C5:ED730CE2	LD (E20C), SP
E1C9:F9		LD SP, HL
E1CA:6F		LD L, A
E1CB:D9		EXX
E1CC:79		LD A, C
E1CD:D9		EXX
E1CE:E618	AND 18
E1D0:		label CS2B_Z_SELF_ADR_DATA_BUFF
E1D0:C6B0	ADD A, B0
E1D2:32FDE1	LD (E1FD), A
E1D5:67		LD H, A
E1D6:D9		EXX
		ELSE (false)
-     ld      A, C                    ;  4:1 Y radek 
-     and     %00011000               ;  7:2
- CS2B_Z_SELF_ADR_DATA_BUFF:
-     add     A, Seg_Buffer           ;  7:2
-     ld      (CS2B_Z_SELF_H_SHADOW+1), A ;  13:3 inicializace pro "ld H, n"    
-     ld      H, A                    ;  4:1 budouci H' = segment BUFF_DATA_ADR
-     ld      A, C                    ;  4:1
-     and     %11100000               ;  7:2
-     add     A, B                    ;  4:1 prictem X sloupec
-     ld      IYL, A                  ;  8:2 IYL = offset prvniho znaku leziciho uvnitr bufferu, potrebujeme pro zacatek dalsiho sloupce
-     ld      L, A                    ;  4:1 buduci HL' = BUFF_DATA_ADR
-     exx
-     ld      (CS2B_Z_EXIT+1), SP     ; 20:4 uloz puvodni ukazatel zasobniku
-     ld      SP, HL                  ;  6:1 SP = SPRITE_DATA_ADR, DE = SPRITE_ATTR_ADR - 1
-     ld      L, A                    ;  4:1 budouci L
-     exx                             ;  4:1
-     ld      A, C                    ;  4:1 Y radek (puvodni C)
-     exx                             ;  4:1
-     and     %00000011               ;  7:2
- CS2B_Z_SELF_ADR_ATTR_BUFF:
-     add     A, Seg_Attr_Buffer      ;  7:2
-     ld      (CS2B_Z_SELF_H+1), A    ; 13:3 inicializace pro "ld H,n"
-     ld      H, A                    ;  4:1 HL = BUFF_ATTR_ADR
		ENDIF
E1D7:FD44	LD B, IYH
E1D9:DD6C	LD IXL, H
E1DB:C32CE2	JP E22C
E1DE:		label CS2B_Z_MASK
E1DE:87		ADD A, A
E1DF:79		LD A, C
E1E0:2004	JR NZ, E1E6
E1E2:AE		XOR (HL)
E1E3:E607	AND 07
E1E5:AE		XOR (HL)
E1E6:		label CS2B_Z_MASK_NEW_PAPER
E1E6:E67F	AND 7F
E1E8:77		LD (HL), A
E1E9:D9		EXX
E1EA:EB		EX DE, HL
E1EB:0608	LD B, 08
E1ED:		label CS2B_Z_MASK_LOOP
E1ED:E1		POP HL
E1EE:1A		LD A, (DE)
E1EF:4C		LD C, H
E1F0:26D0	LD H, D0
E1F2:A6		AND (HL)
E1F3:69		LD L, C
E1F4:B6		OR (HL)
E1F5:12		LD (DE), A
E1F6:14		INC D
E1F7:10F4	DJNZ E1ED
E1F9:EB		EX DE, HL
E1FA:181F	JR E21B
E1FC:		label CS2B_Z_FIRST_ROW
E1FC:		label CS2B_Z_SELF_H_SHADOW
E1FC:2600	LD H, 00
E1FE:DD6C	LD IXL, H
E200:FD2D	DEC IYL
E202:FD7D	LD A, IYL
E204:6F		LD L, A
E205:D9		EXX
E206:		label CS2B_Z_SELF_H
E206:2600	LD H, 00
E208:6F		LD L, A
E209:1021	DJNZ E22C
E20B:		label CS2B_Z_EXIT
E20B:310000	LD SP, 0000
E20E:FDE1	POP IY
E210:FB		EI
E211:C9		RET
E212:		label CS2B_Z_TRETINA
E212:D9		EXX
E213:24		INC H
E214:1815	JR E22B
E216:		label CS2B_Z_CELOPRUHLEDNY
E216:D9		EXX
E217:7C		LD A, H
E218:C608	ADD A, 08
E21A:67		LD H, A
E21B:		label CS2B_Z_DOLU
E21B:DD2D	DEC IXL
E21D:28DD	JR Z, E1FC
E21F:		label CS2B_Z_O_ZNAK_NIZE
E21F:3E20	LD A, 20
E221:85		ADD A, L
E222:6F		LD L, A
E223:38ED	JR C, E212
E225:7C		LD A, H
E226:D608	SUB 08
E228:67		LD H, A
E229:7D		LD A, L
E22A:D9		EXX
E22B:		label CS2B_Z_ATTR_NEXT
E22B:6F		LD L, A
E22C:		label CS2B_Z_POCATEK
E22C:13		INC DE
E22D:1A		LD A, (DE)
E22E:4F		LD C, A
E22F:E6B8	AND B8
E231:281C	JR Z, E24F
E233:FADEE1	JP M, E1DE
E236:		label CS2B_Z_ADD_ALL
E236:71		LD (HL), C
E237:D9		EXX
E238:0604	LD B, 04
E23A:		label CS2B_Z_ADD_ALL_LOOP
E23A:D1		POP DE
E23B:4A		LD C, D
E23C:16D0	LD D, D0
E23E:1A		LD A, (DE)
E23F:77		LD (HL), A
E240:24		INC H
E241:59		LD E, C
E242:1A		LD A, (DE)
E243:77		LD (HL), A
E244:24		INC H
E245:10F3	DJNZ E23A
E247:DD2D	DEC IXL
E249:C21FE2	JP NZ, E21F
E24C:C3FCE1	JP E1FC
E24F:		label CS2B_Z_ADD_INK
E24F:79		LD A, C
E250:87		ADD A, A
		IF (false)
-     .error 'Zmenit kod, MEZERA != $.1000...!'
		ENDIF
E251:87		ADD A, A
E252:38C2	JR C, E216
E254:87		ADD A, A
E255:AE		XOR (HL)
E256:E638	AND 38
E258:281F	JR Z, E279
E25A:7E		LD A, (HL)
E25B:E6F8	AND F8
E25D:B1		OR C
E25E:77		LD (HL), A
E25F:D9		EXX
E260:0604	LD B, 04
E262:		label CS2B_Z_ADD_INK_LOOP
E262:D1		POP DE
E263:4A		LD C, D
E264:16D0	LD D, D0
E266:1A		LD A, (DE)
E267:B6		OR (HL)
E268:77		LD (HL), A
E269:24		INC H
E26A:59		LD E, C
E26B:1A		LD A, (DE)
E26C:B6		OR (HL)
E26D:77		LD (HL), A
E26E:24		INC H
E26F:10F1	DJNZ E262
E271:DD2D	DEC IXL
E273:C21FE2	JP NZ, E21F
E276:C3FCE1	JP E1FC
E279:		label CS2B_Z_DELETE_INK
E279:D9		EXX
E27A:0604	LD B, 04
E27C:		label CS2B_Z_DEL_LOOP
E27C:D1		POP DE
E27D:4A		LD C, D
E27E:16D0	LD D, D0
E280:1A		LD A, (DE)
E281:2F		CPL
E282:A6		AND (HL)
E283:77		LD (HL), A
E284:24		INC H
E285:59		LD E, C
E286:1A		LD A, (DE)
E287:2F		CPL
E288:A6		AND (HL)
E289:77		LD (HL), A
E28A:24		INC H
E28B:10EF	DJNZ E27C
E28D:C31BE2	JP E21B
E290:		label IGNORE_COLUMN
E290:D9		EXX
E291:110800	LD DE, 0008
E294:D9		EXX
E295:		label IC_COLUMN_LOOP
E295:DD44	LD B, IXH
E297:		label IC_ROW_LOOP
E297:13		INC DE
E298:1A		LD A, (DE)
E299:D9		EXX
E29A:E6F8	AND F8
E29C:FE40	CP 40
E29E:2805	JR Z, E2A5
E2A0:87		ADD A, A
E2A1:3001	JR NC, E2A4
E2A3:19		ADD HL, DE
E2A4:		label IC_NO_MASK
E2A4:19		ADD HL, DE
E2A5:		label IC_NO_DATA
E2A5:D9		EXX
E2A6:10EF	DJNZ E297
E2A8:FD25	DEC IYH
E2AA:2805	JR Z, E2B1
E2AC:2C		INC L
E2AD:20E6	JR NZ, E295
E2AF:44		LD B, H
E2B0:C9		RET
E2B1:		label IC_EXIT_SPRITE2BUFFER
E2B1:F1		POP AF
E2B2:C318E1	JP E118
		End of INCLUDE
		INCLUDE input.asm
E2B5:		label TEST_KEMPSTON
E2B5:AF		XOR A
E2B6:67		LD H, A
E2B7:6F		LD L, A
E2B8:		label TK_NOVY_STAV
E2B8:0606	LD B, 06
E2BA:B4		OR H
E2BB:67		LD H, A
E2BC:		label TK_LOOP
E2BC:76		HALT
E2BD:DB1F	IN A, (1F)
E2BF:E61F	AND 1F
E2C1:FE1F	CP 1F
E2C3:C8		RET Z
E2C4:BD		CP L
E2C5:6F		LD L, A
E2C6:20F0	JR NZ, E2B8
E2C8:10F2	DJNZ E2BC
E2CA:7C		LD A, H
E2CB:2170D2	LD HL, D270
E2CE:060D	LD B, 0D
E2D0:		label TK_TEST_STAVU
E2D0:BE		CP (HL)
E2D1:23		INC HL
E2D2:2803	JR Z, E2D7
E2D4:23		INC HL
E2D5:10F9	DJNZ E2D0
E2D7:		label TK_SHODNY_STAV
E2D7:7E		LD A, (HL)
E2D8:B7		OR A
E2D9:C9		RET
E2DA:		label KEYPRESSED
E2DA:11785C	LD DE, 5C78
E2DD:1A		LD A, (DE)
E2DE:E620	AND 20
E2E0:47		LD B, A
E2E1:21085C	LD HL, 5C08
E2E4:		label KEYPRESSED_NO
E2E4:1A		LD A, (DE)
E2E5:E620	AND 20
E2E7:A8		XOR B
E2E8:C0		RET NZ
E2E9:7E		LD A, (HL)
E2EA:B7		OR A
E2EB:E5		PUSH HL
E2EC:C5		PUSH BC
E2ED:CCB5E2	CALL Z, E2B5
E2F0:C1		POP BC
E2F1:E1		POP HL
E2F2:28F0	JR Z, E2E4
E2F4:0600	LD B, 00
E2F6:70		LD (HL), B
E2F7:2A45D4	LD HL, (D445)
E2FA:4C		LD C, H
E2FB:26D1	LD H, D1
E2FD:119BE3	LD DE, E39B
E300:D5		PUSH DE
		IF (true)
E301:FE77	CP 77
E303:C8		RET Z
E304:04		INC B
E305:FE73	CP 73
E307:C8		RET Z
E308:04		INC B
E309:FE61	CP 61
E30B:C8		RET Z
E30C:04		INC B
E30D:FE64	CP 64
E30F:C8		RET Z
		ELSE (false)
- .warning 'Delsi kod o 4 bajty protoze stisknuto_dopredu..stisknuto_vpravo != 0..3'
-     cp      KEY_DOPREDU             ;  7:2, "w" = dopredu
-     ret     z
-     ld      B, stisknuto_dozadu     ;  7:2, offset radku tabulky VEKTORY_POHYBU
-     cp      KEY_DOZADU              ;  7:2, "s" = dozadu
-     ret     z
-     ld      B, stisknuto_vlevo      ;  7:2, offset radku tabulky VEKTORY_POHYBU
-     cp      KEY_VLEVO               ;  7:2, "a" = vlevo
-     ret     z
-     ld      B, stisknuto_vpravo     ;  7:2, offset radku tabulky VEKTORY_POHYBU
-     cp      KEY_VPRAVO              ;  7:2, "d" = vpravo
-     ret     z
		ENDIF
E310:D1		POP DE
E311:06FF	LD B, FF
E313:FE71	CP 71
E315:284B	JR Z, E362
E317:0601	LD B, 01
E319:FE65	CP 65
E31B:2845	JR Z, E362
E31D:FE20	CP 20
E31F:CAB8EA	JP Z, EAB8
E322:FE69	CP 69
E324:CA1DE8	JP Z, E81D
E327:FE72	CP 72
E329:CA8BD2	JP Z, D28B
E32C:FE66	CP 66
E32E:CA8BD2	JP Z, D28B
E331:FE2A	CP 2A
E333:CA59E3	JP Z, E359
E336:FE60	CP 60
E338:2005	JR NZ, E33F
E33A:E1		POP HL
E33B:CD95EA	CALL EA95
E33E:C9		RET
E33F:		label K_NOEXIT
E33F:2173D4	LD HL, D473
E342:112BE8	LD DE, E82B
E345:D5		PUSH DE
E346:FE6B	CP 6B
E348:CA5CD2	JP Z, D25C
E34B:FE6A	CP 6A
E34D:CA66D2	JP Z, D266
E350:D631	SUB 31
E352:BE		CP (HL)
E353:D244EB	JP NC, EB44
E356:2B		DEC HL
E357:77		LD (HL), A
E358:C9		RET
E359:		label SET_BORDER
E359:3A74D4	LD A, (D474)
E35C:EE07	XOR 07
E35E:3274D4	LD (D474), A
E361:C9		RET
		End of INCLUDE
		INCLUDE move.asm
E362:		label OTOC_SE
E362:3E12	LD A, 12
E364:80		ADD A, B
E365:80		ADD A, B
E366:CD6FEB	CALL EB6F
E369:79		LD A, C
E36A:80		ADD A, B
E36B:E603	AND 03
E36D:2146D4	LD HL, D446
E370:77		LD (HL), A
E371:CD89E3	CALL E389
E374:C9		RET
E375:		label HL_NOVA_POZICE
E375:16D2	LD D, D2
E377:81		ADD A, C
E378:5F		LD E, A
E379:1A		LD A, (DE)
E37A:85		ADD A, L
E37B:6F		LD L, A
E37C:C9		RET
E37D:		label HL_VEPREDU
E37D:2A45D4	LD HL, (D445)
E380:E5		PUSH HL
E381:7D		LD A, L
E382:6C		LD L, H
E383:26D2	LD H, D2
E385:86		ADD A, (HL)
E386:E1		POP HL
E387:6F		LD L, A
E388:C9		RET
E389:		label INC_POCITADLO_POHYBU_A_ZVUK
E389:2147D4	LD HL, D447
E38C:34		INC (HL)
E38D:21E803	LD HL, 03E8
E390:		label IPPAZ_LOOP
E390:7E		LD A, (HL)
E391:E6F8	AND F8
E393:D3FE	OUT (FE), A
E395:2B		DEC HL
E396:7C		LD A, H
E397:B5		OR L
E398:20F6	JR NZ, E390
E39A:C9		RET
E39B:		label POSUN
E39B:78		LD A, B
E39C:87		ADD A, A
E39D:87		ADD A, A
E39E:CD6FEB	CALL EB6F
E3A1:CD01E8	CALL E801
E3A4:CACEE3	JP Z, E3CE
E3A7:48		LD C, B
E3A8:05		DEC B
E3A9:2812	JR Z, E3BD
E3AB:48		LD C, B
E3AC:FABDE3	JP M, E3BD
		IF (false)
-     .error      'Seznam POSUN_VLEVO_INVENTAREM prekracuje 256 bajtovy segment!'
		ENDIF
E3AF:2147D4	LD HL, D447
E3B2:05		DEC B
E3B3:2802	JR Z, E3B7
E3B5:2E5D	LD L, 5D
E3B7:		label POSUN_LOOP
E3B7:2C		INC L
E3B8:BE		CP (HL)
E3B9:2C		INC L
E3BA:30FB	JR NC, E3B7
E3BC:4E		LD C, (HL)
E3BD:		label POSUN_PRICTI
E3BD:81		ADD A, C
E3BE:061F	LD B, 1F
E3C0:F2C4E3	JP P, E3C4
E3C3:80		ADD A, B
E3C4:		label POSUN_NEZAPORNY
E3C4:B8		CP B
E3C5:3801	JR C, E3C8
E3C7:90		SUB B
E3C8:		label POSUN_V_MEZICH
E3C8:32FED6	LD (D6FE), A
E3CB:C3BEE8	JP E8BE
E3CE:		label POSUN_NEJSEM_V_INVENTARI
E3CE:78		LD A, B
E3CF:87		ADD A, A
E3D0:87		ADD A, A
E3D1:F5		PUSH AF
E3D2:CD6FEB	CALL EB6F
E3D5:F1		POP AF
E3D6:CD75E3	CALL E375
E3D9:DD21C1DB	LD IX, DBC1
E3DD:CB46	BIT 0, (HL)
E3DF:207E	JR NZ, E45F
E3E1:CDD5E4	CALL E4D5
E3E4:3879	JR C, E45F
E3E6:7D		LD A, L
E3E7:3245D4	LD (D445), A
E3EA:189D	JR E389
		End of INCLUDE
		INCLUDE strings.asm
E3EC:		label PRINT_STRING
E3EC:3E07	LD A, 07
E3EE:		label PRINT_STRING_COLOR
E3EE:5D		LD E, L
E3EF:6F		LD L, A
E3F0:E5		PUSH HL
E3F1:CDE3EB	CALL EBE3
E3F4:54		LD D, H
E3F5:0E40	LD C, 40
E3F7:		label PS_NEXT_CHAR
E3F7:E1		POP HL
E3F8:		label PRINT_STRING_CONTINUE
E3F8:7D		LD A, L
E3F9:6B		LD L, E
E3FA:77		LD (HL), A
E3FB:6F		LD L, A
E3FC:DD7E00	LD A, (IX+00)
E3FF:DD23	INC IX
E401:D620	SUB 20
E403:D8		RET C
E404:E5		PUSH HL
E405:67		LD H, A
E406:87		ADD A, A
E407:6F		LD L, A
E408:84		ADD A, H
E409:85		ADD A, L
E40A:6F		LD L, A
E40B:CED3	ADC A, D3
E40D:95		SUB L
E40E:67		LD H, A
E40F:0605	LD B, 05
E411:		label PS_RIGHT_LOOP
E411:7E		LD A, (HL)
E412:B7		OR A
E413:2813	JR Z, E428
E415:E5		PUSH HL
E416:6F		LD L, A
E417:62		LD H, D
E418:C5		PUSH BC
E419:0608	LD B, 08
E41B:		label PS_LOOP_PX_DOWN
E41B:CB15	RL L
E41D:3003	JR NC, E422
E41F:1A		LD A, (DE)
E420:A9		XOR C
E421:12		LD (DE), A
E422:		label PS_NEXT_PX_DOWN
E422:14		INC D
E423:10F6	DJNZ E41B
E425:C1		POP BC
E426:54		LD D, H
E427:E1		POP HL
E428:		label PS_PX_RIGHT
E428:23		INC HL
E429:AF		XOR A
E42A:CB09	RRC C
E42C:8B		ADC A, E
E42D:5F		LD E, A
E42E:10E1	DJNZ E411
E430:18C5	JR E3F7
E432:		label PRINT_STRING_OBAL
E432:E5		PUSH HL
E433:D5		PUSH DE
E434:C5		PUSH BC
E435:CDEEE3	CALL E3EE
E438:C1		POP BC
E439:D1		POP DE
E43A:E1		POP HL
E43B:C9		RET
		IF (false)
- PRINT2BUFFER:
-     ld	a,Adr_Buffer / 256
-     ld	(PS_ADRESA_SEGMENTU+1),a
-     ret
- PRINT2SCREEN:
-     ld	a,$40
-     ld	(PS_ADRESA_SEGMENTU+1),a
-     ret
		ENDIF
E43C:		label SCROLL
E43C:2650	LD H, 50
E43E:		label SCROLL_LOOP
E43E:54		LD D, H
E43F:1E80	LD E, 80
E441:2EA0	LD L, A0
E443:016000	LD BC, 0060
E446:EDB0	LDIR
E448:CB5C	BIT 3, H
E44A:28F2	JR Z, E43E
E44C:CB44	BIT 0, H
E44E:265A	LD H, 5A
E450:28EC	JR Z, E43E
E452:		label SCROLL_LAST_LINE
E452:0608	LD B, 08
E454:2650	LD H, 50
E456:		label SCROLL_NEXT_MICROLINE
E456:6B		LD L, E
E457:		label SCROLL_CLEAR_MICROLINE
E457:71		LD (HL), C
E458:2C		INC L
E459:20FC	JR NZ, E457
E45B:24		INC H
E45C:10F8	DJNZ E456
E45E:C9		RET
E45F:		label PRINT_MESSAGE
E45F:3E07	LD A, 07
E461:		label PRINT_MESSAGE_COLOR
E461:CD3CE4	CALL E43C
E464:21E05A	LD HL, 5AE0
E467:CDEEE3	CALL E3EE
E46A:C9		RET
E46B:		label PRINT_MESSAGE_ARRAY
E46B:CD9DE4	CALL E49D
E46E:3E05	LD A, 05
E470:CD61E4	CALL E461
E473:C9		RET
E474:		label PRINT_DEKORACE
E474:CD7DEA	CALL EA7D
E477:13		INC DE
E478:1A		LD A, (DE)
E479:E61F	AND 1F
E47B:47		LD B, A
E47C:2172DC	LD HL, DC72
E47F:CD6BE4	CALL E46B
E482:CD95EA	CALL EA95
E485:C9		RET
E486:		label PRINT_PREPINAC
E486:CD7DEA	CALL EA7D
E489:1A		LD A, (DE)
E48A:E61F	AND 1F
E48C:CB3F	SRL A
E48E:CB3F	SRL A
E490:47		LD B, A
E491:21BDDC	LD HL, DCBD
E494:CD6BE4	CALL E46B
E497:CD95EA	CALL EA95
E49A:C9		RET
E49B:		label AXS_NEXT_STRING
E49B:EDB1	CPIR
E49D:		label ADR_X_STRING
E49D:AF		XOR A
E49E:4F		LD C, A
E49F:B8		CP B
E4A0:20F9	JR NZ, E49B
E4A2:E5		PUSH HL
E4A3:DDE1	POP IX
E4A5:C9		RET
		IF (false)
- STRING_COPY:
- 	ld	a,(hl)
- 	inc	hl
- 	ld	(de),a
- 	inc	de
- 	or	a
- 	jr	nz,STRING_COPY
- 	ret
		ENDIF
E4A6:		label ITEM_MAKE_A
E4A6:B7		OR A
E4A7:C8		RET Z
E4A8:E5		PUSH HL
E4A9:47		LD B, A
E4AA:214EDF	LD HL, DF4E
E4AD:CD9DE4	CALL E49D
E4B0:CD3CE4	CALL E43C
E4B3:21E05A	LD HL, 5AE0
E4B6:CDECE3	CALL E3EC
E4B9:DDE1	POP IX
E4BB:CDF8E3	CALL E3F8
E4BE:C9		RET
E4BF:		label ITEM_TAKEN_A
E4BF:2148DC	LD HL, DC48
E4C2:18E2	JR E4A6
E4C4:		label ITEM_PUT_A
E4C4:2150DC	LD HL, DC50
E4C7:18DD	JR E4A6
		End of INCLUDE
		INCLUDE objects.asm
E4C9:		label DE_FIND_FIRST_OBJECT_L
E4C9:11B9ED	LD DE, EDB9
E4CC:		label FFO_NEXT
E4CC:13		INC DE
E4CD:		label FIND_NEXT_OBJECT
E4CD:13		INC DE
E4CE:1A		LD A, (DE)
E4CF:13		INC DE
E4D0:BD		CP L
E4D1:DACCE4	JP C, E4CC
E4D4:C9		RET
E4D5:		label JE_POZICE_BLOKOVANA_L
E4D5:CDC9E4	CALL E4C9
E4D8:C0		RET NZ
E4D9:		label JPB_NALEZEN_OBJECT
E4D9:1A		LD A, (DE)
E4DA:C6E0	ADD A, E0
E4DC:D8		RET C
E4DD:CDCCE4	CALL E4CC
E4E0:28F7	JR Z, E4D9
E4E2:C9		RET
E4E3:		label DEH_FIND_LAST_ITEM_HL
E4E3:11B9ED	LD DE, EDB9
E4E6:7C		LD A, H
E4E7:E603	AND 03
E4E9:3C		INC A
E4EA:67		LD H, A
E4EB:		label FLI_LOOP
E4EB:13		INC DE
E4EC:13		INC DE
E4ED:1A		LD A, (DE)
E4EE:13		INC DE
E4EF:BD		CP L
E4F0:38F9	JR C, E4EB
E4F2:2006	JR NZ, E4FA
E4F4:1A		LD A, (DE)
E4F5:E603	AND 03
E4F7:BC		CP H
E4F8:38F1	JR C, E4EB
E4FA:		label FLI_EXIT
E4FA:1B		DEC DE
E4FB:3E0F	LD A, 0F
E4FD:84		ADD A, H
E4FE:67		LD H, A
E4FF:C9		RET
E500:		label VLOZ_ITEM_NA_POZICI
E500:F5		PUSH AF
E501:CDE3E4	CALL E4E3
E504:E5		PUSH HL
E505:2AB9ED	LD HL, (EDB9)
E508:E5		PUSH HL
E509:ED52	SBC HL, DE
E50B:44		LD B, H
E50C:4D		LD C, L
E50D:03		INC BC
E50E:E1		POP HL
E50F:54		LD D, H
E510:5D		LD E, L
E511:23		INC HL
E512:23		INC HL
E513:23		INC HL
E514:22B9ED	LD (EDB9), HL
E517:EB		EX DE, HL
E518:EDB8	LDDR
E51A:C1		POP BC
E51B:F1		POP AF
E51C:EB		EX DE, HL
E51D:77		LD (HL), A
E51E:2B		DEC HL
E51F:70		LD (HL), B
E520:2B		DEC HL
E521:71		LD (HL), C
E522:CDC4E4	CALL E4C4
E525:AF		XOR A
E526:32FDD6	LD (D6FD), A
E529:C3BEE8	JP E8BE
E52C:		label VEZMI_ITEM_Z_POZICE
E52C:CDE3E4	CALL E4E3
E52F:EB		EX DE, HL
E530:2B		DEC HL
E531:7E		LD A, (HL)
E532:2B		DEC HL
E533:46		LD B, (HL)
E534:2B		DEC HL
E535:4E		LD C, (HL)
E536:EB		EX DE, HL
E537:ED42	SBC HL, BC
E539:C0		RET NZ
E53A:32FDD6	LD (D6FD), A
E53D:2AB9ED	LD HL, (EDB9)
E540:ED52	SBC HL, DE
E542:23		INC HL
E543:44		LD B, H
E544:4D		LD C, L
E545:62		LD H, D
E546:6B		LD L, E
E547:23		INC HL
E548:23		INC HL
E549:23		INC HL
E54A:EDB0	LDIR
E54C:1B		DEC DE
E54D:ED53B9ED	LD (EDB9), DE
E551:C3BEE8	JP E8BE
E554:		label PREPNI_OBJECT
E554:D5		PUSH DE
E555:CDC9E4	CALL E4C9
E558:2012	JR NZ, E56C
E55A:		label PO_NALEZEN_OBJECT
E55A:1A		LD A, (DE)
E55B:AC		XOR H
E55C:E61C	AND 1C
E55E:2007	JR NZ, E567
		IF (false)
-     ld      A, H
-     and     MASKA_TYP
-     cp      TYP_DVERE
-     jr      z, PO_FOUND
-     ld      a,(de)                      ;  7:1 typ
-     sub     h
-     and     MASKA_NATOCENI
-     jr      nz,PO_NEXT_OBJECT           ;12/7:2       ??? pokud je horni bit nastaven tak to bude blbnout?
- PO_FOUND:
		ENDIF
E560:7C		LD A, H
E561:E6E0	AND E0
E563:EB		EX DE, HL
E564:AE		XOR (HL)
E565:77		LD (HL), A
E566:EB		EX DE, HL
E567:		label PO_NEXT_OBJECT
E567:CDCCE4	CALL E4CC
E56A:28EE	JR Z, E55A
E56C:		label PO_EXIT
E56C:D1		POP DE
E56D:C9		RET
E56E:		label FIND_OBJECT
E56E:DD2C	INC IXL
E570:C8		RET Z
E571:DD2D	DEC IXL
E573:11B9ED	LD DE, EDB9
E576:		label FO_LOOP
E576:13		INC DE
E577:		label FO_LOOP_DODATECNY
E577:13		INC DE
E578:1A		LD A, (DE)
E579:13		INC DE
E57A:DD95	SUB IXL
E57C:38F8	JR C, E576
E57E:C0		RET NZ
E57F:1A		LD A, (DE)
E580:E61C	AND 1C
		IF (false)
-     cp      TYP_PREPINAC            ;  7:2 
-     .warning 'Delsi kod, protoze TYP_PREPINAC != 0'
		ELSE (true)
E582:B7		OR A
		ENDIF
E583:2826	JR Z, E5AB
E585:FE08	CP 08
E587:284F	JR Z, E5D8
E589:FE04	CP 04
E58B:CA6DE6	JP Z, E66D
E58E:FE10	CP 10
E590:CA82E6	JP Z, E682
E593:FE0C	CP 0C
E595:20DF	JR NZ, E576
E597:13		INC DE
E598:1A		LD A, (DE)
E599:E61F	AND 1F
E59B:2185DB	LD HL, DB85
E59E:FE01	CP 01
E5A0:2803	JR Z, E5A5
E5A2:2149DB	LD HL, DB49
E5A5:		label FOUND_DEKORACE
E5A5:CDD1E7	CALL E7D1
E5A8:18CD	JR E577
E5AA:		label FO_EXIT
E5AA:C9		RET
E5AB:		label FOUND_PREPINAC
E5AB:C5		PUSH BC
E5AC:1A		LD A, (DE)
E5AD:E603	AND 03
E5AF:2146D4	LD HL, D446
E5B2:6E		LD L, (HL)
E5B3:95		SUB L
E5B4:215DD8	LD HL, D85D
E5B7:09		ADD HL, BC
E5B8:E603	AND 03
E5BA:280D	JR Z, E5C9
E5BC:017800	LD BC, 0078
E5BF:09		ADD HL, BC
E5C0:FE03	CP 03
E5C2:2805	JR Z, E5C9
E5C4:09		ADD HL, BC
E5C5:FE01	CP 01
E5C7:200C	JR NZ, E5D5
E5C9:		label FD_PREPINAC_INIT
E5C9:1A		LD A, (DE)
E5CA:B7		OR A
E5CB:F2D2E5	JP P, E5D2
E5CE:013C00	LD BC, 003C
E5D1:09		ADD HL, BC
E5D2:		label FD_PREPINAC_VIEW
E5D2:CDD2E7	CALL E7D2
E5D5:		label FD_PREPINAC_EXIT
E5D5:C1		POP BC
E5D6:189E	JR E576
E5D8:		label FOUND_ENEMY
E5D8:D5		PUSH DE
E5D9:DDE5	PUSH IX
E5DB:C5		PUSH BC
E5DC:3E0C	LD A, 0C
E5DE:B9		CP C
E5DF:200C	JR NZ, E5ED
E5E1:3A785C	LD A, (5C78)
E5E4:E640	AND 40
E5E6:3E02	LD A, 02
E5E8:CAEDE5	JP Z, E5ED
E5EB:3E01	LD A, 01
E5ED:		label FE_FAR
E5ED:3232E6	LD (E632), A
E5F0:1A		LD A, (DE)
E5F1:E6E0	AND E0
E5F3:07		RLCA
E5F4:07		RLCA
E5F5:07		RLCA
E5F6:DD6F	LD IXL, A
E5F8:07		RLCA
E5F9:81		ADD A, C
E5FA:81		ADD A, C
E5FB:C6D9	ADD A, D9
E5FD:6F		LD L, A
E5FE:CED4	ADC A, D4
E600:95		SUB L
E601:67		LD H, A
E602:13		INC DE
E603:1A		LD A, (DE)
E604:EB		EX DE, HL
E605:2151D5	LD HL, D551
E608:09		ADD HL, BC
E609:4E		LD C, (HL)
E60A:213EDA	LD HL, DA3E
E60D:09		ADD HL, BC
E60E:E61F	AND 1F
E610:2807	JR Z, E619
E612:010A00	LD BC, 000A
E615:		label FE_NEXT
E615:09		ADD HL, BC
E616:3D		DEC A
E617:20FC	JR NZ, E615
E619:		label FE_VIEW
E619:7E		LD A, (HL)
E61A:B7		OR A
E61B:CA4BE6	JP Z, E64B
E61E:2B		DEC HL
E61F:6E		LD L, (HL)
E620:67		LD H, A
E621:222FE6	LD (E62F), HL
E624:EB		EX DE, HL
E625:		label FE_LOOP
E625:2B		DEC HL
E626:46		LD B, (HL)
E627:2B		DEC HL
E628:4E		LD C, (HL)
E629:0C		INC C
E62A:0D		DEC C
E62B:CA47E6	JP Z, E647
E62E:		label FE_SELFMODIFIYNG
E62E:110000	LD DE, 0000
E631:		label FE_SELFMODIFIYNG2
E631:3E00	LD A, 00
E633:DDBD	CP IXL
E635:C23EE6	JP NZ, E63E
E638:11A568	LD DE, 68A5
E63B:05		DEC B
E63C:0E60	LD C, 60
E63E:		label FE_CALL
E63E:E5		PUSH HL
E63F:DDE5	PUSH IX
E641:CD91E0	CALL E091
E644:DDE1	POP IX
E646:E1		POP HL
E647:		label FE_TEST_LOOP
E647:DD2D	DEC IXL
E649:20DA	JR NZ, E625
E64B:		label FE_EXIT
E64B:C1		POP BC
E64C:DDE1	POP IX
E64E:D1		POP DE
E64F:C376E5	JP E576
E652:		label FOUND_DOOR
E652:0C		INC C
E653:0D		DEC C
E654:C8		RET Z
E655:1A		LD A, (DE)
E656:3C		INC A
E657:3C		INC A
E658:AC		XOR H
E659:E603	AND 03
E65B:C0		RET NZ
E65C:2101DA	LD HL, DA01
E65F:CDD1E7	CALL E7D1
E662:1A		LD A, (DE)
E663:C6E0	ADD A, E0
E665:D0		RET NC
E666:21C5D9	LD HL, D9C5
E669:CDD1E7	CALL E7D1
E66C:C9		RET
E66D:		label FOUND_RAM
E66D:13		INC DE
E66E:1A		LD A, (DE)
E66F:13		INC DE
E670:13		INC DE
E671:0C		INC C
E672:0D		DEC C
E673:200D	JR NZ, E682
E675:67		LD H, A
E676:3A46D4	LD A, (D446)
E679:AC		XOR H
E67A:E601	AND 01
E67C:2101DA	LD HL, DA01
E67F:CDD4E7	CALL E7D4
E682:		label FOUND_ITEM
		IF (false)
-     ld      a,c
-     cp      MAX_VIDITELNOST_PREDMETU_PLUS_1
-     jp      nc, FO_LOOP                     ; return ( bohuzel tolikrat, kolikrat je predmetu na policku )
		ENDIF
E682:DDCB004E	BIT 1, (IX+00)
E686:C0		RET NZ
E687:D5		PUSH DE
E688:3A46D4	LD A, (D446)
E68B:67		LD H, A
E68C:		label FI_HLEDANI_NEJVZDALENEJSIHO
E68C:1A		LD A, (DE)
E68D:E603	AND 03
E68F:BC		CP H
E690:300D	JR NC, E69F
E692:		label FI_DALSI_RADEK
E692:13		INC DE
E693:13		INC DE
E694:1A		LD A, (DE)
E695:13		INC DE
E696:B7		OR A
E697:28F9	JR Z, E692
E699:DDBD	CP IXL
E69B:28EF	JR Z, E68C
E69D:D1		POP DE
E69E:D5		PUSH DE
E69F:		label FI_NEJVZDALENEJSI
E69F:6B		LD L, E
E6A0:		label FI_VYKRESLI_ITEM_LOOP
E6A0:E5		PUSH HL
E6A1:D5		PUSH DE
E6A2:DDE5	PUSH IX
E6A4:C5		PUSH BC
E6A5:1A		LD A, (DE)
E6A6:E61C	AND 1C
E6A8:FE10	CP 10
E6AA:2807	JR Z, E6B3
E6AC:FE04	CP 04
E6AE:CC52E6	CALL Z, E652
E6B1:1837	JR E6EA
E6B3:		label FI_ITEM
E6B3:1A		LD A, (DE)
E6B4:94		SUB H
E6B5:E603	AND 03
E6B7:87		ADD A, A
E6B8:2151D5	LD HL, D551
E6BB:09		ADD HL, BC
E6BC:47		LD B, A
E6BD:7E		LD A, (HL)
E6BE:FE06	CP 06
E6C0:3028	JR NC, E6EA
E6C2:13		INC DE
E6C3:1A		LD A, (DE)
E6C4:87		ADD A, A
E6C5:87		ADD A, A
E6C6:87		ADD A, A
E6C7:86		ADD A, (HL)
E6C8:C651	ADD A, 51
E6CA:6F		LD L, A
E6CB:CEDA	ADC A, DA
E6CD:95		SUB L
E6CE:67		LD H, A
E6CF:5E		LD E, (HL)
E6D0:23		INC HL
E6D1:56		LD D, (HL)
E6D2:14		INC D
E6D3:15		DEC D
E6D4:2814	JR Z, E6EA
E6D6:79		LD A, C
E6D7:87		ADD A, A
E6D8:80		ADD A, B
E6D9:C68D	ADD A, 8D
E6DB:6F		LD L, A
E6DC:CED5	ADC A, D5
E6DE:95		SUB L
E6DF:67		LD H, A
E6E0:4E		LD C, (HL)
E6E1:0C		INC C
E6E2:0D		DEC C
E6E3:2805	JR Z, E6EA
E6E5:23		INC HL
E6E6:46		LD B, (HL)
E6E7:CD91E0	CALL E091
E6EA:		label FI_NEKRESLI
E6EA:C1		POP BC
E6EB:DDE1	POP IX
E6ED:D1		POP DE
E6EE:E1		POP HL
E6EF:13		INC DE
E6F0:13		INC DE
E6F1:1A		LD A, (DE)
E6F2:13		INC DE
E6F3:DDBD	CP IXL
E6F5:2802	JR Z, E6F9
E6F7:D1		POP DE
E6F8:D5		PUSH DE
E6F9:		label FI_TEST_ZACATKU_SELF
E6F9:7D		LD A, L
E6FA:BB		CP E
E6FB:20A3	JR NZ, E6A0
E6FD:D1		POP DE
E6FE:C9		RET
		End of INCLUDE
		INCLUDE draw3D.asm
E6FF:		label DRAW3D
E6FF:CD88E0	CALL E088
E702:0612	LD B, 12
E704:3A47D4	LD A, (D447)
E707:0F		RRCA
E708:87		ADD A, A
E709:87		ADD A, A
		IF (false)
-     .error 'Zmenit kod BIT_ZRCADLOVE != 4 nebo Y00 != 0...'
		ENDIF
E70A:E604	AND 04
E70C:4F		LD C, A
E70D:		label D_POZADI_LOOP
E70D:11AD7F	LD DE, 7FAD
E710:C5		PUSH BC
E711:05		DEC B
E712:CD91E0	CALL E091
E715:C1		POP BC
E716:10F5	DJNZ E70D
E718:11EA5F	LD DE, 5FEA
E71B:01C900	LD BC, 00C9
E71E:CD91E0	CALL E091
E721:26D2	LD H, D2
E723:3A46D4	LD A, (D446)
E726:6F		LD L, A
E727:4E		LD C, (HL)
E728:C60C	ADD A, 0C
E72A:6F		LD L, A
E72B:7E		LD A, (HL)
E72C:5F		LD E, A
E72D:87		ADD A, A
E72E:87		ADD A, A
E72F:57		LD D, A
E730:26D1	LD H, D1
E732:3A45D4	LD A, (D445)
E735:0606	LD B, 06
E737:		label NULA
E737:6F		LD L, A
E738:E5		PUSH HL
E739:81		ADD A, C
E73A:10FB	DJNZ E737
E73C:DDE1	POP IX
E73E:D5		PUSH DE
E73F:2185D7	LD HL, D785
E742:06FF	LD B, FF
E744:CD92E7	CALL E792
E747:D1		POP DE
E748:7A		LD A, D
E749:93		SUB E
E74A:57		LD D, A
E74B:DDE1	POP IX
E74D:D5		PUSH DE
E74E:21C9D7	LD HL, D7C9
E751:0630	LD B, 30
E753:CD92E7	CALL E792
E756:D1		POP DE
E757:7A		LD A, D
E758:93		SUB E
E759:57		LD D, A
E75A:DDE1	POP IX
E75C:D5		PUSH DE
E75D:21FDD7	LD HL, D7FD
E760:0624	LD B, 24
E762:CD92E7	CALL E792
E765:D1		POP DE
E766:7A		LD A, D
E767:93		SUB E
E768:57		LD D, A
E769:DDE1	POP IX
E76B:D5		PUSH DE
E76C:2121D8	LD HL, D821
E76F:0618	LD B, 18
E771:CD92E7	CALL E792
E774:D1		POP DE
E775:DDE1	POP IX
E777:D5		PUSH DE
E778:2135D8	LD HL, D835
E77B:060C	LD B, 0C
E77D:CD92E7	CALL E792
E780:D1		POP DE
E781:DDE1	POP IX
E783:2149D8	LD HL, D849
E786:0600	LD B, 00
E788:CD92E7	CALL E792
E78B:CDBAE9	CALL E9BA
E78E:CD7FE0	CALL E07F
E791:C9		RET
E792:		label PROHLEDEJ_PROSTOR_VPREDU
E792:DD4D	LD C, IXL
E794:7A		LD A, D
E795:		label PPV_LOOP
E795:81		ADD A, C
E796:DD6F	LD IXL, A
E798:DDCB004E	BIT 1, (IX+00)
E79C:CDD4E7	CALL E7D4
E79F:CDD4E7	CALL E7D4
E7A2:7A		LD A, D
E7A3:BB		CP E
E7A4:3E04	LD A, 04
E7A6:CCF0E7	CALL Z, E7F0
E7A9:79		LD A, C
E7AA:92		SUB D
E7AB:DD6F	LD IXL, A
E7AD:DDCB004E	BIT 1, (IX+00)
E7B1:CDD4E7	CALL E7D4
E7B4:CDD4E7	CALL E7D4
E7B7:7A		LD A, D
E7B8:BB		CP E
E7B9:3E08	LD A, 08
E7BB:CCF0E7	CALL Z, E7F0
E7BE:7A		LD A, D
E7BF:93		SUB E
E7C0:57		LD D, A
E7C1:20D2	JR NZ, E795
E7C3:DD69	LD IXL, C
E7C5:DDCB004E	BIT 1, (IX+00)
E7C9:CDD4E7	CALL E7D4
E7CC:AF		XOR A
E7CD:CDF0E7	CALL E7F0
E7D0:C9		RET
E7D1:		label ADD_BC_INIT_COPY_PATTERN2BUFFER_NOZEROFLAG
E7D1:09		ADD HL, BC
E7D2:		label INIT_COPY_PATTERN2BUFFER_NOZEROFLAG
E7D2:F601	OR 01
E7D4:		label INIT_COPY_PATTERN2BUFFER
E7D4:D5		PUSH DE
E7D5:C5		PUSH BC
E7D6:5E		LD E, (HL)
E7D7:23		INC HL
E7D8:56		LD D, (HL)
E7D9:23		INC HL
E7DA:4E		LD C, (HL)
E7DB:23		INC HL
E7DC:46		LD B, (HL)
E7DD:23		INC HL
E7DE:280D	JR Z, E7ED
E7E0:14		INC D
E7E1:15		DEC D
E7E2:F5		PUSH AF
E7E3:E5		PUSH HL
E7E4:DDE5	PUSH IX
E7E6:C491E0	CALL NZ, E091
E7E9:DDE1	POP IX
E7EB:E1		POP HL
E7EC:F1		POP AF
E7ED:		label ICP_EXIT
E7ED:C1		POP BC
E7EE:D1		POP DE
E7EF:C9		RET
E7F0:		label INIT_FIND_OBJECT
E7F0:CB78	BIT 7, B
E7F2:C0		RET NZ
E7F3:E5		PUSH HL
E7F4:D5		PUSH DE
E7F5:C5		PUSH BC
E7F6:80		ADD A, B
E7F7:4F		LD C, A
E7F8:0600	LD B, 00
E7FA:CD6EE5	CALL E56E
E7FD:C1		POP BC
E7FE:D1		POP DE
E7FF:E1		POP HL
E800:C9		RET
		End of INCLUDE
		INCLUDE inventory.asm
E801:		label TEST_OTEVRENY_INVENTAR
E801:3A10D2	LD A, (D210)
E804:E601	AND 01
E806:3AFED6	LD A, (D6FE)
E809:C9		RET
E80A:		label DE_INVENTORY_ITEMS_AKTIVNI_B0
E80A:0600	LD B, 00
E80C:		label DE_INVENTORY_ITEMS_AKTIVNI_B
E80C:3A72D4	LD A, (D472)
E80F:5F		LD E, A
E810:		label DE_INVENTORY_ITEMS_ABE
		IF (false)
-     .error 'Zmenit kod pro nasobeni 27x'
		ENDIF
E810:87		ADD A, A
E811:87		ADD A, A
E812:87		ADD A, A
E813:87		ADD A, A
E814:87		ADD A, A
E815:93		SUB E
E816:80		ADD A, B
E817:C605	ADD A, 05
E819:5F		LD E, A
		IF (false)
-      .warning 'Delsi kod o 2 bajty! Pole INVENTORY_ITEMS = preleza segment!'
-     adc     A, INVENTORY_ITEMS / 256;  7:2
-     sub     E                       ;  4:1
-     ld      D, A                    ;  4:1
		ELSE (true)
E81A:16D6	LD D, D6
		ENDIF
E81C:C9		RET
E81D:		label SET_RIGHT_PANEL
E81D:2110D2	LD HL, D210
E820:7E		LD A, (HL)
E821:EE01	XOR 01
E823:77		LD (HL), A
E824:E601	AND 01
E826:C2BEE8	JP NZ, E8BE
E829:1806	JR E831
E82B:		label NEW_PLAYER_ACTIVE
E82B:CD01E8	CALL E801
E82E:C2BEE8	JP NZ, E8BE
E831:		label PLAYERS_WINDOW
E831:01010E	LD BC, 0E01
E834:2112C8	LD HL, C812
E837:CDCFEB	CALL EBCF
E83A:01030E	LD BC, 0E03
E83D:21B2C8	LD HL, C8B2
E840:CDCFEB	CALL EBCF
E843:01030E	LD BC, 0E03
E846:2192C9	LD HL, C992
E849:CDCFEB	CALL EBCF
E84C:01010E	LD BC, 0E01
E84F:2172CA	LD HL, CA72
E852:CDCFEB	CALL EBCF
E855:DD210CDF	LD IX, DF0C
E859:ED4B72D4	LD BC, (D472)
E85D:0C		INC C
E85E:2112C8	LD HL, C812
E861:1119C8	LD DE, C819
E864:		label PW_JMENA_LOOP
E864:3E03	LD A, 03
E866:0D		DEC C
E867:2802	JR Z, E86B
E869:3E07	LD A, 07
E86B:		label PW_AKTIVNI
E86B:F5		PUSH AF
E86C:CD32E4	CALL E432
E86F:7D		LD A, L
E870:C6A0	ADD A, A0
E872:6F		LD L, A
E873:8C		ADC A, H
E874:95		SUB L
E875:67		LD H, A
E876:F1		POP AF
E877:DDE5	PUSH IX
E879:DD2109DF	LD IX, DF09
E87D:CD32E4	CALL E432
E880:DDE1	POP IX
E882:7D		LD A, L
E883:C640	ADD A, 40
E885:6F		LD L, A
E886:8C		ADC A, H
E887:95		SUB L
E888:67		LD H, A
E889:EB		EX DE, HL
E88A:10D8	DJNZ E864
E88C:DD2105D6	LD IX, D605
E890:AF		XOR A
E891:F5		PUSH AF
E892:0E1F	LD C, 1F
E894:		label PW_HANDS_LOOP
E894:47		LD B, A
E895:DD7E14	LD A, (IX+14)
E898:CD5DEA	CALL EA5D
E89B:04		INC B
E89C:DD7E19	LD A, (IX+19)
E89F:CD5DEA	CALL EA5D
E8A2:04		INC B
E8A3:78		LD A, B
E8A4:0600	LD B, 00
E8A6:DD09	ADD IX, BC
E8A8:FE0C	CP 0C
E8AA:C294E8	JP NZ, E894
E8AD:CD89E9	CALL E989
E8B0:218DD4	LD HL, D48D
E8B3:0606	LD B, 06
E8B5:		label PW_AVATARS
E8B5:CDD2E7	CALL E7D2
E8B8:10FB	DJNZ E8B5
E8BA:CDF4EB	CALL EBF4
E8BD:C9		RET
E8BE:		label INVENTORY_WINDOW_OPEN
E8BE:		label INVENTORY_WINDOW_KURZOR
E8BE:		label INVENTORY_WINDOW_REFRESH
E8BE:010408	LD BC, 0804
E8C1:2198C8	LD HL, C898
E8C4:CDCFEB	CALL EBCF
E8C7:010808	LD BC, 0808
E8CA:2118C9	LD HL, C918
E8CD:CDCFEB	CALL EBCF
E8D0:010408	LD BC, 0804
E8D3:2118CA	LD HL, CA18
E8D6:CDCFEB	CALL EBCF
E8D9:01040A	LD BC, 0A04
E8DC:2116C8	LD HL, C816
E8DF:CDCFEB	CALL EBCF
E8E2:3A72D4	LD A, (D472)
E8E5:F5		PUSH AF
		IF (false)
-     .warning 'Pomalejsi kod protoze NAMES preleza segment!'
-     inc     a                       ;  4:1
-     ld      bc,NEXT_NAME            ; 10:3
-     ld      hl,NAMES-NEXT_NAME      ; 10:3
- IW_NEXT_NAME:        
-     add     hl,bc                   ; 11:1
-     dec     a                       ;  4:1
-     jr      nz,IW_NEXT_NAME         ;12/7:2
-     push    hl                      ; 11:1
-     pop     ix                      ; 14:2 ix <- hl
		ELSE (true)
E8E6:67		LD H, A
E8E7:87		ADD A, A
E8E8:87		ADD A, A
E8E9:6F		LD L, A
E8EA:87		ADD A, A
E8EB:85		ADD A, L
E8EC:94		SUB H
E8ED:C60C	ADD A, 0C
E8EF:DD6F	LD IXL, A
E8F1:DD26DF	LD IXH, DF
		ENDIF
		IF (false)
-     .error 'Zmen kod protoze se NEXT_NAME != 11!'
		ENDIF
E8F4:2116C8	LD HL, C816
E8F7:CDECE3	CALL E3EC
E8FA:F1		POP AF
E8FB:87		ADD A, A
E8FC:87		ADD A, A
E8FD:C68D	ADD A, 8D
E8FF:6F		LD L, A
E900:CED4	ADC A, D4
E902:95		SUB L
E903:67		LD H, A
E904:5E		LD E, (HL)
E905:23		INC HL
E906:56		LD D, (HL)
E907:010012	LD BC, 1200
E90A:CD91E0	CALL E091
E90D:AF		XOR A
E90E:F5		PUSH AF
E90F:061B	LD B, 1B
E911:		label IW_LOOP
E911:CD35E9	CALL E935
E914:10FB	DJNZ E911
E916:11D986	LD DE, 86D9
E919:D5		PUSH DE
E91A:11291D	LD DE, 1D29
E91D:D5		PUSH DE
E91E:11005F	LD DE, 5F00
E921:D5		PUSH DE
E922:11E019	LD DE, 19E0
E925:D5		PUSH DE
E926:11005F	LD DE, 5F00
E929:D5		PUSH DE
E92A:11E41D	LD DE, 1DE4
E92D:D5		PUSH DE
E92E:CD89E9	CALL E989
E931:CDBAE9	CALL E9BA
E934:C9		RET
E935:		label VYKRESLI_ITEM_NA_POZICI_B
E935:E1		POP HL
E936:2287E9	LD (E987), HL
E939:78		LD A, B
E93A:87		ADD A, A
PVIm2		EQU D6FD
E93B:C6FD	ADD A, FD
E93D:6F		LD L, A
		IF (true)
E93E:CED6	ADC A, D6
E940:95		SUB L
E941:67		LD H, A
E942:7E		LD A, (HL)
E943:23		INC HL
		ELSE (false)
-     ld      H, POZICE_V_INVENTARI / 256
-     ld      A, (HL)
-     inc     L
		ENDIF
E944:66		LD H, (HL)
E945:6F		LD L, A
E946:3AFDD6	LD A, (D6FD)
E949:4F		LD C, A
E94A:CD22EA	CALL EA22
E94D:2805	JR Z, E954
E94F:110287	LD DE, 8702
E952:D5		PUSH DE
E953:E5		PUSH HL
E954:		label IW_BEZ_MRIZKY
E954:48		LD C, B
E955:CD0CE8	CALL E80C
		IF (false)
-     .warning 'Pomalejsi kod, INVENTORY_ITEMS preleza segment!'
-     dec     DE
		ELSE (true)
E958:1D		DEC E
		ENDIF
E959:1A		LD A, (DE)
E95A:87		ADD A, A
E95B:2806	JR Z, E963
E95D:CD98E9	CALL E998
E960:D5		PUSH DE
E961:E5		PUSH HL
E962:0D		DEC C
E963:		label IW_BEZ_PREDMETU
E963:78		LD A, B
E964:FE11	CP 11
E966:2005	JR NZ, E96D
E968:116D84	LD DE, 846D
E96B:D5		PUSH DE
E96C:E5		PUSH HL
E96D:		label IW_NENI_PROSTIRANI
E96D:11A684	LD DE, 84A6
E970:3805	JR C, E977
E972:2803	JR Z, E977
E974:B9		CP C
E975:2803	JR Z, E97A
E977:		label IW_MODRY
E977:114381	LD DE, 8143
E97A:		label IW_PRAZDNE_POLICKO
E97A:3AFED6	LD A, (D6FE)
E97D:3C		INC A
E97E:B8		CP B
E97F:2003	JR NZ, E984
E981:117C81	LD DE, 817C
E984:		label IW_NEJSME_NA_KURZORU
E984:D5		PUSH DE
E985:E5		PUSH HL
E986:		label VINPB_SELF
E986:C30000	JP 0000
E989:		label KRESLI_ZE_ZASOBNIKU
E989:E1		POP HL
E98A:C1		POP BC
E98B:04		INC B
E98C:05		DEC B
E98D:2807	JR Z, E996
E98F:D1		POP DE
E990:E5		PUSH HL
E991:CD91E0	CALL E091
E994:18F3	JR E989
E996:		label KZZ_EXIT
E996:E5		PUSH HL
E997:C9		RET
E998:		label DE_2DSPRITE_A
E998:E5		PUSH HL
E999:C6BF	ADD A, BF
E99B:6F		LD L, A
		IF (false)
-     .warning 'ITEM2SPRITE preleze segment!'
-     adc     A, ITEM2SPRITE / 256
-     sub     L
-     ld      H, A
-     ld      E, (HL)
-     inc     HL
		ELSE (true)
E99C:26D6	LD H, D6
E99E:5E		LD E, (HL)
E99F:2C		INC L
		ENDIF
E9A0:56		LD D, (HL)
E9A1:E1		POP HL
E9A2:C9		RET
E9A3:		label A_NAJDI_POLOZENY_PREDMET_HL
E9A3:E5		PUSH HL
E9A4:C5		PUSH BC
E9A5:D5		PUSH DE
E9A6:CDE3E4	CALL E4E3
E9A9:EB		EX DE, HL
E9AA:2B		DEC HL
E9AB:7E		LD A, (HL)
E9AC:2B		DEC HL
E9AD:46		LD B, (HL)
E9AE:2B		DEC HL
E9AF:4E		LD C, (HL)
E9B0:EB		EX DE, HL
E9B1:ED42	SBC HL, BC
E9B3:2801	JR Z, E9B6
E9B5:AF		XOR A
E9B6:		label NPP_EXIT
E9B6:D1		POP DE
E9B7:C1		POP BC
E9B8:E1		POP HL
E9B9:C9		RET
E9BA:		label VYKRESLI_AKTIVNI_PREDMET
E9BA:CD01E8	CALL E801
E9BD:C8		RET Z
E9BE:CD0AE8	CALL E80A
E9C1:D5		PUSH DE
E9C2:DDE1	POP IX
E9C4:2A45D4	LD HL, (D445)
E9C7:CDA3E9	CALL E9A3
E9CA:DD771C	LD (IX+1C), A
E9CD:24		INC H
E9CE:CDA3E9	CALL E9A3
E9D1:DD771E	LD (IX+1E), A
E9D4:CD7DE3	CALL E37D
E9D7:25		DEC H
E9D8:CDA3E9	CALL E9A3
E9DB:DD771B	LD (IX+1B), A
E9DE:25		DEC H
E9DF:CDA3E9	CALL E9A3
E9E2:DD771D	LD (IX+1D), A
E9E5:AF		XOR A
E9E6:F5		PUSH AF
E9E7:061F	LD B, 1F
E9E9:		label VAP_LOOP
E9E9:CD35E9	CALL E935
E9EC:05		DEC B
E9ED:3E1B	LD A, 1B
E9EF:B8		CP B
E9F0:20F7	JR NZ, E9E9
E9F2:CD89E9	CALL E989
E9F5:3AFDD6	LD A, (D6FD)
E9F8:87		ADD A, A
E9F9:C8		RET Z
E9FA:C6BF	ADD A, BF
E9FC:6F		LD L, A
		IF (true)
E9FD:CED6	ADC A, D6
E9FF:95		SUB L
EA00:67		LD H, A
EA01:5E		LD E, (HL)
EA02:23		INC HL
		ELSE (false)
-     ld      h, ITEM2SPRITE / 256
-     ld      e, (hl)
-     inc     l
		ENDIF
EA03:56		LD D, (HL)
EA04:D5		PUSH DE
EA05:3AFED6	LD A, (D6FE)
EA08:87		ADD A, A
EA09:C6FF	ADD A, FF
EA0B:6F		LD L, A
EA0C:CED6	ADC A, D6
EA0E:95		SUB L
EA0F:67		LD H, A
EA10:4E		LD C, (HL)
EA11:23		INC HL
EA12:46		LD B, (HL)
EA13:05		DEC B
EA14:0D		DEC C
EA15:117C81	LD DE, 817C
EA18:C5		PUSH BC
EA19:CD91E0	CALL E091
EA1C:C1		POP BC
EA1D:D1		POP DE
EA1E:CD91E0	CALL E091
EA21:C9		RET
EA22:		label TEST_NEPOVOLENE_POZICE
EA22:78		LD A, B
EA23:3D		DEC A
EA24:FE1B	CP 1B
EA26:380D	JR C, EA35
EA28:E601	AND 01
EA2A:C8		RET Z
EA2B:E5		PUSH HL
EA2C:CD7DE3	CALL E37D
EA2F:26D1	LD H, D1
EA31:CB46	BIT 0, (HL)
EA33:E1		POP HL
EA34:C9		RET
EA35:		label TNP_NOSENE
EA35:E6F0	AND F0
EA37:C8		RET Z
EA38:79		LD A, C
EA39:B7		OR A
EA3A:C8		RET Z
POZICE_M1	EQU D73C
EA3B:E5		PUSH HL
EA3C:C63C	ADD A, 3C
EA3E:6F		LD L, A
EA3F:CED7	ADC A, D7
EA41:95		SUB L
EA42:67		LD H, A
EA43:78		LD A, B
EA44:FE1B	CP 1B
EA46:2002	JR NZ, EA4A
EA48:3E16	LD A, 16
EA4A:		label TNP_NENI_PRSTEN
EA4A:FE1A	CP 1A
EA4C:2002	JR NZ, EA50
EA4E:3E15	LD A, 15
EA50:		label TNP_NENI_RUKA
EA50:BE		CP (HL)
EA51:E1		POP HL
EA52:C9		RET
EA53:		label DE_POZICE_RUKOU_A
		IF (false)
-     .error      'Seznam POZICE_RUKOU prekracuje 256 bajtovy segment!'
		ENDIF
EA53:87		ADD A, A
EA54:C675	ADD A, 75
EA56:6F		LD L, A
EA57:26D4	LD H, D4
EA59:5E		LD E, (HL)
EA5A:2C		INC L
EA5B:56		LD D, (HL)
EA5C:C9		RET
EA5D:		label VYKRESLI_RUKU
EA5D:E1		POP HL
EA5E:227BEA	LD (EA7B), HL
EA61:11F382	LD DE, 82F3
EA64:87		ADD A, A
EA65:2808	JR Z, EA6F
EA67:C6BF	ADD A, BF
EA69:6F		LD L, A
		IF (false)
-     adc     A, ITEM2SPRITE / 256
-     sub     L
-     ld      H, A
-     ld      E, (HL)
-     inc     HL
		ELSE (true)
EA6A:26D6	LD H, D6
EA6C:5E		LD E, (HL)
EA6D:2C		INC L
		ENDIF
EA6E:56		LD D, (HL)
EA6F:		label VR_PRAZDNA
EA6F:D5		PUSH DE
EA70:78		LD A, B
EA71:CD53EA	CALL EA53
EA74:D5		PUSH DE
EA75:214381	LD HL, 8143
EA78:E5		PUSH HL
EA79:D5		PUSH DE
EA7A:		label VR_SELF
EA7A:C30000	JP 0000
		End of INCLUDE
EA7D:		label PUSH_ALL
EA7D:2292EA	LD (EA92), HL
EA80:E3		EX (SP), HL
EA81:F5		PUSH AF
EA82:C5		PUSH BC
EA83:D5		PUSH DE
EA84:DDE5	PUSH IX
EA86:FDE5	PUSH IY
EA88:08		EX AF, AF'
EA89:F5		PUSH AF
EA8A:08		EX AF, AF'
EA8B:D9		EXX
EA8C:C5		PUSH BC
EA8D:D5		PUSH DE
EA8E:E5		PUSH HL
EA8F:D9		EXX
EA90:E5		PUSH HL
EA91:		label PUSH_ALL_HL
EA91:210000	LD HL, 0000
EA94:C9		RET
EA95:		label POP_ALL
EA95:E1		POP HL
EA96:D9		EXX
EA97:E1		POP HL
EA98:D1		POP DE
EA99:C1		POP BC
EA9A:D9		EXX
EA9B:08		EX AF, AF'
EA9C:F1		POP AF
EA9D:08		EX AF, AF'
EA9E:FDE1	POP IY
EAA0:DDE1	POP IX
EAA2:D1		POP DE
EAA3:C1		POP BC
EAA4:F1		POP AF
EAA5:E3		EX (SP), HL
EAA6:C9		RET
EAA7:		label TIME_SCROLL
EAA7:3A795C	LD A, (5C79)
EAAA:E602	AND 02
EAAC:47		LD B, A
EAAD:		label TIME_SCROLL_LAST
EAAD:EE00	XOR 00
EAAF:C8		RET Z
EAB0:78		LD A, B
EAB1:32AEEA	LD (EAAE), A
EAB4:CD3CE4	CALL E43C
EAB7:C9		RET
EAB8:		label PREHOD_PREPINAC
EAB8:CD01E8	CALL E801
EABB:CA0EEB	JP Z, EB0E
EABE:47		LD B, A
EABF:04		INC B
EAC0:21FDD6	LD HL, D6FD
EAC3:4E		LD C, (HL)
EAC4:CD22EA	CALL EA22
EAC7:DD21D8DB	LD IX, DBD8
EACB:C25FE4	JP NZ, E45F
EACE:3E11	LD A, 11
EAD0:90		SUB B
EAD1:E5		PUSH HL
EAD2:CC9BEB	CALL Z, EB9B
EAD5:05		DEC B
EAD6:CD0CE8	CALL E80C
EAD9:1A		LD A, (DE)
EADA:EB		EX DE, HL
EADB:71		LD (HL), C
EADC:E1		POP HL
EADD:77		LD (HL), A
EADE:C5		PUSH BC
EADF:CDBFE4	CALL E4BF
EAE2:C1		POP BC
EAE3:2AFDD6	LD HL, (D6FD)
EAE6:7C		LD A, H
EAE7:D61B	SUB 1B
EAE9:DABEE8	JP C, E8BE
EAEC:26EB	LD H, EB
EAEE:C60A	ADD A, 0A
EAF0:6F		LD L, A
EAF1:46		LD B, (HL)
EAF2:2A45D4	LD HL, (D445)
EAF5:CB48	BIT 1, B
EAF7:C47DE3	CALL NZ, E37D
EAFA:7C		LD A, H
EAFB:80		ADD A, B
EAFC:67		LD H, A
EAFD:79		LD A, C
EAFE:B7		OR A
EAFF:F5		PUSH AF
EB00:C400E5	CALL NZ, E500
EB03:F1		POP AF
EB04:CC2CE5	CALL Z, E52C
EB07:C3BEE8	JP E8BE
EB0A:		label PP_DATA
EB0A:03000201	DEFB of 4 bytes
EB0E:		label PP_DATA_END
		IF (false)
-     .error 'PP_DATA!'
		ENDIF
EB0E:		label PP_NEJSME_V_INVENTARI
EB0E:CD7DE3	CALL E37D
EB11:3E00	LD A, 00
EB13:81		ADD A, C
EB14:47		LD B, A
EB15:CDC9E4	CALL E4C9
EB18:		label PP_NALEZEN_OBJEKT
EB18:C0		RET NZ
EB19:1A		LD A, (DE)
EB1A:E61F	AND 1F
EB1C:B8		CP B
EB1D:280C	JR Z, EB2B
EB1F:E61C	AND 1C
EB21:FE0C	CP 0C
EB23:CC74E4	CALL Z, E474
EB26:CDCCE4	CALL E4CC
EB29:18ED	JR EB18
EB2B:		label PP_PROHOD_PAKU
		IF (false)
-     ld      A, (DE)                     ;  7:1 typ
-     xor     ZAM_1                       ;  7:2 prepneme paku / prohodime horni bit
-     ld      (de),a                      ;  7:1 typ
		ELSE (true)
EB2B:2680	LD H, 80
EB2D:CD54E5	CALL E554
		ENDIF
EB30:13		INC DE
EB31:CD86E4	CALL E486
EB34:		label PP_LOOP
EB34:13		INC DE
EB35:1A		LD A, (DE)
EB36:B7		OR A
EB37:C0		RET NZ
EB38:13		INC DE
EB39:1A		LD A, (DE)
EB3A:6F		LD L, A
EB3B:13		INC DE
EB3C:1A		LD A, (DE)
EB3D:67		LD H, A
EB3E:CD54E5	CALL E554
EB41:C334EB	JP EB34
EB44:		label HELP
EB44:DD2162DE	LD IX, DE62
EB48:3E02	LD A, 02
EB4A:CD61E4	CALL E461
EB4D:CD5FE4	CALL E45F
EB50:CD5FE4	CALL E45F
EB53:CD5FE4	CALL E45F
EB56:C9		RET
EB57:		label OBAL_SPRITE2BUFFER
EB57:F5		PUSH AF
EB58:E5		PUSH HL
EB59:D5		PUSH DE
EB5A:CD91E0	CALL E091
EB5D:D1		POP DE
EB5E:E1		POP HL
EB5F:F1		POP AF
EB60:C9		RET
EB61:		label AKTUALIZUJ_RUZICI
EB61:3A46D4	LD A, (D446)
EB64:87		ADD A, A
EB65:87		ADD A, A
EB66:C6C9	ADD A, C9
EB68:6F		LD L, A
		IF (false)
- .warning 'Delsi kod o 2 bajty! RUZICE a RUZICE_END lezi na dvou segmentech!'
-     adc     a,RUZICE / 256              ;  7:2 resi preteceni
-     sub     l                           ;  7:2 
-     ld      h,a                         ;  4:1 hl = ukazatel na ukazatel spravneho spritu
		ELSE (true)
EB69:26D4	LD H, D4
		ENDIF
EB6B:CDD4E7	CALL E7D4
EB6E:C9		RET
EB6F:		label AKTUALIZUJ_SIPKY
EB6F:C5		PUSH BC
EB70:E5		PUSH HL
EB71:6F		LD L, A
EB72:CD6EE0	CALL E06E
EB75:7D		LD A, L
EB76:21A9D4	LD HL, D4A9
EB79:CDD4E7	CALL E7D4
EB7C:85		ADD A, L
EB7D:6F		LD L, A
		IF (false)
-     .warning    'Delsi kod o 3 bajty! Pole SIPKY preleza 256 bajtovy segment!'
-     adc     A, H                        ; 4:1
-     sub     L                           ; 4:1
-     ld      H, A                        ; 4:1 H + carry
		ENDIF
EB7E:CDD4E7	CALL E7D4
EB81:CD5DE0	CALL E05D
EB84:E1		POP HL
EB85:C1		POP BC
EB86:C9		RET
		IF (false)
- HORIZONTAL_FULL_LINE:
-     ld      a,$ff
- HORIZONTAL_MASK_LINE:
- HML_LOOP:
-     ld      (hl),a
-     inc     l
-     djnz    HML_LOOP
-     ret
		ENDIF
		IF (false)
- FILL_BLOCK:
-     ld      A, L                ;  4:1 nastavime na prvni znak a budeme postupne zvysovat o 32 => o znak nize
- FB_DALSI_MICROLINE:
-     push    AF                  ; 11:1 ulozime L
-     ld      C, IXL              ;  8:2 nastavime citac poctu radku
- FB_DALSI_RADEK:
-     ld      B, IXH              ;  8:2 nastavime citac poctu sloupcu
- FB_DALSI_SLOUPEC:
-     ld      (HL), E             ;  7:1
-     inc     L                   ;  4:1
-     djnz    FB_DALSI_SLOUPEC    ;13/8:2
-     add     A, $20              ;  7:2
-     ld      L, A                ;  4:1 stejna mikroradka o znak/radek nize
-     dec     C                   ;  4:1
-     jr      nz, FB_DALSI_RADEK  ;12/7:2
-     pop     AF                  ; 10:1
-     ld      L, A                ;  4:1
-     dec     D                   ;  4:1
-     ret     z                   ;11/5:1 pokud byla vyplnena jen jedna mikroradka ( atributy ) tak hl nebylo zmeneno
-     inc     H                   ;  4:1 o mikroradek nize
-     jp      FB_DALSI_MICROLINE  ; 10:3
- FILL_ATTR_BLOCK:
-     ld      IXH, B                  ; 8:2 push    bc + pop     ix = 11+14:1+2
-     ld      IXL, C                  ; 8:2
-     ld      DE, $0107               ; 10:3 jen 1 mikroradek a bila barva (vzor)
-     call    FILL_BLOCK
-     call    SEG_ATTR2SCREEN
-     ld      DE, $0800               ; 10:3 8 mikroradku a vyplnujeme nulama
-     call    FILL_BLOCK
-     ret
		ELSE (true)
EB87:		label FILL_BLOCK
EB87:		label FB_PIXEL
EB87:C5		PUSH BC
EB88:E5		PUSH HL
EB89:7D		LD A, L
EB8A:		label FB_RADEK
EB8A:42		LD B, D
EB8B:		label FB_DALSI_SLOUPEC
EB8B:73		LD (HL), E
EB8C:2C		INC L
EB8D:10FC	DJNZ EB8B
EB8F:C620	ADD A, 20
EB91:6F		LD L, A
EB92:0D		DEC C
EB93:20F5	JR NZ, EB8A
EB95:E1		POP HL
EB96:C1		POP BC
EB97:24		INC H
EB98:10ED	DJNZ EB87
EB9A:C9		RET
EB9B:		label EATING
EB9B:C5		PUSH BC
EB9C:3A72D4	LD A, (D472)
EB9F:CDADEC	CALL ECAD
EBA2:23		INC HL
EBA3:46		LD B, (HL)
EBA4:115ADC	LD DE, DC5A
EBA7:79		LD A, C
EBA8:D61B	SUB 1B
EBAA:200D	JR NZ, EBB9
EBAC:1166DC	LD DE, DC66
EBAF:2B		DEC HL
EBB0:7E		LD A, (HL)
EBB1:C614	ADD A, 14
EBB3:B8		CP B
EBB4:3801	JR C, EBB7
EBB6:78		LD A, B
EBB7:		label E_LESS
EBB7:77		LD (HL), A
EBB8:AF		XOR A
EBB9:		label E_NO_FOOD
EBB9:3D		DEC A
EBBA:2002	JR NZ, EBBE
EBBC:2B		DEC HL
EBBD:70		LD (HL), B
EBBE:		label E_NO_R
EBBE:3D		DEC A
EBBF:2002	JR NZ, EBC3
EBC1:23		INC HL
EBC2:77		LD (HL), A
EBC3:		label E_NO_G
EBC3:3D		DEC A
EBC4:2000	JR NZ, EBC6
EBC6:		label E_NO_B
EBC6:		label E_PRINT
EBC6:EB		EX DE, HL
EBC7:79		LD A, C
EBC8:CDA6E4	CALL E4A6
EBCB:C1		POP BC
EBCC:0E00	LD C, 00
EBCE:C9		RET
EBCF:		label FILL_ATTR_BLOCK
EBCF:50		LD D, B
EBD0:1E07	LD E, 07
EBD2:0601	LD B, 01
EBD4:CD87EB	CALL EB87
EBD7:25		DEC H
EBD8:CDE3EB	CALL EBE3
EBDB:1E00	LD E, 00
EBDD:0608	LD B, 08
EBDF:CD87EB	CALL EB87
EBE2:C9		RET
		ENDIF
EBE3:		label SEG_ATTR2SCREEN
EBE3:7C		LD A, H
EBE4:26B0	LD H, B0
EBE6:D6C8	SUB C8
EBE8:3004	JR NC, EBEE
EBEA:2640	LD H, 40
EBEC:C670	ADD A, 70
EBEE:		label SA_BUFF
EBEE:87		ADD A, A
EBEF:87		ADD A, A
EBF0:87		ADD A, A
EBF1:84		ADD A, H
EBF2:67		LD H, A
EBF3:C9		RET
EBF4:		label ZOBRAZ_ZIVOTY
EBF4:215BD7	LD HL, D75B
EBF7:0606	LD B, 06
EBF9:		label ZZ_LOOP
EBF9:C5		PUSH BC
EBFA:4E		LD C, (HL)
EBFB:2C		INC L
EBFC:46		LD B, (HL)
EBFD:2C		INC L
EBFE:2C		INC L
EBFF:5E		LD E, (HL)
EC00:2C		INC L
EC01:56		LD D, (HL)
EC02:CD46EC	CALL EC46
EC05:2C		INC L
EC06:4E		LD C, (HL)
EC07:2C		INC L
EC08:3A785C	LD A, (5C78)
EC0B:B9		CP C
EC0C:3802	JR C, EC10
EC0E:AF		XOR A
EC0F:77		LD (HL), A
EC10:		label ZZ_NEVYPRSEL
EC10:7E		LD A, (HL)
EC11:B7		OR A
EC12:2804	JR Z, EC18
EC14:47		LD B, A
EC15:CD20EC	CALL EC20
EC18:		label ZZ_BEZ_AKT_ZRANENI
EC18:2C		INC L
EC19:C1		POP BC
EC1A:10DD	DJNZ EBF9
EC1C:C9		RET
EC1D:		label FLEK_Y
EC1D:80		DEFB of 1 bytes
EC1E:69		DEFB of 1 bytes
EC1F:52		DEFB of 1 bytes
EC20:		label FLEK_Y_END
EC20:		label VYKRESLI_KRVAVY_FLEK
EC20:E5		PUSH HL
		IF (false)
-     .error 'FLEK_Y preleze segment'
		ENDIF
EC21:7A		LD A, D
EC22:D6C8	SUB C8
EC24:C61D	ADD A, 1D
EC26:6F		LD L, A
EC27:26EC	LD H, EC
EC29:4E		LD C, (HL)
EC2A:7B		LD A, E
EC2B:E61F	AND 1F
EC2D:3D		DEC A
EC2E:47		LD B, A
EC2F:D5		PUSH DE
EC30:116770	LD DE, 7067
EC33:CD57EB	CALL EB57
EC36:E1		POP HL
EC37:2C		INC L
EC38:2C		INC L
EC39:DD2144EC	LD IX, EC44
EC3D:3E42	LD A, 42
EC3F:CDEEE3	CALL E3EE
EC42:E1		POP HL
EC43:C9		RET
EC44:		label DAMAGE_BUF
EC44:3100	DEFB of 2 bytes
EC46:		label VYKRESLI_ZIVOTY
EC46:E5		PUSH HL
EC47:D5		PUSH DE
EC48:D5		PUSH DE
EC49:AF		XOR A
EC4A:67		LD H, A
EC4B:69		LD L, C
EC4C:57		LD D, A
EC4D:58		LD E, B
EC4E:47		LD B, A
EC4F:29		ADD HL, HL
EC50:29		ADD HL, HL
EC51:09		ADD HL, BC
EC52:4F		LD C, A
EC53:37		SCF
EC54:		label VZ_ZNAKU
EC54:0D		DEC C
EC55:ED52	SBC HL, DE
EC57:30FB	JR NC, EC54
EC59:ED5A	ADC HL, DE
EC5B:29		ADD HL, HL
EC5C:29		ADD HL, HL
EC5D:29		ADD HL, HL
EC5E:		label VZ_ZBYTEK
EC5E:3C		INC A
EC5F:ED52	SBC HL, DE
EC61:30FB	JR NC, EC5E
		IF (false)
-     .error      'Seznam CARKY prekracuje segment!'
		ENDIF
EC63:C653	ADD A, 53
EC65:6F		LD L, A
EC66:26E0	LD H, E0
EC68:56		LD D, (HL)
EC69:79		LD A, C
EC6A:3C		INC A
EC6B:2002	JR NZ, EC6F
EC6D:3E42	LD A, 42
EC6F:		label VZ_VICEZNAKOVY
EC6F:E646	AND 46
EC71:5F		LD E, A
EC72:E1		POP HL
EC73:0605	LD B, 05
EC75:		label VZ_LOOP_SELF
EC75:7A		LD A, D
EC76:0C		INC C
EC77:2803	JR Z, EC7C
EC79:79		LD A, C
EC7A:17		RLA
EC7B:9F		SBC A, A
EC7C:		label VZ_PREDEL
EC7C:		label VZ_COL_SELF
EC7C:73		LD (HL), E
EC7D:E5		PUSH HL
EC7E:C5		PUSH BC
EC7F:4F		LD C, A
EC80:CDE3EB	CALL EBE3
EC83:0606	LD B, 06
EC85:		label VZ_LOOP_PX
EC85:24		INC H
EC86:71		LD (HL), C
EC87:10FC	DJNZ EC85
EC89:C1		POP BC
EC8A:E1		POP HL
EC8B:2C		INC L
EC8C:10E7	DJNZ EC75
EC8E:D1		POP DE
EC8F:E1		POP HL
EC90:C9		RET
EC91:		label VYHAZEJ_VSECHNO
EC91:C5		PUSH BC
EC92:D5		PUSH DE
EC93:7B		LD A, E
EC94:061B	LD B, 1B
EC96:CD10E8	CALL E810
EC99:		label VV_LOOP
		IF (false)
-     .warning 'Pomalejsi kod kvuli vicesegmentovemu INVENTORY_ITEMS'
-     dec     DE
		ELSE (true)
EC99:1D		DEC E
		ENDIF
EC9A:D5		PUSH DE
EC9B:C5		PUSH BC
EC9C:2A45D4	LD HL, (D445)
EC9F:1A		LD A, (DE)
ECA0:B7		OR A
ECA1:C400E5	CALL NZ, E500
ECA4:C1		POP BC
ECA5:D1		POP DE
ECA6:AF		XOR A
ECA7:12		LD (DE), A
ECA8:10EF	DJNZ EC99
ECAA:D1		POP DE
ECAB:C1		POP BC
ECAC:C9		RET
		IF (false)
-     .error      'Seznam DATA_ZIVOTY prekracuje segment!'
		ENDIF
ECAD:		label HL_DATA_ZIVOTY_A
ECAD:6F		LD L, A
ECAE:87		ADD A, A
ECAF:87		ADD A, A
ECB0:87		ADD A, A
ECB1:95		SUB L
ECB2:C65B	ADD A, 5B
ECB4:6F		LD L, A
ECB5:26D7	LD H, D7
ECB7:C9		RET
ECB8:		label ZRAN_POSTAVU
ECB8:D5		PUSH DE
ECB9:7B		LD A, E
ECBA:CDADEC	CALL ECAD
ECBD:7E		LD A, (HL)
ECBE:92		SUB D
ECBF:3007	JR NC, ECC8
ECC1:AF		XOR A
ECC2:77		LD (HL), A
ECC3:CD91EC	CALL EC91
ECC6:180E	JR ECD6
ECC8:		label ZP_ZIJE
ECC8:77		LD (HL), A
ECC9:23		INC HL
ECCA:23		INC HL
ECCB:23		INC HL
ECCC:23		INC HL
ECCD:23		INC HL
ECCE:3A785C	LD A, (5C78)
ECD1:C632	ADD A, 32
ECD3:77		LD (HL), A
ECD4:23		INC HL
ECD5:72		LD (HL), D
ECD6:		label ZP_EXIT
ECD6:D1		POP DE
ECD7:C9		RET
ECD8:		label OTESTUJ_TRVALE_ZRANENI
ECD8:D5		PUSH DE
ECD9:7B		LD A, E
ECDA:CDADEC	CALL ECAD
ECDD:23		INC HL
ECDE:23		INC HL
ECDF:7E		LD A, (HL)
ECE0:B7		OR A
ECE1:57		LD D, A
ECE2:C4B8EC	CALL NZ, ECB8
ECE5:D1		POP DE
ECE6:C9		RET
ECE7:		label PLAYERS_WINDOW_AND_DAMAGE
ECE7:		label PWAD_SELF
ECE7:3E00	LD A, 00
ECE9:21785C	LD HL, 5C78
ECEC:AE		XOR (HL)
ECED:E680	AND 80
ECEF:280F	JR Z, ED00
ECF1:7E		LD A, (HL)
ECF2:32E8EC	LD (ECE8), A
ECF5:110001	LD DE, 0100
ECF8:0606	LD B, 06
ECFA:		label PWAD_LOOP
ECFA:CDD8EC	CALL ECD8
ECFD:1C		INC E
ECFE:10FA	DJNZ ECFA
ED00:		label PWAD_NEZRANUJ
ED00:CD31E8	CALL E831
ED03:C9		RET
ED04:		label BUFF2SCREEN
ED04:CD7DEA	CALL EA7D
ED07:AF		XOR A
ED08:D3FE	OUT (FE), A
ED0A:2100C8	LD HL, C800
ED0D:2273ED	LD (ED73), HL
ED10:76		HALT
ED11:F3		DI
ED12:210602	LD HL, 0206
ED15:		label B2S_WAIT
ED15:2B		DEC HL
ED16:7C		LD A, H
ED17:B5		OR L
ED18:20FB	JR NZ, ED15
ED1A:4D		LD C, L
ED1B:39		ADD HL, SP
ED1C:22B2ED	LD (EDB2), HL
ED1F:0608	LD B, 08
ED21:2110B0	LD HL, B010
ED24:1804	JR ED2A
ED26:		label B2S_PIXEL_DOWN_LOOP
ED26:211071	LD HL, 7110
ED29:		label B2S_CHAR_DOWN_LOOP
ED29:39		ADD HL, SP
ED2A:		label B2S_DIRECT
ED2A:F9		LD SP, HL
ED2B:F1		POP AF
ED2C:D1		POP DE
ED2D:E1		POP HL
ED2E:D9		EXX
ED2F:DDE1	POP IX
ED31:FDE1	POP IY
ED33:08		EX AF, AF'
ED34:D1		POP DE
ED35:C1		POP BC
ED36:210290	LD HL, 9002
ED39:39		ADD HL, SP
ED3A:F1		POP AF
ED3B:F9		LD SP, HL
ED3C:F5		PUSH AF
ED3D:C5		PUSH BC
ED3E:D5		PUSH DE
ED3F:08		EX AF, AF'
ED40:FDE5	PUSH IY
ED42:DDE5	PUSH IX
ED44:D9		EXX
ED45:E5		PUSH HL
ED46:D5		PUSH DE
ED47:F5		PUSH AF
ED48:ED735DED	LD (ED5D), SP
ED4C:21F06F	LD HL, 6FF0
ED4F:39		ADD HL, SP
ED50:F9		LD SP, HL
ED51:F1		POP AF
ED52:D1		POP DE
ED53:E1		POP HL
ED54:D9		EXX
ED55:FDE1	POP IY
ED57:08		EX AF, AF'
ED58:E1		POP HL
ED59:D1		POP DE
ED5A:C1		POP BC
ED5B:F1		POP AF
ED5C:		label B2S_SELF_DIRECT
ED5C:310000	LD SP, 0000
ED5F:F5		PUSH AF
ED60:C5		PUSH BC
ED61:D5		PUSH DE
ED62:E5		PUSH HL
ED63:08		EX AF, AF'
ED64:FDE5	PUSH IY
ED66:D9		EXX
ED67:E5		PUSH HL
ED68:D5		PUSH DE
ED69:F5		PUSH AF
ED6A:10BA	DJNZ ED26
ED6C:ED7399ED	LD (ED99), SP
ED70:0602	LD B, 02
ED72:		label B2S_ATTR_LOOP
ED72:		label B2S_SELF_SRC
ED72:3100C8	LD SP, C800
ED75:F1		POP AF
ED76:D1		POP DE
ED77:E1		POP HL
ED78:D9		EXX
ED79:DDE1	POP IX
ED7B:FDE1	POP IY
ED7D:08		EX AF, AF'
ED7E:D1		POP DE
ED7F:C1		POP BC
ED80:210290	LD HL, 9002
ED83:39		ADD HL, SP
ED84:F1		POP AF
ED85:ED7373ED	LD (ED73), SP
ED89:F9		LD SP, HL
ED8A:F5		PUSH AF
ED8B:C5		PUSH BC
ED8C:D5		PUSH DE
ED8D:08		EX AF, AF'
ED8E:FDE5	PUSH IY
ED90:DDE5	PUSH IX
ED92:D9		EXX
ED93:E5		PUSH HL
ED94:D5		PUSH DE
ED95:F5		PUSH AF
ED96:10DA	DJNZ ED72
ED98:		label B2S_ATTR_SELF
ED98:310000	LD SP, 0000
ED9B:0C		INC C
ED9C:213069	LD HL, 6930
ED9F:79		LD A, C
EDA0:FE14	CP 14
EDA2:280D	JR Z, EDB1
EDA4:0608	LD B, 08
EDA6:E607	AND 07
EDA8:C229ED	JP NZ, ED29
EDAB:213070	LD HL, 7030
EDAE:C329ED	JP ED29
EDB1:		label B2S_EXIT
EDB1:		label B2S_SELF
EDB1:310000	LD SP, 0000
EDB4:FB		EI
EDB5:CD95EA	CALL EA95
EDB8:C9		RET
		INCLUDE table.h
i_nw		EQU 0000
i_ne		EQU 0001
i_se		EQU 0002
i_sw		EQU 0003
CHODBA_VZ	EQU 0001
CHODBA_SJ	EQU 0000
TYP_DVERE_N	EQU 0004
TYP_DVERE_E	EQU 0005
TYP_DVERE_S	EQU 0006
TYP_DVERE_W	EQU 0007
TYP_ZARAZKA	EQU 00FF
EDB9:		label ADR_ZARAZKY
EDB9:D5EE	DEFW of 1 words
EDBB:		label TABLE_OBJECTS
EDBB:010C00	DEFB of 3 bytes
EDBE:060C01	DEFB of 3 bytes
EDC1:101019	DEFB of 3 bytes
EDC4:101114	DEFB of 3 bytes
EDC7:101219	DEFB of 3 bytes
EDCA:101316	DEFB of 3 bytes
EDCD:11101A	DEFB of 3 bytes
EDD0:111117	DEFB of 3 bytes
EDD3:11120A	DEFB of 3 bytes
EDD6:11130B	DEFB of 3 bytes
EDD9:158980	DEFB of 3 bytes
EDDC:201015	DEFB of 3 bytes
EDDF:201113	DEFB of 3 bytes
EDE2:201218	DEFB of 3 bytes
EDE5:201311	DEFB of 3 bytes
EDE8:21100C	DEFB of 3 bytes
EDEB:211106	DEFB of 3 bytes
EDEE:211207	DEFB of 3 bytes
EDF1:211317	DEFB of 3 bytes
EDF4:301019	DEFB of 3 bytes
EDF7:321204	DEFB of 3 bytes
EDFA:321302	DEFB of 3 bytes
EDFD:40101A	DEFB of 3 bytes
EE00:40111A	DEFB of 3 bytes
EE03:40121A	DEFB of 3 bytes
EE06:40131A	DEFB of 3 bytes
EE09:421010	DEFB of 3 bytes
EE0C:42111C	DEFB of 3 bytes
EE0F:42121D	DEFB of 3 bytes
EE12:42131E	DEFB of 3 bytes
EE15:448980	DEFB of 3 bytes
EE18:50101A	DEFB of 3 bytes
EE1B:50111A	DEFB of 3 bytes
EE1E:50121A	DEFB of 3 bytes
EE21:50131A	DEFB of 3 bytes
EE24:521012	DEFB of 3 bytes
EE27:521108	DEFB of 3 bytes
EE2A:52121B	DEFB of 3 bytes
EE2D:52131D	DEFB of 3 bytes
EE30:578401	DEFB of 3 bytes
EE33:571016	DEFB of 3 bytes
EE36:57101D	DEFB of 3 bytes
EE39:57101D	DEFB of 3 bytes
EE3C:57101D	DEFB of 3 bytes
EE3F:578500	DEFB of 3 bytes
EE42:578700	DEFB of 3 bytes
EE45:57131A	DEFB of 3 bytes
EE48:571311	DEFB of 3 bytes
EE4B:590100	DEFB of 3 bytes
EE4E:005784	DEFB of 3 bytes
EE51:5F0C00	DEFB of 3 bytes
EE54:738C00	DEFB of 3 bytes
EE57:73121D	DEFB of 3 bytes
EE5A:778401	DEFB of 3 bytes
EE5D:778500	DEFB of 3 bytes
EE60:778700	DEFB of 3 bytes
EE63:810C01	DEFB of 3 bytes
EE66:840200	DEFB of 3 bytes
EE69:007784	DEFB of 3 bytes
EE6C:8E8400	DEFB of 3 bytes
EE6F:8E8400	DEFB of 3 bytes
EE72:8E8600	DEFB of 3 bytes
EE75:9EE400	DEFB of 3 bytes
EE78:9EE400	DEFB of 3 bytes
EE7B:9EE600	DEFB of 3 bytes
EE7E:B00C00	DEFB of 3 bytes
PAKA_A		EQU 00B9
PAKA_B		EQU 00BA
PAKA_C		EQU 00BB
PAKA_D		EQU 00BC
EE81:B90200	DEFB of 3 bytes
EE84:008E84	DEFB of 3 bytes
EE87:009EE4	DEFB of 3 bytes
EE8A:00BA82	DEFB of 3 bytes
EE8D:00BB82	DEFB of 3 bytes
EE90:00BC82	DEFB of 3 bytes
EE93:BA0200	DEFB of 3 bytes
EE96:009EC4	DEFB of 3 bytes
EE99:00BB82	DEFB of 3 bytes
EE9C:BB0200	DEFB of 3 bytes
EE9F:009E64	DEFB of 3 bytes
EEA2:00BC82	DEFB of 3 bytes
EEA5:BC0200	DEFB of 3 bytes
EEA8:009EA4	DEFB of 3 bytes
EEAB:00BA82	DEFB of 3 bytes
EEAE:D80100	DEFB of 3 bytes
		IF (false)
- defb      0,                           216,      ZAM_1 + TYP_PREPINAC + west    ; prepne i paku na druhe strane
		ENDIF
EEB1:00E884	DEFB of 3 bytes
EEB4:D80300	DEFB of 3 bytes
		IF (false)
- defb      0,                           216,      ZAM_1 + TYP_PREPINAC + east    ; prepne i paku na druhe strane
		ENDIF
EEB7:00E884	DEFB of 3 bytes
EEBA:E88401	DEFB of 3 bytes
EEBD:E88500	DEFB of 3 bytes
EEC0:E88700	DEFB of 3 bytes
EEC3:F60C01	DEFB of 3 bytes
EEC6:F6101D	DEFB of 3 bytes
EEC9:F6111C	DEFB of 3 bytes
EECC:F6121D	DEFB of 3 bytes
EECF:F6131D	DEFB of 3 bytes
EED2:FE0C00	DEFB of 3 bytes
EED5:		label ZARAZKA
EED5:FF		DEFB of 1 bytes
		End of INCLUDE
EED6:		label END_CODE
		IF (false)
-     .error 'Kod preteka do zasobniku.'
		ENDIF
Emiting raw binary from 5F00 to EED5
