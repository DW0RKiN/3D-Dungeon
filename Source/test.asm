spritesStart	EQU 5F00
		INCLUDE sprites.h
Body_left	EQU 5F00
dno_bufferu	EQU 5FEA
D0		EQU 608F
D1		EQU 64CA
D2		EQU 66C5
D3		EQU 67D6
ESA1		EQU 6855
ES1		EQU 6A6E
ES2		EQU 6C11
ES3		EQU 6D0E
ES4		EQU 6D7A
FFace01		EQU 6DCB
FFace02		EQU 6E5E
FFace03		EQU 6EF1
FFace04		EQU 6F84
Flek		EQU 7017
H0		EQU 708C
H0rune		EQU 774F
H1		EQU 77A6
H1rune		EQU 7A79
H2		EQU 7AAC
H2rune		EQU 7C0F
H3		EQU 7C2E
H3rune		EQU 7CE5
H4		EQU 7D04
H4m1		EQU 7D93
H4m2		EQU 7DFA
H4m3		EQU 7E8C
H4m4		EQU 7EFB
H5		EQU 7F2C
I_ankh		EQU 7FAD
I_armor_ch	EQU 7FE6
I_armor_l	EQU 801F
I_armor_p	EQU 8058
I_axe		EQU 8091
I_bg		EQU 80C2
I_bgm		EQU 80FB
I_bone		EQU 8134
I_book		EQU 816D
I_boots		EQU 81A6
I_bow		EQU 81DF
I_dagger	EQU 8210
I_empty		EQU 8239
I_helm		EQU 826A
I_helm_d	EQU 82A3
I_mace		EQU 82DC
I_necklace	EQU 830F
I_potion_b	EQU 8338
I_potion_g	EQU 8361
I_potion_r	EQU 838A
I_prostirani	EQU 83B3
I_ram		EQU 83EC
I_rations	EQU 8405
I_ring		EQU 843E
I_ring_b	EQU 8467
I_ring_g	EQU 84A0
I_ring_r	EQU 84D9
I_ring_w	EQU 8512
I_shield	EQU 854B
I_shield2	EQU 8584
I_sling		EQU 85BD
I_sword		EQU 85EE
I_toulec	EQU 861F
I_zakazano	EQU 8648
I0_armor	EQU 8681
I0_bone		EQU 8776
I0_unknwn	EQU 8871
I0_weapon	EQU 88EB
I1_armor	EQU 898D
I1_bone		EQU 8A08
I1_unknwn	EQU 8A8D
I1_weapon	EQU 8AC6
I2_armor	EQU 8B27
I2_bone		EQU 8B55
I2_unknwn	EQU 8B8B
I2_weapon	EQU 8BA0
Kanal0		EQU 8BC5
Kanal1		EQU 8D30
Kanal2		EQU 8DD5
Kanal3		EQU 8E20
Kompas		EQU 8E47
Komp_E		EQU 8FC9
Komp_N		EQU 9069
Komp_S		EQU 9109
Komp_W		EQU 91A9
K1m1		EQU 9249
K2m1		EQU 93E4
K3m1		EQU 958F
K4m2		EQU 970C
MFace01		EQU 97E8
MFace02		EQU 987B
MFace03		EQU 990E
MFace04		EQU 99A1
Pdl1		EQU 9A34
Pdl2		EQU 9A65
Pdl3		EQU 9A8C
Pd0		EQU 9AA1
Pd1		EQU 9B14
Pd2		EQU 9B73
Pd3		EQU 9B9A
Pul1		EQU 9BC1
Pul2		EQU 9BFA
Pul3		EQU 9C2B
Pu0		EQU 9C40
Pu1		EQU 9CB3
Pu2		EQU 9D12
Pu3		EQU 9D4B
R0		EQU 9D6A
R1		EQU A189
R1m1		EQU A57C
R2		EQU A5EB
R2m1		EQU A7DE
R3		EQU A8C1
R3m1		EQU A9A2
R4		EQU AA71
S_doleva	EQU AAF4
S_doprava	EQU AB1B
S_dopredu	EQU AB42
S_dozadu	EQU AB69
S_vlevo		EQU AB90
S_vpravo	EQU ABB7
S_vsechny	EQU ABDE
V0m1		EQU AD1C
V3m2		EQU AD9D
V4m1		EQU AE32
V4m3		EQU AE8D
Adr_Buffer	EQU B000
Adr_Attr_Buffer	EQU C800
Adr_Buf_end	EQU CB00
		End of INCLUDE
		ORG 5F00
		INCBIN grafika.bin
progStart	EQU D000
		IF (false)
-     .error 'Pretikaji sprity do kodu!'
		ENDIF
		ORG D000
		INCLUDE zrcadlovy.h
D000:		label ZRCADLOVY
D000:00		DEFB of 1 bytes
D001:80		DEFB of 1 bytes
D002:40		DEFB of 1 bytes
D003:C0		DEFB of 1 bytes
D004:20		DEFB of 1 bytes
D005:A0		DEFB of 1 bytes
D006:60		DEFB of 1 bytes
D007:E0		DEFB of 1 bytes
D008:10		DEFB of 1 bytes
D009:90		DEFB of 1 bytes
D00A:50		DEFB of 1 bytes
D00B:D0		DEFB of 1 bytes
D00C:30		DEFB of 1 bytes
D00D:B0		DEFB of 1 bytes
D00E:70		DEFB of 1 bytes
D00F:F0		DEFB of 1 bytes
D010:08		DEFB of 1 bytes
D011:88		DEFB of 1 bytes
D012:48		DEFB of 1 bytes
D013:C8		DEFB of 1 bytes
D014:28		DEFB of 1 bytes
D015:A8		DEFB of 1 bytes
D016:68		DEFB of 1 bytes
D017:E8		DEFB of 1 bytes
D018:18		DEFB of 1 bytes
D019:98		DEFB of 1 bytes
D01A:58		DEFB of 1 bytes
D01B:D8		DEFB of 1 bytes
D01C:38		DEFB of 1 bytes
D01D:B8		DEFB of 1 bytes
D01E:78		DEFB of 1 bytes
D01F:F8		DEFB of 1 bytes
D020:04		DEFB of 1 bytes
D021:84		DEFB of 1 bytes
D022:44		DEFB of 1 bytes
D023:C4		DEFB of 1 bytes
D024:24		DEFB of 1 bytes
D025:A4		DEFB of 1 bytes
D026:64		DEFB of 1 bytes
D027:E4		DEFB of 1 bytes
D028:14		DEFB of 1 bytes
D029:94		DEFB of 1 bytes
D02A:54		DEFB of 1 bytes
D02B:D4		DEFB of 1 bytes
D02C:34		DEFB of 1 bytes
D02D:B4		DEFB of 1 bytes
D02E:74		DEFB of 1 bytes
D02F:F4		DEFB of 1 bytes
D030:0C		DEFB of 1 bytes
D031:8C		DEFB of 1 bytes
D032:4C		DEFB of 1 bytes
D033:CC		DEFB of 1 bytes
D034:2C		DEFB of 1 bytes
D035:AC		DEFB of 1 bytes
D036:6C		DEFB of 1 bytes
D037:EC		DEFB of 1 bytes
D038:1C		DEFB of 1 bytes
D039:9C		DEFB of 1 bytes
D03A:5C		DEFB of 1 bytes
D03B:DC		DEFB of 1 bytes
D03C:3C		DEFB of 1 bytes
D03D:BC		DEFB of 1 bytes
D03E:7C		DEFB of 1 bytes
D03F:FC		DEFB of 1 bytes
D040:02		DEFB of 1 bytes
D041:82		DEFB of 1 bytes
D042:42		DEFB of 1 bytes
D043:C2		DEFB of 1 bytes
D044:22		DEFB of 1 bytes
D045:A2		DEFB of 1 bytes
D046:62		DEFB of 1 bytes
D047:E2		DEFB of 1 bytes
D048:12		DEFB of 1 bytes
D049:92		DEFB of 1 bytes
D04A:52		DEFB of 1 bytes
D04B:D2		DEFB of 1 bytes
D04C:32		DEFB of 1 bytes
D04D:B2		DEFB of 1 bytes
D04E:72		DEFB of 1 bytes
D04F:F2		DEFB of 1 bytes
D050:0A		DEFB of 1 bytes
D051:8A		DEFB of 1 bytes
D052:4A		DEFB of 1 bytes
D053:CA		DEFB of 1 bytes
D054:2A		DEFB of 1 bytes
D055:AA		DEFB of 1 bytes
D056:6A		DEFB of 1 bytes
D057:EA		DEFB of 1 bytes
D058:1A		DEFB of 1 bytes
D059:9A		DEFB of 1 bytes
D05A:5A		DEFB of 1 bytes
D05B:DA		DEFB of 1 bytes
D05C:3A		DEFB of 1 bytes
D05D:BA		DEFB of 1 bytes
D05E:7A		DEFB of 1 bytes
D05F:FA		DEFB of 1 bytes
D060:06		DEFB of 1 bytes
D061:86		DEFB of 1 bytes
D062:46		DEFB of 1 bytes
D063:C6		DEFB of 1 bytes
D064:26		DEFB of 1 bytes
D065:A6		DEFB of 1 bytes
D066:66		DEFB of 1 bytes
D067:E6		DEFB of 1 bytes
D068:16		DEFB of 1 bytes
D069:96		DEFB of 1 bytes
D06A:56		DEFB of 1 bytes
D06B:D6		DEFB of 1 bytes
D06C:36		DEFB of 1 bytes
D06D:B6		DEFB of 1 bytes
D06E:76		DEFB of 1 bytes
D06F:F6		DEFB of 1 bytes
D070:0E		DEFB of 1 bytes
D071:8E		DEFB of 1 bytes
D072:4E		DEFB of 1 bytes
D073:CE		DEFB of 1 bytes
D074:2E		DEFB of 1 bytes
D075:AE		DEFB of 1 bytes
D076:6E		DEFB of 1 bytes
D077:EE		DEFB of 1 bytes
D078:1E		DEFB of 1 bytes
D079:9E		DEFB of 1 bytes
D07A:5E		DEFB of 1 bytes
D07B:DE		DEFB of 1 bytes
D07C:3E		DEFB of 1 bytes
D07D:BE		DEFB of 1 bytes
D07E:7E		DEFB of 1 bytes
D07F:FE		DEFB of 1 bytes
D080:01		DEFB of 1 bytes
D081:81		DEFB of 1 bytes
D082:41		DEFB of 1 bytes
D083:C1		DEFB of 1 bytes
D084:21		DEFB of 1 bytes
D085:A1		DEFB of 1 bytes
D086:61		DEFB of 1 bytes
D087:E1		DEFB of 1 bytes
D088:11		DEFB of 1 bytes
D089:91		DEFB of 1 bytes
D08A:51		DEFB of 1 bytes
D08B:D1		DEFB of 1 bytes
D08C:31		DEFB of 1 bytes
D08D:B1		DEFB of 1 bytes
D08E:71		DEFB of 1 bytes
D08F:F1		DEFB of 1 bytes
D090:09		DEFB of 1 bytes
D091:89		DEFB of 1 bytes
D092:49		DEFB of 1 bytes
D093:C9		DEFB of 1 bytes
D094:29		DEFB of 1 bytes
D095:A9		DEFB of 1 bytes
D096:69		DEFB of 1 bytes
D097:E9		DEFB of 1 bytes
D098:19		DEFB of 1 bytes
D099:99		DEFB of 1 bytes
D09A:59		DEFB of 1 bytes
D09B:D9		DEFB of 1 bytes
D09C:39		DEFB of 1 bytes
D09D:B9		DEFB of 1 bytes
D09E:79		DEFB of 1 bytes
D09F:F9		DEFB of 1 bytes
D0A0:05		DEFB of 1 bytes
D0A1:85		DEFB of 1 bytes
D0A2:45		DEFB of 1 bytes
D0A3:C5		DEFB of 1 bytes
D0A4:25		DEFB of 1 bytes
D0A5:A5		DEFB of 1 bytes
D0A6:65		DEFB of 1 bytes
D0A7:E5		DEFB of 1 bytes
D0A8:15		DEFB of 1 bytes
D0A9:95		DEFB of 1 bytes
D0AA:55		DEFB of 1 bytes
D0AB:D5		DEFB of 1 bytes
D0AC:35		DEFB of 1 bytes
D0AD:B5		DEFB of 1 bytes
D0AE:75		DEFB of 1 bytes
D0AF:F5		DEFB of 1 bytes
D0B0:0D		DEFB of 1 bytes
D0B1:8D		DEFB of 1 bytes
D0B2:4D		DEFB of 1 bytes
D0B3:CD		DEFB of 1 bytes
D0B4:2D		DEFB of 1 bytes
D0B5:AD		DEFB of 1 bytes
D0B6:6D		DEFB of 1 bytes
D0B7:ED		DEFB of 1 bytes
D0B8:1D		DEFB of 1 bytes
D0B9:9D		DEFB of 1 bytes
D0BA:5D		DEFB of 1 bytes
D0BB:DD		DEFB of 1 bytes
D0BC:3D		DEFB of 1 bytes
D0BD:BD		DEFB of 1 bytes
D0BE:7D		DEFB of 1 bytes
D0BF:FD		DEFB of 1 bytes
D0C0:03		DEFB of 1 bytes
D0C1:83		DEFB of 1 bytes
D0C2:43		DEFB of 1 bytes
D0C3:C3		DEFB of 1 bytes
D0C4:23		DEFB of 1 bytes
D0C5:A3		DEFB of 1 bytes
D0C6:63		DEFB of 1 bytes
D0C7:E3		DEFB of 1 bytes
D0C8:13		DEFB of 1 bytes
D0C9:93		DEFB of 1 bytes
D0CA:53		DEFB of 1 bytes
D0CB:D3		DEFB of 1 bytes
D0CC:33		DEFB of 1 bytes
D0CD:B3		DEFB of 1 bytes
D0CE:73		DEFB of 1 bytes
D0CF:F3		DEFB of 1 bytes
D0D0:0B		DEFB of 1 bytes
D0D1:8B		DEFB of 1 bytes
D0D2:4B		DEFB of 1 bytes
D0D3:CB		DEFB of 1 bytes
D0D4:2B		DEFB of 1 bytes
D0D5:AB		DEFB of 1 bytes
D0D6:6B		DEFB of 1 bytes
D0D7:EB		DEFB of 1 bytes
D0D8:1B		DEFB of 1 bytes
D0D9:9B		DEFB of 1 bytes
D0DA:5B		DEFB of 1 bytes
D0DB:DB		DEFB of 1 bytes
D0DC:3B		DEFB of 1 bytes
D0DD:BB		DEFB of 1 bytes
D0DE:7B		DEFB of 1 bytes
D0DF:FB		DEFB of 1 bytes
D0E0:07		DEFB of 1 bytes
D0E1:87		DEFB of 1 bytes
D0E2:47		DEFB of 1 bytes
D0E3:C7		DEFB of 1 bytes
D0E4:27		DEFB of 1 bytes
D0E5:A7		DEFB of 1 bytes
D0E6:67		DEFB of 1 bytes
D0E7:E7		DEFB of 1 bytes
D0E8:17		DEFB of 1 bytes
D0E9:97		DEFB of 1 bytes
D0EA:57		DEFB of 1 bytes
D0EB:D7		DEFB of 1 bytes
D0EC:37		DEFB of 1 bytes
D0ED:B7		DEFB of 1 bytes
D0EE:77		DEFB of 1 bytes
D0EF:F7		DEFB of 1 bytes
D0F0:0F		DEFB of 1 bytes
D0F1:8F		DEFB of 1 bytes
D0F2:4F		DEFB of 1 bytes
D0F3:CF		DEFB of 1 bytes
D0F4:2F		DEFB of 1 bytes
D0F5:AF		DEFB of 1 bytes
D0F6:6F		DEFB of 1 bytes
D0F7:EF		DEFB of 1 bytes
D0F8:1F		DEFB of 1 bytes
D0F9:9F		DEFB of 1 bytes
D0FA:5F		DEFB of 1 bytes
D0FB:DF		DEFB of 1 bytes
D0FC:3F		DEFB of 1 bytes
D0FD:BF		DEFB of 1 bytes
D0FE:7F		DEFB of 1 bytes
D0FF:FF		DEFB of 1 bytes
		End of INCLUDE
		INCLUDE map.h
D100:		label DUNGEON_MAP
D100:03030303	DEFB of 16 bytes
D104:03030203
D108:03030303
D10C:03030303
D110:00000300	DEFB of 16 bytes
D114:00000003
D118:00000003
D11C:00000003
D120:00000300	DEFB of 16 bytes
D124:00030000
D128:00030003
D12C:00030003
D130:00000000	DEFB of 16 bytes
D134:00000303
D138:03000000
D13C:00030003
D140:00000000	DEFB of 16 bytes
D144:00000303
D148:00000303
D14C:00030003
D150:00000000	DEFB of 16 bytes
D154:00000300
D158:00030000
D15C:00030003
D160:00000000	DEFB of 16 bytes
D164:00030303
D168:03000003
D16C:00030003
D170:03000002	DEFB of 16 bytes
D174:00000000
D178:00000000
D17C:00030003
D180:03020303	DEFB of 16 bytes
D184:03030303
D188:03030003
D18C:03030003
D190:03000000	DEFB of 16 bytes
D194:00000000
D198:03000000
D19C:00030003
D1A0:03000300	DEFB of 16 bytes
D1A4:03000000
D1A8:03000000
D1AC:00030003
D1B0:03000000	DEFB of 16 bytes
D1B4:00000000
D1B8:03030303
D1BC:03030003
D1C0:03000300	DEFB of 16 bytes
D1C4:03000000
D1C8:03000000
D1CC:03030000
D1D0:03000000	DEFB of 16 bytes
D1D4:00000000
D1D8:03000000
D1DC:00000000
D1E0:03000000	DEFB of 16 bytes
D1E4:00000000
D1E8:00000000
D1EC:03030000
D1F0:03030303	DEFB of 16 bytes
D1F4:03030203
D1F8:03030303
D1FC:03030303
sirka		EQU 0010
		End of INCLUDE
dopredu		EQU 0000
dozadu		EQU 0004
vlevo		EQU 0008
vpravo		EQU 000C
D200:		label VEKTORY_POHYBU
D200:F00110FF	DEFB of 4 bytes
D204:10FFF001	DEFB of 4 bytes
D208:FFF00110	DEFB of 4 bytes
D20C:0110FFF0	DEFB of 4 bytes
		IF (false)
-     .error      'Seznam VEKTORY_POHYBU neleze na zacatku segmentu!'
		ENDIF
PRIZNAK_OTEVRENY_INVENTAR EQU 0001
D210:		label PRIZNAKY
D210:00		DEFB of 1 bytes
D211:		label MAIN
D211:CD29EA	CALL EA29
D214:F3		DI
D215:ED56	IM 1
D217:FB		EI
D218:3E0C	LD A, 0C
D21A:21095C	LD HL, 5C09
D21D:77		LD (HL), A
D21E:2D		DEC L
D21F:3600	LD (HL), 00
D221:010520	LD BC, 2005
D224:21605A	LD HL, 5A60
D227:CD5BEC	CALL EC5B
D22A:CDD4EB	CALL EBD4
D22D:CD80E7	CALL E780
D230:		label MAIN_LOOP
D230:F3		DI
D231:CD52E6	CALL E652
D234:FB		EI
D235:CD57EB	CALL EB57
D238:CD53E7	CALL E753
D23B:2003	JR NZ, D240
D23D:CD6FED	CALL ED6F
D240:		label MAIN_OTEVRENY_INVENTAR
D240:CDF8EA	CALL EAF8
D243:3E18	LD A, 18
D245:CD07EC	CALL EC07
D248:CD57EA	CALL EA57
D24B:CD2DE2	CALL E22D
D24E:C330D2	JP D230
D251:		label POSTAVA_PLUS
D251:2173D4	LD HL, D473
D254:7E		LD A, (HL)
D255:2B		DEC HL
D256:34		INC (HL)
D257:96		SUB (HL)
D258:C0		RET NZ
D259:77		LD (HL), A
D25A:C9		RET
D25B:		label POSTAVA_MINUS
D25B:2173D4	LD HL, D473
D25E:7E		LD A, (HL)
D25F:2B		DEC HL
D260:35		DEC (HL)
D261:F0		RET P
D262:3D		DEC A
D263:77		LD (HL), A
D264:C9		RET
		ORG D300
		INCLUDE font.h
D300:		label PISMO_5PX
D300:00000000	DEFB of 5 bytes
D304:00
D305:003A0000	DEFB of 5 bytes
D309:00
D30A:00600060	DEFB of 5 bytes
D30E:00
D30F:143E143E	DEFB of 5 bytes
D313:14
D314:00122A6B	DEFB of 5 bytes
D318:24
D319:32340816	DEFB of 5 bytes
D31D:26
D31E:00143A14	DEFB of 5 bytes
D322:0A
D323:00006000	DEFB of 5 bytes
D327:00
D328:00003C42	DEFB of 5 bytes
D32C:00
D32D:0000423C	DEFB of 5 bytes
D331:00
D332:00140814	DEFB of 5 bytes
D336:00
D337:00081C08	DEFB of 5 bytes
D33B:00
D33C:00020400	DEFB of 5 bytes
D340:00
D341:00080808	DEFB of 5 bytes
D345:00
D346:00020000	DEFB of 5 bytes
D34A:00
D34B:02040810	DEFB of 5 bytes
D34F:20
D350:001C262A	DEFB of 5 bytes
D354:1C
D355:00123E02	DEFB of 5 bytes
D359:00
D35A:00262A2A	DEFB of 5 bytes
D35E:12
D35F:00222A2A	DEFB of 5 bytes
D363:14
D364:003C040E	DEFB of 5 bytes
D368:04
D369:003A2A2A	DEFB of 5 bytes
D36D:24
D36E:001C2A2A	DEFB of 5 bytes
D372:04
D373:00202628	DEFB of 5 bytes
D377:30
D378:00142A2A	DEFB of 5 bytes
D37C:14
D37D:00102A2A	DEFB of 5 bytes
D381:1C
D382:00001400	DEFB of 5 bytes
D386:00
D387:00021400	DEFB of 5 bytes
D38B:00
D38C:00081422	DEFB of 5 bytes
D390:00
D391:00141414	DEFB of 5 bytes
D395:00
D396:00221408	DEFB of 5 bytes
D39A:00
D39B:0010202A	DEFB of 5 bytes
D39F:10
D3A0:001C223A	DEFB of 5 bytes
D3A4:1A
D3A5:001E2828	DEFB of 5 bytes
D3A9:1E
D3AA:003E2A2A	DEFB of 5 bytes
D3AE:14
D3AF:001C2222	DEFB of 5 bytes
D3B3:22
D3B4:003E2222	DEFB of 5 bytes
D3B8:1C
D3B9:003E2A2A	DEFB of 5 bytes
D3BD:22
D3BE:003E2828	DEFB of 5 bytes
D3C2:20
D3C3:001C222A	DEFB of 5 bytes
D3C7:0C
D3C8:003E0808	DEFB of 5 bytes
D3CC:3E
D3CD:00223E22	DEFB of 5 bytes
D3D1:00
D3D2:00040202	DEFB of 5 bytes
D3D6:3C
D3D7:003E0814	DEFB of 5 bytes
D3DB:22
D3DC:003E0202	DEFB of 5 bytes
D3E0:02
D3E1:003E1010	DEFB of 5 bytes
D3E5:3E
D3E6:003E1008	DEFB of 5 bytes
D3EA:3E
D3EB:001C2222	DEFB of 5 bytes
D3EF:1C
D3F0:003E2828	DEFB of 5 bytes
D3F4:10
D3F5:001C2226	DEFB of 5 bytes
D3F9:1E
D3FA:003E2828	DEFB of 5 bytes
D3FE:16
D3FF:00122A2A	DEFB of 5 bytes
D403:24
D404:00203E20	DEFB of 5 bytes
D408:20
D409:003C0202	DEFB of 5 bytes
D40D:3C
D40E:003E0204	DEFB of 5 bytes
D412:38
D413:003E0404	DEFB of 5 bytes
D417:3E
D418:00360808	DEFB of 5 bytes
D41C:36
D41D:00380608	DEFB of 5 bytes
D421:30
D422:00262A2A	DEFB of 5 bytes
D426:32
D427:00007E42	DEFB of 5 bytes
D42B:00
D42C:20100804	DEFB of 5 bytes
D430:02
D431:0000427E	DEFB of 5 bytes
D435:00
D436:10204020	DEFB of 5 bytes
D43A:10
D43B:00020202	DEFB of 5 bytes
D43F:02
D440:00083E4A	DEFB of 5 bytes
D444:22
		IF (false)
-     .error 'Adresa pocatku fontu PISMO_5PX nelezi na pocatku segmentu'
		ENDIF
		End of INCLUDE
		INCLUDE typy.h
MASKA_PREPINACE	EQU 00E0
ZAM_1		EQU 0080
ZAM_2		EQU 0040
ZAM_3		EQU 0020
ZAM_12		EQU 00C0
ZAM_13		EQU 00A0
ZAM_23		EQU 0060
ZAM_123		EQU 00E0
MASKA_TYP	EQU 001C
MASKA_NATOCENI	EQU 0003
MASKA_PODTYP	EQU 001F
ODEMCENO	EQU 0000
POSUN_TYP	EQU 0004
POSUN_PODTYP	EQU 0001
TYP_PREPINAC	EQU 0000
PODTYP_PAKA	EQU 0000
PODTYP_TLACITKO	EQU 0001
PODTYP_TAJNE_TLACITKO EQU 0002
PODTYP_ZAMEK	EQU 0003
TYP_DVERE	EQU 0004
TYP_ENEMY	EQU 0008
PODTYP_SKRET	EQU 0000
PODTYP_PAVOUK	EQU 0001
PODTYP_TRPASLIK	EQU 0002
PODTYP_NEMRTVY	EQU 0003
TYP_DEKORACE	EQU 000C
PODTYP_KANAL	EQU 0000
PODTYP_RUNA	EQU 0001
PODTYP_RAM	EQU 0002
TYP_ITEM	EQU 0010
PODTYP_EMPTY	EQU 0000
PODTYP_RING	EQU 0001
PODTYP_RING_R	EQU 0002
PODTYP_RING_G	EQU 0003
PODTYP_RING_B	EQU 0004
PODTYP_RING_W	EQU 0005
PODTYP_HELM	EQU 0006
PODTYP_HELM_D	EQU 0007
PODTYP_NECKLACE	EQU 0008
PODTYP_ARMOR	EQU 0009
PODTYP_ARMOR_CH	EQU 000A
PODTYP_ARMOR_L	EQU 000B
PODTYP_ARMOR_P	EQU 000C
PODTYP_ARROW	EQU 000D
PODTYP_BRACERS	EQU 000E
PODTYP_BOOTS	EQU 000F
PODTYP_ANKH	EQU 0010
PODTYP_AXE	EQU 0011
PODTYP_BOOK	EQU 0012
PODTYP_BOW	EQU 0013
PODTYP_DAGGER	EQU 0014
PODTYP_MACE	EQU 0015
PODTYP_SHIELD	EQU 0016
PODTYP_SHIELD2	EQU 0017
PODTYP_SLING	EQU 0018
PODTYP_SWORD	EQU 0019
PODTYP_BONE	EQU 001A
PODTYP_FOOD	EQU 001B
PODTYP_POTION_R	EQU 001C
PODTYP_POTION_G	EQU 001D
PODTYP_POTION_B	EQU 001E
		End of INCLUDE
		INCLUDE move.h
north		EQU 0000
east		EQU 0001
south		EQU 0002
west		EQU 0003
D445:		label LOCATION
D445:34		DEFB of 1 bytes
D446:		label VECTOR
D446:00		DEFB of 1 bytes
D447:		label POHYB
D447:00		DEFB of 1 bytes
D448:		label POSUN_VLEVO_INVENTAREM
D448:02F1	DEFB of 2 bytes
D44A:031B	DEFB of 2 bytes
D44C:051A	DEFB of 2 bytes
D44E:0619	DEFB of 2 bytes
D450:0714	DEFB of 2 bytes
D452:080F	DEFB of 2 bytes
D454:15F8	DEFB of 2 bytes
D456:17F9	DEFB of 2 bytes
D458:1BFB	DEFB of 2 bytes
D45A:1DFD	DEFB of 2 bytes
D45C:1FFE	DEFB of 2 bytes
D45E:		label POSUN_VPRAVO_INVENTAREM
D45E:0D08	DEFB of 2 bytes
D460:1107	DEFB of 2 bytes
D462:1206	DEFB of 2 bytes
D464:1605	DEFB of 2 bytes
D466:1710	DEFB of 2 bytes
D468:1804	DEFB of 2 bytes
D46A:1A03	DEFB of 2 bytes
D46C:1B0B	DEFB of 2 bytes
D46E:1D02	DEFB of 2 bytes
D470:1F05	DEFB of 2 bytes
D472:		label POSUN_VLEVO_INVENTAREM_END
		End of INCLUDE
		IF (false)
		ENDIF
		INCLUDE objects.h
KONTROLUJ_NATOCENI_U_PREPINACU EQU 0000
NEXT_PAKA	EQU 0078
PAKA_DOWN	EQU 003C
NEXT_ENEMY	EQU 0048
		IF (false)
- i_ld        equ     0       ; predmet vidim jako levy-dal
- i_pd        equ     2       ; predmet vidim jako pravy-dal
- i_pb        equ     4       ; predmet vidim jako pravy-bliz
- i_lb        equ     6       ; predmet vidim jako levy-bliz
		ENDIF
D472:		label HLAVNI_POSTAVA
D472:00		DEFB of 1 bytes
D473:		label SUM_POSTAV
D473:06		DEFB of 1 bytes
D474:		label BORDER
D474:00		DEFB of 1 bytes
D475:		label POZICE_RUKOU
D475:0116	DEFW of 1 words
D477:0316	DEFW of 1 words
D479:011D	DEFW of 1 words
D47B:031D	DEFW of 1 words
D47D:0816	DEFW of 1 words
D47F:0A16	DEFW of 1 words
D481:081D	DEFW of 1 words
D483:0A1D	DEFW of 1 words
D485:0F16	DEFW of 1 words
D487:1116	DEFW of 1 words
D489:0F1D	DEFW of 1 words
D48B:111D	DEFW of 1 words
D48D:		label POZICE_RUKOU_END
D48D:		label AVATARS
D48D:7B980112	DEFW of 4 words
D491:5E6E0119
D495:F16E0812	DEFW of 4 words
D499:846F0819
D49D:E8970F12	DEFW of 4 words
D4A1:CB6D0F19
D4A5:		label KOMPAS
D4A5:478E0F07	DEFW of 2 words
D4A9:		label SIPKY
D4A9:DEAB0F00	DEFW of 2 words
D4AD:		label STISKNUTA_SIPKA
D4AD:42AB0F03	DEFW of 2 words
D4B1:69AB1103	DEFW of 2 words
D4B5:90AB1101	DEFW of 2 words
D4B9:B7AB1105	DEFW of 2 words
D4BD:F4AA0F01	DEFW of 2 words
D4C1:1BAB0F05	DEFW of 2 words
D4C5:00000000	DEFW of 2 words
D4C9:		label SIPKY_END
SIPKA_DOPREDU	EQU 0000
SIPKA_DOZADU	EQU 0004
SIPKA_VLEVO	EQU 0008
SIPKA_VPRAVO	EQU 000C
SIPKA_OTOCDOLEVA EQU 0010
SIPKA_OTOCDOPRAVA EQU 0014
SIPKA_NIC	EQU 0018
D4C9:		label RUZICE
D4C9:69900F08	DEFW of 2 words
D4CD:C98F0F08	DEFW of 2 words
D4D1:09910F08	DEFW of 2 words
D4D5:A9910F08	DEFW of 2 words
D4D9:		label RUZICE_END
ENEMY_ATTACK_DISTANCE EQU 000C
D4D9:		label ENEMY_GROUP
D4D9:00000000	DEFW of 12 words
D4DD:00000000
D4E1:00000000
D4E5:00000000
D4E9:00000000
D4ED:00000000
D4F1:0503050A	DEFW of 12 words
D4F5:04040409
D4F9:05110000
D4FD:04100000
D501:000005FC
D505:000004FD
D509:0505050A	DEFW of 12 words
D50D:04060409
D511:050F0000
D515:040E0000
D519:00000500
D51D:00000401
D521:05060509	DEFW of 12 words
D525:05070508
D529:050D050F
D52D:050C050E
D531:05000502
D535:05010503
D539:FB080409	DEFW of 12 words
D53D:FB09FB0A
D541:FB0CFB0E
D545:040AFB0D
D549:04030405
D54D:0404FB07
D551:		label DIV_6
D551:00000000	DEFW of 6 words
D555:00000000
D559:00000000
D55D:02000200	DEFW of 6 words
D561:02000200
D565:02000200
D569:04000400	DEFW of 6 words
D56D:04000400
D571:04000400
D575:06000600	DEFW of 6 words
D579:06000600
D57D:06000600
D581:08000800	DEFW of 6 words
D585:08000800
D589:08000800
D58D:		label ITEM_POZICE
D58D:0C00F311	DEFW of 12 words
D591:00000000
D595:00000000
D599:00000000
D59D:00000000
D5A1:00000000
D5A5:0A04F50D	DEFW of 12 words
D5A9:F40E0B03
D5AD:0A100000
D5B1:00000B11
D5B5:0000F501
D5B9:F4000000
D5BD:0806F70B	DEFW of 12 words
D5C1:F60C0905
D5C5:080DF712
D5C9:F613090E
D5CD:08FFF704
D5D1:F60309FE
D5D5:00000000	DEFW of 12 words
D5D9:00000000
D5DD:00000000
D5E1:00000000
D5E5:00000000
D5E9:00000000
D5ED:00000000	DEFW of 12 words
D5F1:00000000
D5F5:00000000
D5F9:00000000
D5FD:00000000
D601:00000000
MAX_VIDITELNOST_PREDMETU_PLUS_1 EQU 003C
		End of INCLUDE
		INCLUDE input.h
TIMER_ADR	EQU 5C78
LAST_KEY_ADR	EQU 5C08
REPEAT_READING_JOY EQU 0006
JOY_PORT	EQU 001F
FLOP_BIT_ATTACK	EQU 0040
KEY_DOPREDU	EQU 0077
KEY_DOZADU	EQU 0073
KEY_VLEVO	EQU 0061
KEY_VPRAVO	EQU 0064
KEY_DOLEVA	EQU 0071
KEY_DOPRAVA	EQU 0065
KEY_SPACE	EQU 0020
KEY_INVENTAR	EQU 0069
KEY_BOJ		EQU 0066
KEY_PLUS	EQU 006B
KEY_MINUS	EQU 006A
stisknuto_dopredu EQU 0000
stisknuto_dozadu EQU 0001
stisknuto_vlevo	EQU 0002
stisknuto_vpravo EQU 0003
D605:		label DATA_KEMPSTON
D605:0164	DEFB of 2 bytes
D607:0261	DEFB of 2 bytes
D609:0965	DEFB of 2 bytes
D60B:0A71	DEFB of 2 bytes
D60D:0473	DEFB of 2 bytes
D60F:0877	DEFB of 2 bytes
D611:1020	DEFB of 2 bytes
D613:0566	DEFB of 2 bytes
D615:0669	DEFB of 2 bytes
D617:116B	DEFB of 2 bytes
D619:126A	DEFB of 2 bytes
D61B:		label DATA_KEMPSTON_END
D61B:00		DEFB of 1 bytes
DATA_KEMPSTON_SUM EQU 000B
		End of INCLUDE
		INCLUDE inventory.h
MAX_INVENTORY	EQU 001F
MAX_HOLD_INVENTORY EQU 001B
COLOR_OTHER_PLAYERS EQU 0007
COLOR_ACTIVE_PLAYER EQU 0003
D61C:		label INVENTORY_ITEMS
D61C:0C161B1B	DEFB of 16 bytes
D620:10000000
D624:00000000
D628:00000000
D62C:0007000A	DEFB of 15 bytes
D630:11000F00
D634:00160405
D638:040302
D63B:1B140000	DEFB of 16 bytes
D63F:10000000
D643:00000000
D647:00000000
D64B:0006080C	DEFB of 15 bytes
D64F:19020000
D653:00160000
D657:000000
D65A:1C1C1D1E	DEFB of 16 bytes
D65E:10000000
D662:14000000
D666:00000000
D66A:0000080B	DEFB of 15 bytes
D66E:15000F00
D672:00100000
D676:000000
D679:14171B00	DEFB of 16 bytes
D67D:18000000
D681:00000000
D685:00000000
D689:00000000	DEFB of 15 bytes
D68D:14050F00
D691:00140000
D695:000000
D698:14160000	DEFB of 16 bytes
D69C:1A000000
D6A0:00000013
D6A4:00000000
D6A8:00000000	DEFB of 15 bytes
D6AC:13000000
D6B0:00000000
D6B4:000000
D6B7:14160000	DEFB of 16 bytes
D6BB:00000015
D6BF:00000000
D6C3:00000000
D6C7:00000800	DEFB of 15 bytes
D6CB:00030000
D6CF:00120100
D6D3:000000
D6D6:		label INVENTORY_ITEMS_END
D6D6:		label ITEM2SPRITE
D6D6:0000	DEFW of 1 words
D6D8:3E84	DEFW of 1 words
D6DA:D984	DEFW of 1 words
D6DC:A084	DEFW of 1 words
D6DE:6784	DEFW of 1 words
D6E0:1285	DEFW of 1 words
MAX_RING_PLUS_1	EQU 0006
D6E2:6A82	DEFW of 1 words
D6E4:A382	DEFW of 1 words
D6E6:0F83	DEFW of 1 words
MIN_ARMOR	EQU 0009
D6E8:0000	DEFW of 1 words
D6EA:E67F	DEFW of 1 words
D6EC:1F80	DEFW of 1 words
D6EE:5880	DEFW of 1 words
MAX_ARMOR_PLUS_1 EQU 000D
D6F0:0000	DEFW of 1 words
D6F2:0000	DEFW of 1 words
D6F4:A681	DEFW of 1 words
D6F6:AD7F	DEFW of 1 words
D6F8:9180	DEFW of 1 words
D6FA:6D81	DEFW of 1 words
D6FC:DF81	DEFW of 1 words
D6FE:1082	DEFW of 1 words
D700:DC82	DEFW of 1 words
D702:4B85	DEFW of 1 words
D704:8485	DEFW of 1 words
D706:BD85	DEFW of 1 words
D708:EE85	DEFW of 1 words
D70A:3481	DEFW of 1 words
MIN_FOOD	EQU 001B
D70C:0584	DEFW of 1 words
D70E:8A83	DEFW of 1 words
D710:6183	DEFW of 1 words
D712:3883	DEFW of 1 words
D714:		label ITEM2SPRITE_END
D714:		label PRESOUVANY_PREDMET
D714:00		DEFB of 1 bytes
D715:		label KURZOR_V_INVENTARI
D715:00		DEFB of 1 bytes
POZICE_PROSTIRANI EQU 1904
POZICE_HLAVA	EQU 1A07
POZICE_NAHRDELNIK EQU 1A09
POZICE_BRNENI	EQU 1A0B
POZICE_LPRSTEN	EQU 1810
POZICE_BOTY	EQU 1A12
POZICE_TOULEC	EQU 1D09
POZICE_NATEPNIK	EQU 1D0B
POZICE_PPRSTEN	EQU 1C10
D716:		label POZICE_V_INVENTARI
D716:04120612	DEFW of 8 words
D71A:08120A12
D71E:0C120E12
D722:10121212
D726:04150615	DEFW of 8 words
D72A:08150A15
D72E:0C150E15
D732:10151215
D736:		label PROSTIRANI
D736:0419	DEFW of 1 words
D738:071A	DEFW of 1 words
D73A:091A	DEFW of 1 words
D73C:0B1A	DEFW of 1 words
D73E:0D18	DEFW of 1 words
D740:1018	DEFW of 1 words
D742:121A	DEFW of 1 words
D744:091D	DEFW of 1 words
D746:0B1D	DEFW of 1 words
D748:0D1C	DEFW of 1 words
D74A:101C	DEFW of 1 words
D74C:		label POZICE_V_INVENTARI_HOLD_END
D74C:0B04	DEFW of 1 words
D74E:0D02	DEFW of 1 words
D750:0B0B	DEFW of 1 words
D752:0D0D	DEFW of 1 words
D754:		label POZICE_V_INVENTARI_END
INDEX_PROSTIRANI EQU 0011
INDEX_HLAVA	EQU 0012
INDEX_NAHRDELNIK EQU 0013
INDEX_BRNENI	EQU 0014
INDEX_LRUKA	EQU 0015
INDEX_LPRSTEN	EQU 0016
INDEX_BOTY	EQU 0017
INDEX_TOULEC	EQU 0018
INDEX_NATEPNIK	EQU 0019
INDEX_PRUKA	EQU 001A
INDEX_PPRSTEN	EQU 001B
INDEX_ZEM_LU_M1	EQU 001B
INDEX_ZEM_LD_M1	EQU 001C
INDEX_ZEM_RU_M1	EQU 001D
INDEX_ZEM_RD_M1	EQU 001E
D754:		label POVOLENE_POZICE
D754:16		DEFB of 1 bytes
D755:16		DEFB of 1 bytes
D756:16		DEFB of 1 bytes
D757:16		DEFB of 1 bytes
D758:16		DEFB of 1 bytes
D759:12		DEFB of 1 bytes
D75A:12		DEFB of 1 bytes
D75B:13		DEFB of 1 bytes
D75C:14		DEFB of 1 bytes
D75D:14		DEFB of 1 bytes
D75E:14		DEFB of 1 bytes
D75F:14		DEFB of 1 bytes
D760:18		DEFB of 1 bytes
D761:19		DEFB of 1 bytes
D762:17		DEFB of 1 bytes
D763:15		DEFB of 1 bytes
D764:15		DEFB of 1 bytes
D765:15		DEFB of 1 bytes
D766:15		DEFB of 1 bytes
D767:15		DEFB of 1 bytes
D768:15		DEFB of 1 bytes
D769:15		DEFB of 1 bytes
D76A:15		DEFB of 1 bytes
D76B:15		DEFB of 1 bytes
D76C:15		DEFB of 1 bytes
D76D:15		DEFB of 1 bytes
D76E:11		DEFB of 1 bytes
D76F:11		DEFB of 1 bytes
D770:11		DEFB of 1 bytes
D771:11		DEFB of 1 bytes
D772:		label POVOLENE_POZICE_END
D772:		label DATA_ZIVOTY
D772:848401B4	DEFB of 7 bytes
D776:C80000
D779:5A5A01BB	DEFB of 7 bytes
D77D:C80000
D780:40400194	DEFB of 7 bytes
D784:C90000
D787:2828019B	DEFB of 7 bytes
D78B:C90000
D78E:2E2E0174	DEFB of 7 bytes
D792:CA0000
D795:2828017B	DEFB of 7 bytes
D799:CA0000
D79C:		label DATA_ZIVOTY_END
		End of INCLUDE
		INCLUDE draw3D.h
D79C:		label TABLE_VIEW_9_DEPTH_4
D79C:FB7EFB11	DEFW of 8 words
D7A0:00000000
D7A4:FB7E0400
D7A8:00000000
D7AC:8C7EFB11	DEFW of 8 words
D7B0:00000000
D7B4:8C7E0400
D7B8:00000000
D7BC:FA7DFB0F	DEFW of 8 words
D7C0:00000000
D7C4:FA7D0402
D7C8:00000000
D7CC:937DFB0C	DEFW of 10 words
D7D0:00000000
D7D4:937D0405
D7D8:00000000
D7DC:047D0407
D7E0:		label TABLE_VIEW_7_DEPTH_3
D7E0:8DAEFC11	DEFW of 8 words
D7E4:00000000
D7E8:8DAE0300
D7EC:00000000
D7F0:0C97FC11	DEFW of 8 words
D7F4:00000000
D7F8:0C970300
D7FC:00000000
D800:2E7CFC0E	DEFW of 10 words
D804:32AEFC0B
D808:2E7C0303
D80C:32AE0306
D810:2E7C0307
D814:		label TABLE_VIEW_5_DEPTH_2
D814:9DADFC11	DEFW of 8 words
D818:00000000
D81C:9DAD0300
D820:00000000
D824:8F95FC11	DEFW of 10 words
D828:00000000
D82C:8F950300
D830:00000000
D834:AC7A0305
D838:		label TABLE_DEPTH_1
D838:E493FD11	DEFW of 10 words
D83C:00000000
D840:E4930200
D844:00000000
D848:A6770204
D84C:		label TABLE_DEPTH_0
D84C:4992FE11	DEFW of 10 words
D850:00000000
D854:49920100
D858:00000000
D85C:8C700101
D860:		label TABLE_DEPTH_x
D860:1CADFF11	DEFW of 10 words
D864:00000000
D868:1CAD0000
D86C:00000000
D870:00000000
D874:		label PAKY_TABLE
D874:00000000	DEFW of 6 words
D878:00000000
D87C:00000000
D880:409C0207	DEFW of 6 words
D884:00000000
D888:00000000
D88C:B39C0307	DEFW of 6 words
D890:00000000
D894:00000000
D898:129D0308	DEFW of 6 words
D89C:129DFC0F
D8A0:129D0302
D8A4:4B9D0308	DEFW of 6 words
D8A8:4B9DFC0D
D8AC:4B9D0304
D8B0:00000000	DEFW of 6 words
D8B4:00000000
D8B8:00000000
D8BC:A19A0407	DEFW of 6 words
D8C0:00000000
D8C4:00000000
D8C8:149B0407	DEFW of 6 words
D8CC:00000000
D8D0:00000000
D8D4:739B0408	DEFW of 6 words
D8D8:739BFB0F
D8DC:739B0402
D8E0:9A9B0408	DEFW of 6 words
D8E4:9A9BFB0D
D8E8:9A9B0404
D8EC:00000000	DEFW of 6 words
D8F0:00000000
D8F4:00000000
D8F8:00000000	DEFW of 6 words
D8FC:00000000
D900:C19B0302
D904:00000000	DEFW of 6 words
D908:00000000
D90C:FA9B0304
D910:00000000	DEFW of 6 words
D914:00000000
D918:2B9C0406
D91C:00000000	DEFW of 6 words
D920:00000000
D924:00000407
D928:00000000	DEFW of 6 words
D92C:00000000
D930:00000000
D934:00000000	DEFW of 6 words
D938:00000000
D93C:349A0402
D940:00000000	DEFW of 6 words
D944:00000000
D948:659A0404
D94C:00000000	DEFW of 6 words
D950:00000000
D954:8C9A0406
D958:00000000	DEFW of 6 words
D95C:00000000
D960:00000000
D964:00000000	DEFW of 6 words
D968:00000000
D96C:00000000
D970:00000000	DEFW of 6 words
D974:C19BFC0F
D978:00000000
D97C:00000000	DEFW of 6 words
D980:FA9BFC0D
D984:00000000
D988:00000000	DEFW of 6 words
D98C:2B9CFB0B
D990:00000000
D994:00000000	DEFW of 6 words
D998:00000000
D99C:00000000
D9A0:00000000	DEFW of 6 words
D9A4:00000000
D9A8:00000000
D9AC:00000000	DEFW of 6 words
D9B0:349AFB0F
D9B4:00000000
D9B8:00000000	DEFW of 6 words
D9BC:659AFB0D
D9C0:00000000
D9C4:00000000	DEFW of 6 words
D9C8:8C9AFB0B
D9CC:00000000
D9D0:00000000	DEFW of 6 words
D9D4:0000040A
D9D8:00000000
D9DC:		label DOOR_TABLE
D9DC:00000000	DEFW of 6 words
D9E0:00000000
D9E4:00000000
D9E8:8F600203	DEFW of 6 words
D9EC:00000000
D9F0:00000000
D9F4:CA640305	DEFW of 6 words
D9F8:CA64030F
D9FC:CA6403FB
DA00:C5660306	DEFW of 6 words
DA04:C566030C
DA08:C5660300
DA0C:D6670407	DEFW of 6 words
DA10:D667040B
DA14:D6670403
DA18:		label RAM_TABLE
DA18:6A9D0004	DEFW of 6 words
DA1C:00000000
DA20:00000000
DA24:89A10101	DEFW of 6 words
DA28:7CA5FE11
DA2C:7CA50100
DA30:EBA50204	DEFW of 6 words
DA34:DEA7FD11
DA38:DEA70200
DA3C:C1A80306	DEFW of 6 words
DA40:C1A8030C
DA44:A2A90300
DA48:71AA0307	DEFW of 6 words
DA4C:71AA030B
DA50:71AA0303
NEXT_TYP_ENEMY	EQU 000A
DA54:		label ENEMY_TABLE
DA54:0000	DEFW of 1 words
DA56:6E6A	DEFW of 1 words
DA58:116C	DEFW of 1 words
DA5A:0E6D	DEFW of 1 words
DA5C:7A6D	DEFW of 1 words
DA5E:0000	DEFW of 1 words
DA60:5568	DEFW of 1 words
DA62:0000	DEFW of 1 words
DA64:0000	DEFW of 1 words
DA66:0000	DEFW of 1 words
DA68:		label ITEM_TABLE
DA68:00000000	DEFW of 4 words
DA6C:00000000
DA70:71888D8A	DEFW of 4 words
DA74:8B8B0000
DA78:71888D8A	DEFW of 4 words
DA7C:8B8B0000
DA80:71888D8A	DEFW of 4 words
DA84:8B8B0000
DA88:71888D8A	DEFW of 4 words
DA8C:8B8B0000
DA90:71888D8A	DEFW of 4 words
DA94:8B8B0000
DA98:81868D89	DEFW of 4 words
DA9C:278B0000
DAA0:81868D89	DEFW of 4 words
DAA4:278B0000
DAA8:71888D8A	DEFW of 4 words
DAAC:8B8B0000
DAB0:00008D89	DEFW of 4 words
DAB4:278B0000
DAB8:81868D89	DEFW of 4 words
DABC:278B0000
DAC0:81868D89	DEFW of 4 words
DAC4:278B0000
DAC8:81868D89	DEFW of 4 words
DACC:278B0000
DAD0:71888D8A	DEFW of 4 words
DAD4:8B8B0000
DAD8:71888D8A	DEFW of 4 words
DADC:8B8B0000
DAE0:71888D8A	DEFW of 4 words
DAE4:8B8B0000
DAE8:71888D8A	DEFW of 4 words
DAEC:8B8B0000
DAF0:EB88C68A	DEFW of 4 words
DAF4:A08B0000
DAF8:71888D8A	DEFW of 4 words
DAFC:8B8B0000
DB00:EB88C68A	DEFW of 4 words
DB04:A08B0000
DB08:EB88C68A	DEFW of 4 words
DB0C:A08B0000
DB10:EB88C68A	DEFW of 4 words
DB14:A08B0000
DB18:81868D89	DEFW of 4 words
DB1C:278B0000
DB20:81868D89	DEFW of 4 words
DB24:278B0000
DB28:EB88C68A	DEFW of 4 words
DB2C:A08B0000
DB30:EB88C68A	DEFW of 4 words
DB34:A08B0000
DB38:7687088A	DEFW of 4 words
DB3C:558B0000
DB40:71888D8A	DEFW of 4 words
DB44:8B8B0000
DB48:71888D8A	DEFW of 4 words
DB4C:8B8B0000
DB50:71888D8A	DEFW of 4 words
DB54:8B8B0000
DB58:71888D8A	DEFW of 4 words
DB5C:8B8B0000
DB60:		label KANAL_TABLE
DB60:00000000	DEFW of 6 words
DB64:00000000
DB68:00000000
DB6C:C58B0805	DEFW of 6 words
DB70:00000000
DB74:00000000
DB78:308D0706	DEFW of 6 words
DB7C:308D0710
DB80:308D07FC
DB84:D58D0607	DEFW of 6 words
DB88:D58D060D
DB8C:D58D0601
DB90:208E0508	DEFW of 6 words
DB94:208E050C
DB98:208E0504
DB9C:		label RUNE_TABLE
DB9C:00000000	DEFW of 6 words
DBA0:00000000
DBA4:00000000
DBA8:4F770407	DEFW of 6 words
DBAC:00000417
DBB0:000004F7
DBB4:797A0407	DEFW of 6 words
DBB8:797A0411
DBBC:797A04FD
DBC0:0F7C0408	DEFW of 6 words
DBC4:0F7C040E
DBC8:0F7C0402
DBCC:E57C0408	DEFW of 6 words
DBD0:E57C040C
DBD4:E57C0404
		End of INCLUDE
		INCLUDE strings.h
DBD8:		label VETA_NO_WAY
DBD8:594F5520	DEFB of 23 bytes
DBDC:43414E27
DBE0:5420474F
DBE4:20544841
DBE8:54205741
DBEC:592E00
DBEF:		label VETA_NO_PUT
DBEF:594F5520	DEFB of 30 bytes
DBF3:43414E54
DBF7:20505554
DBFB:20544841
DBFF:54204954
DC03:454D2054
DC07:48455245
DC0B:2E00
DC0D:		label VETA_CASTS
DC0D:3F3F3F20	DEFB of 17 bytes
DC11:43415354
DC15:5320424C
DC19:4553532E
DC1D:00
DC1E:		label VETA_PRY_DOOR
DC1E:4E4F204F	DEFB of 38 bytes
DC22:4E452049
DC26:53204142
DC2A:4C452054
DC2E:4F205052
DC32:59205448
DC36:49532044
DC3A:4F4F5220
DC3E:4F50454E
DC42:2E00
DC44:		label VETA_FORCES
DC44:54484520	DEFB of 27 bytes
DC48:50415254
DC4C:5920464F
DC50:52434553
DC54:20544845
DC58:20444F4F
DC5C:522E00
DC5F:		label VETA_TAKEN
DC5F:2054414B	DEFB of 8 bytes
DC63:454E2E00
DC67:		label VETA_PUT
DC67:2042594C	DEFB of 14 bytes
DC6B:20504F4C
DC6F:4F5A454E
DC73:2E00
DC75:		label VETA_DRINK
DC75:2042594C	DEFB of 12 bytes
DC79:20565950
DC7D:49542E00
DC81:		label VETA_EAT
DC81:2042594C	DEFB of 13 bytes
DC85:20534E45
DC89:5A454E2E
DC8D:00
DC8E:		label ARRAY_STRING_DEKORACE
DC8E:534F4D45	DEFB of 48 bytes
DC92:5448494E
DC96:47205343
DC9A:55525249
DC9E:45532044
DCA2:45455045
DCA6:5220494E
DCAA:544F2054
DCAE:48452046
DCB2:4C4F4F52
DCB6:20445241
DCBA:494E2E00
DCBE:54484953	DEFB of 27 bytes
DCC2:2052554E
DCC6:45204953
DCCA:20554E52
DCCE:45434F47
DCD2:4E495A45
DCD6:442E00
DCD9:		label ARRAY_STRING_PREPINACE
DCD9:50524548	DEFB of 19 bytes
DCDD:4F44494C
DCE1:204A5349
DCE5:2050414B
DCE9:552E00
DCEC:53544953	DEFB of 23 bytes
DCF0:4B4E554C
DCF4:204A5349
DCF8:20544C41
DCFC:4349544B
DD00:4F2E00
DD03:53544953	DEFB of 30 bytes
DD07:4B4E554C
DD0B:204A5349
DD0F:20534B52
DD13:59544520
DD17:544C4143
DD1B:49544B4F
DD1F:2E00
DD21:4F544F43	DEFB of 19 bytes
DD25:494C204A
DD29:5349205A
DD2D:414D4B45
DD31:4D2E00
DD34:		label VETA_11
DD34:54484953	DEFB of 47 bytes
DD38:20534C49
DD3C:4D592C20
DD40:534D454C
DD44:4C592044
DD48:5241494E
DD4C:20504950
DD50:45205245
DD54:5645414C
DD58:53204E4F
DD5C:5448494E
DD60:472E00
DD63:		label VETA_13
DD63:54484552	DEFB of 32 bytes
DD67:45204953
DD6B:20412044
DD6F:5241494E
DD73:41474520
DD77:47524154
DD7B:45204845
DD7F:52452E00
DD83:		label VETA_14
DD83:4F4E4C59	DEFB of 28 bytes
DD87:20544845
DD8B:20535452
DD8F:4F4E4720
DD93:5348414C
DD97:4C205041
DD9B:53532E00
DD9F:		label VETA_15
DD9F:57415443	DEFB of 17 bytes
DDA3:4820594F
DDA7:55522053
DDAB:5445502E
DDAF:00
DDB0:		label VETA_16
DDB0:4E4F5420	DEFB of 25 bytes
DDB4:414C4C20
DDB8:49532041
DDBC:53204954
DDC0:20415050
DDC4:45415253
DDC8:00
DDC9:		label VETA_EXP
DDC9:3F3F3F20	DEFB of 38 bytes
DDCD:48415320
DDD1:4741494E
DDD5:45442041
DDD9:204C4556
DDDD:454C204F
DDE1:46204558
DDE5:50455249
DDE9:454E4345
DDED:2E00
DDEF:		label VETA_DOWN
DDEF:474F494E	DEFB of 14 bytes
DDF3:4720444F
DDF7:574E2E2E
DDFB:2E00
DDFD:		label VETA_UP
DDFD:474F494E	DEFB of 10 bytes
DE01:47205550
DE05:2E00
DE07:		label VETA_DOOR
DE07:54484520	DEFB of 24 bytes
DE0B:444F4F52
DE0F:20415050
DE13:45415253
DE17:20535455
DE1B:434B2E00
DE1F:		label VETA_DAGGER
DE1F:54484520	DEFB of 17 bytes
DE23:44414747
DE27:45522046
DE2B:4954532E
DE2F:00
DE30:		label VETA_HOLLOW
DE30:4120484F	DEFB of 34 bytes
DE34:4C4C4F57
DE38:204C4155
DE3C:47485445
DE40:52204543
DE44:484F4553
DE48:20464149
DE4C:4E544C59
DE50:2E00
DE52:		label VETA_UNDEAD
DE52:3F3F3F20	DEFB of 35 bytes
DE56:55534553
DE5A:20544845
DE5E:20504F57
DE62:45522054
DE66:4F205455
DE6A:524E2055
DE6E:4E444541
DE72:442100
DE75:		label HELP_STRING
DE75:54455354	DEFB of 28 bytes
DE79:205A5820
DE7D:44554E47
DE81:454F4E20
DE85:44454D4F
DE89:20562030
DE8D:2E373000
DE91:4F564C41	DEFB of 44 bytes
DE95:44414E49
DE99:3A20512C
DE9D:452D4F54
DEA1:4F43454E
DEA5:493B2057
DEA9:2C532D50
DEAD:4F485942
DEB1:3B20412C
DEB5:442D554B
DEB9:524F4B00
DEBD:312E2E36	DEFB of 33 bytes
DEC1:2D414B54
DEC5:49564E49
DEC9:20504F53
DECD:54415641
DED1:3B20492D
DED5:494E5645
DED9:4E544152
DEDD:00
DEDE:53504143	DEFB of 47 bytes
DEE2:4520284D
DEE6:455A4552
DEEA:4E494B29
DEEE:202D2041
DEF2:4B43453B
DEF6:2053532B
DEFA:58202843
DEFE:54524C2B
DF02:5829202D
DF06:204B4F4E
DF0A:454300
NEXT_NAME	EQU 000B
DF0D:		label VETA_HP
DF0D:485000	DEFB of 3 bytes
DF10:		label NAMES
DF10:444F4852	DEFB of 11 bytes
DF14:554D2020
DF18:202000
DF1B:57595244	DEFB of 11 bytes
DF1F:20202020
DF23:202000
DF26:4C494E44	DEFB of 11 bytes
DF2A:41202020
DF2E:202000
DF31:45495448	DEFB of 11 bytes
DF35:4E452020
DF39:202000
DF3C:544F4420	DEFB of 11 bytes
DF40:55504849
DF44:4C4C00
DF47:49524953	DEFB of 11 bytes
DF4B:20202020
DF4F:202000
DF52:		label ARRAY_STRING_ITEMS
DF52:00		DEFB of 1 bytes
DF53:52494E47	DEFB of 5 bytes
DF57:00
DF58:52554249	DEFB of 11 bytes
DF5C:4E205249
DF60:4E4700
DF63:534D4152	DEFB of 13 bytes
DF67:41474420
DF6B:52494E47
DF6F:00
DF70:53415050	DEFB of 14 bytes
DF74:48495245
DF78:2052494E
DF7C:4700
DF7E:4449414D	DEFB of 13 bytes
DF82:4F4E4420
DF86:52494E47
DF8A:00
DF8B:48454C4D	DEFB of 5 bytes
DF8F:00
DF90:44574152	DEFB of 13 bytes
DF94:56454E20
DF98:48454C4D
DF9C:00
DF9D:4E45434B	DEFB of 9 bytes
DFA1:4C414345
DFA5:00
DFA6:41524D4F	DEFB of 6 bytes
DFAA:5200
DFAC:43484149	DEFB of 10 bytes
DFB0:4E4D4149
DFB4:4C00
DFB6:4C454154	DEFB of 14 bytes
DFBA:48455220
DFBE:41524D4F
DFC2:5200
DFC4:504C4154	DEFB of 12 bytes
DFC8:45204152
DFCC:4D4F5200
DFD0:4152524F	DEFB of 6 bytes
DFD4:5700
DFD6:42524143	DEFB of 8 bytes
DFDA:45525300
DFDE:424F4F54	DEFB of 6 bytes
DFE2:5300
DFE4:414E4B48	DEFB of 5 bytes
DFE8:00
DFE9:41584500	DEFB of 4 bytes
DFED:424F4F4B	DEFB of 5 bytes
DFF1:00
DFF2:424F5700	DEFB of 4 bytes
DFF6:44414747	DEFB of 7 bytes
DFFA:455200
DFFD:4D414345	DEFB of 5 bytes
E001:00
E002:53484945	DEFB of 7 bytes
E006:4C4400
E009:53504944	DEFB of 14 bytes
E00D:45522053
E011:4849454C
E015:4400
E017:534C494E	DEFB of 6 bytes
E01B:4700
E01D:53574F52	DEFB of 6 bytes
E021:4400
E023:424F4E45	DEFB of 5 bytes
E027:00
E028:52415449	DEFB of 8 bytes
E02C:4F4E5300
E030:4845414C	DEFB of 15 bytes
E034:494E4720
E038:504F5449
E03C:4F4E00
E03F:414E5449	DEFB of 16 bytes
E043:444F5445
E047:20504F54
E04B:494F4E00
E04F:504F5449	DEFB of 9 bytes
E053:4F4E5F42
E057:00
		End of INCLUDE
		REPT 0
E058:		label CARKY
E058:00		DEFB of 1 bytes
E059:80		DEFB of 1 bytes
E05A:C0		DEFB of 1 bytes
E05B:E0		DEFB of 1 bytes
E05C:F0		DEFB of 1 bytes
E05D:F8		DEFB of 1 bytes
E05E:FC		DEFB of 1 bytes
E05F:FE		DEFB of 1 bytes
E060:FF		DEFB of 1 bytes
E061:		label CARKY_END
		INCLUDE sprite2buffer.asm
E061:		label SET_TARGET_BUFFER
E061:3EB0	LD A, B0
E063:3230E1	LD (E130), A
E066:3EC8	LD A, C8
E068:323EE1	LD (E13E), A
E06B:C9		RET
E06C:		label SET_TARGET_SCREEN
E06C:3E40	LD A, 40
E06E:3230E1	LD (E130), A
E071:3E58	LD A, 58
E073:323EE1	LD (E13E), A
E076:C9		RET
E077:		label SET_MAX_31
E077:3E1F	LD A, 1F
E079:3214E1	LD (E114), A
E07C:32BDE0	LD (E0BD), A
E07F:C9		RET
E080:		label SET_MAX_17
E080:3E11	LD A, 11
E082:3214E1	LD (E114), A
E085:32BDE0	LD (E0BD), A
E088:C9		RET
MEZERA		EQU 003F
E089:		label COPY_SPRITE2BUFFER
E089:FDE5	PUSH IY
E08B:ED7389E1	LD (E189), SP
E08F:1A		LD A, (DE)
E090:83		ADD A, E
E091:6F		LD L, A
E092:7A		LD A, D
E093:CE00	ADC A, 00
E095:67		LD H, A
E096:13		INC DE
E097:1A		LD A, (DE)
E098:FD67	LD IYH, A
E09A:13		INC DE
E09B:1A		LD A, (DE)
E09C:DD67	LD IXH, A
E09E:79		LD A, C
E09F:EEFF	XOR FF
E0A1:FAC8E0	JP M, E0C8
E0A4:4F		LD C, A
E0A5:3E2D	LD A, 2D
E0A7:327EE1	LD (E17E), A
E0AA:E5		PUSH HL
E0AB:21180A	LD HL, 0A18
E0AE:2258E1	LD (E158), HL
E0B1:2609	LD H, 09
E0B3:22BCE1	LD (E1BC), HL
E0B6:260E	LD H, 0E
E0B8:22E1E1	LD (E1E1), HL
E0BB:E1		POP HL
E0BC:		label CS2B_17VS31
E0BC:3E11	LD A, 11
E0BE:DD6F	LD IXL, A
E0C0:90		SUB B
E0C1:FD6F	LD IYL, A
E0C3:FAE6E0	JP M, E0E6
E0C6:183C	JR E104
E0C8:		label CS2B_JAKPISMO
E0C8:3E2C	LD A, 2C
E0CA:327EE1	LD (E17E), A
E0CD:E5		PUSH HL
E0CE:210608	LD HL, 0806
E0D1:2258E1	LD (E158), HL
E0D4:2604	LD H, 04
E0D6:22BCE1	LD (E1BC), HL
E0D9:22E1E1	LD (E1E1), HL
E0DC:E1		POP HL
E0DD:CB78	BIT 7, B
E0DF:FD68	LD IYL, B
E0E1:DD2E00	LD IXL, 00
E0E4:281E	JR Z, E104
E0E6:		label CS2B_OREZ_POCATEK_SPRITU
E0E6:310800	LD SP, 0008
E0E9:		label CS2B_VYNECH_SLOUPEC
E0E9:DD44	LD B, IXH
E0EB:		label CS2B_DALSI_ATRIBUT
E0EB:13		INC DE
E0EC:1A		LD A, (DE)
E0ED:FE3F	CP 3F
E0EF:2806	JR Z, E0F7
E0F1:B7		OR A
E0F2:F2F6E0	JP P, E0F6
E0F5:39		ADD HL, SP
E0F6:		label CS2B_BEZ_MASKY
E0F6:39		ADD HL, SP
E0F7:		label CS2B_ODECTI_ZNAK
E0F7:10F2	DJNZ E0EB
E0F9:FD25	DEC IYH
E0FB:CA88E1	JP Z, E188
E0FE:FD2C	INC IYL
E100:20E7	JR NZ, E0E9
E102:DD45	LD B, IXL
E104:		label CS2B_ZACINAME_V_BUFFERU
E104:F9		LD SP, HL
E105:FD68	LD IYL, B
E107:DD7D	LD A, IXL
E109:B7		OR A
E10A:2807	JR Z, E113
E10C:78		LD A, B
E10D:B7		OR A
E10E:FA88E1	JP M, E188
E111:1807	JR E11A
E113:		label CS2B_SELFMODIFYING_MAXSLOUPEC
E113:3E11	LD A, 11
E115:FD95	SUB IYL
E117:FA88E1	JP M, E188
E11A:		label CS2B_TEST_ZKRACENI_SIRKY
E11A:3C		INC A
E11B:FDBC	CP IYH
E11D:3002	JR NC, E121
E11F:FD67	LD IYH, A
E121:		label CS2B_NEZKRACUJ
E121:79		LD A, C
E122:0F		RRCA
E123:0F		RRCA
E124:0F		RRCA
E125:67		LD H, A
E126:E6E0	AND E0
E128:80		ADD A, B
E129:6F		LD L, A
E12A:08		EX AF, AF'
E12B:79		LD A, C
E12C:D9		EXX
E12D:E618	AND 18
E12F:		label CS2B_SELFMODIFYING_ADR_BUFF
E12F:C6B0	ADD A, B0
E131:327AE1	LD (E17A), A
E134:67		LD H, A
E135:08		EX AF, AF'
E136:6F		LD L, A
E137:FD6F	LD IYL, A
E139:D9		EXX
E13A:7C		LD A, H
E13B:E603	AND 03
E13D:		label CS2B_SELFMODIFYING_ADR_ATTR_BUFF
E13D:C6C8	ADD A, C8
E13F:67		LD H, A
E140:3284E1	LD (E184), A
E143:FD44	LD B, IYH
E145:DD6C	LD IXL, H
E147:C3A4E1	JP E1A4
E14A:		label CS2B_MASKA
E14A:E67F	AND 7F
E14C:4F		LD C, A
E14D:E638	AND 38
E14F:79		LD A, C
E150:2004	JR NZ, E156
E152:7E		LD A, (HL)
E153:E678	AND 78
E155:B1		OR C
E156:		label CS2B_MASKA_NEZACHOVAT_PAPER
E156:77		LD (HL), A
E157:D9		EXX
E158:		label CS2B_SELF_LD8_OR_JR_MASKA_ZRC
E158:0608	LD B, 08
E15A:		label CS2B_MASKA_LOOP
E15A:D1		POP DE
E15B:7E		LD A, (HL)
E15C:A3		AND E
E15D:B2		OR D
E15E:77		LD (HL), A
E15F:24		INC H
E160:10F8	DJNZ E15A
E162:182A	JR E18E
E164:		label CS2B_MASKA_ZRCADLOVE
E164:EB		EX DE, HL
E165:26D0	LD H, D0
E167:FD2608	LD IYH, 08
E16A:		label CS2B_MASKA_ZRCADLOVE_LOOP
E16A:C1		POP BC
E16B:1A		LD A, (DE)
E16C:69		LD L, C
E16D:A6		AND (HL)
E16E:68		LD L, B
E16F:B6		OR (HL)
E170:12		LD (DE), A
E171:14		INC D
E172:FD25	DEC IYH
E174:20F4	JR NZ, E16A
E176:EB		EX DE, HL
E177:1815	JR E18E
E179:		label CS2B_PRVNI_RADEK
E179:		label CS2B_SELF_H_SHADOW
E179:2600	LD H, 00
E17B:DD6C	LD IXL, H
E17D:		label CS2B_SELF_MIRROR_DEC
E17D:FD2C	INC IYL
E17F:FD7D	LD A, IYL
E181:6F		LD L, A
E182:D9		EXX
E183:		label CS2B_SELF_H
E183:2600	LD H, 00
E185:6F		LD L, A
E186:101C	DJNZ E1A4
E188:		label CS2B_EXIT
E188:310000	LD SP, 0000
E18B:FDE1	POP IY
E18D:C9		RET
E18E:		label CS2B_O_ZNAK_NIZE
E18E:DD2D	DEC IXL
E190:28E7	JR Z, E179
E192:3E20	LD A, 20
E194:85		ADD A, L
E195:6F		LD L, A
E196:3809	JR C, E1A1
E198:7C		LD A, H
E199:D608	SUB 08
E19B:67		LD H, A
E19C:7D		LD A, L
E19D:D9		EXX
E19E:C3A3E1	JP E1A3
E1A1:		label CS2B_TRETINA
E1A1:D9		EXX
E1A2:24		INC H
E1A3:		label CS2B_ATTR_NEXT
E1A3:6F		LD L, A
E1A4:		label CS2B_POCATEK
E1A4:13		INC DE
E1A5:1A		LD A, (DE)
E1A6:FE3F	CP 3F
E1A8:2007	JR NZ, E1B1
E1AA:D9		EXX
E1AB:7C		LD A, H
E1AC:C608	ADD A, 08
E1AE:67		LD H, A
E1AF:18DD	JR E18E
E1B1:		label CS2B_NENI_DIRA
E1B1:B7		OR A
E1B2:FA4AE1	JP M, E14A
E1B5:4F		LD C, A
E1B6:E638	AND 38
E1B8:2821	JR Z, E1DB
E1BA:71		LD (HL), C
E1BB:D9		EXX
E1BC:		label CS2B_SELF_LD4_OR_JR_PREP_ZRC
E1BC:0604	LD B, 04
E1BE:		label CS2B_PREPISOVANI_LOOP
E1BE:D1		POP DE
E1BF:73		LD (HL), E
E1C0:24		INC H
E1C1:72		LD (HL), D
E1C2:24		INC H
E1C3:10F9	DJNZ E1BE
E1C5:18C7	JR E18E
E1C7:		label CS2B_PREPISOVANI_ZRCADLOVE
E1C7:16D0	LD D, D0
E1C9:FD2604	LD IYH, 04
E1CC:		label CS2B_PREPISOVANI_ZRCADLOVE_LOOP
E1CC:C1		POP BC
E1CD:59		LD E, C
E1CE:1A		LD A, (DE)
E1CF:77		LD (HL), A
E1D0:24		INC H
E1D1:58		LD E, B
E1D2:1A		LD A, (DE)
E1D3:77		LD (HL), A
E1D4:24		INC H
E1D5:FD25	DEC IYH
E1D7:20F3	JR NZ, E1CC
E1D9:18B3	JR E18E
E1DB:		label CS2B_PRIPISOVANI
E1DB:7E		LD A, (HL)
E1DC:E6F8	AND F8
E1DE:B1		OR C
E1DF:77		LD (HL), A
E1E0:D9		EXX
E1E1:		label CS2B_SELF_LD4_OR_JR_PRIP_ZRC
E1E1:0604	LD B, 04
E1E3:		label CS2B_PRIPISOVANI_LOOP
E1E3:D1		POP DE
E1E4:7E		LD A, (HL)
E1E5:B3		OR E
E1E6:77		LD (HL), A
E1E7:24		INC H
E1E8:7E		LD A, (HL)
E1E9:B2		OR D
E1EA:77		LD (HL), A
E1EB:24		INC H
E1EC:10F5	DJNZ E1E3
E1EE:C38EE1	JP E18E
E1F1:		label CS2B_PRIPISOVANI_ZRCADLOVE
E1F1:16D0	LD D, D0
E1F3:FD2604	LD IYH, 04
E1F6:		label CS2B_PRIPISOVANI_ZRCADLOVE_LOOP
E1F6:C1		POP BC
E1F7:59		LD E, C
E1F8:1A		LD A, (DE)
E1F9:B6		OR (HL)
E1FA:77		LD (HL), A
E1FB:24		INC H
E1FC:58		LD E, B
E1FD:1A		LD A, (DE)
E1FE:B6		OR (HL)
E1FF:77		LD (HL), A
E200:24		INC H
E201:FD25	DEC IYH
E203:20F1	JR NZ, E1F6
E205:C38EE1	JP E18E
SKOK_NA_MASKA_ZRCADLOVE EQU 000A
SKOK_NA_PREPISOVANI_ZRCADLOVE EQU 0009
SKOK_NA_PRIPISOVANI_ZRCADLOVE EQU 000E
		IF (false)
-   .error 'Hodnota relativniho skoku na CS2B_MASKA_ZRCADLOVE mimo povoleny rozsah!'
		ENDIF
		IF (false)
-   .error 'Hodnota relativniho skoku na CS2B_PREPISOVANI_ZRCADLOVE mimo povoleny rozsah!'
		ENDIF
		IF (false)
-   .error 'Hodnota relativniho skoku na CS2B_PRIPISOVANI_ZRCADLOVE mimo povoleny rozsah!'
		ENDIF
		End of INCLUDE
		INCLUDE input.asm
E208:		label TEST_KEMPSTON
E208:AF		XOR A
E209:67		LD H, A
E20A:6F		LD L, A
E20B:		label TK_NOVY_STAV
E20B:0606	LD B, 06
E20D:B4		OR H
E20E:67		LD H, A
E20F:		label TK_LOOP
E20F:76		HALT
E210:DB1F	IN A, (1F)
E212:E61F	AND 1F
E214:FE1F	CP 1F
E216:C8		RET Z
E217:BD		CP L
E218:6F		LD L, A
E219:20F0	JR NZ, E20B
E21B:10F2	DJNZ E20F
E21D:7C		LD A, H
E21E:2105D6	LD HL, D605
E221:060B	LD B, 0B
E223:		label TK_TEST_STAVU
E223:BE		CP (HL)
E224:23		INC HL
E225:2803	JR Z, E22A
E227:23		INC HL
E228:10F9	DJNZ E223
E22A:		label TK_SHODNY_STAV
E22A:7E		LD A, (HL)
E22B:B7		OR A
E22C:C9		RET
E22D:		label KEYPRESSED
E22D:11785C	LD DE, 5C78
E230:1A		LD A, (DE)
E231:E620	AND 20
E233:47		LD B, A
E234:21085C	LD HL, 5C08
E237:		label KEYPRESSED_NO
E237:1A		LD A, (DE)
E238:E620	AND 20
E23A:A8		XOR B
E23B:C0		RET NZ
E23C:7E		LD A, (HL)
E23D:B7		OR A
E23E:E5		PUSH HL
E23F:C5		PUSH BC
E240:CC08E2	CALL Z, E208
E243:C1		POP BC
E244:E1		POP HL
E245:28F0	JR Z, E237
E247:0600	LD B, 00
E249:70		LD (HL), B
E24A:2A45D4	LD HL, (D445)
E24D:4C		LD C, H
E24E:26D1	LD H, D1
		IF (true)
E250:FE77	CP 77
E252:CAE7E2	JP Z, E2E7
E255:04		INC B
E256:FE73	CP 73
E258:CAE7E2	JP Z, E2E7
E25B:04		INC B
E25C:FE61	CP 61
E25E:CAE7E2	JP Z, E2E7
E261:04		INC B
E262:FE64	CP 64
E264:CAE7E2	JP Z, E2E7
		ELSE (false)
- .warning 'Delsi kod o 4 bajty protoze stisknuto_dopredu..stisknuto_vpravo != 0..3'
-     cp      KEY_DOPREDU             ;  7:2, "w" = dopredu
-     jp      z,POSUN
-     ld      b,stisknuto_dozadu      ;  7:2, offset radku tabulky VEKTORY_POHYBU
-     cp      KEY_DOZADU              ;  7:2, "s" = dozadu
-     jp      z,POSUN
-     ld      b,stisknuto_vlevo       ;  7:2, offset radku tabulky VEKTORY_POHYBU
-     cp      KEY_VLEVO               ;  7:2, "a" = vlevo
-     jp      z,POSUN
-     ld      b,stisknuto_vpravo      ;  7:2, offset radku tabulky VEKTORY_POHYBU
-     cp      KEY_VPRAVO              ;  7:2, "d" = vpravo
-     jp      z,POSUN
		ENDIF
E267:06FF	LD B, FF
E269:FE71	CP 71
E26B:284A	JR Z, E2B7
E26D:0601	LD B, 01
E26F:FE65	CP 65
E271:2844	JR Z, E2B7
E273:FE20	CP 20
E275:CA68EA	JP Z, EA68
E278:FE69	CP 69
E27A:CA6CE7	JP Z, E76C
E27D:117AE7	LD DE, E77A
E280:D5		PUSH DE
E281:FE6B	CP 6B
E283:CA51D2	JP Z, D251
E286:FE6A	CP 6A
E288:CA5BD2	JP Z, D25B
E28B:FE37	CP 37
E28D:300F	JR NC, E29E
E28F:FE31	CP 31
E291:380B	JR C, E29E
E293:D631	SUB 31
E295:2173D4	LD HL, D473
E298:BE		CP (HL)
E299:3003	JR NC, E29E
E29B:2B		DEC HL
E29C:77		LD (HL), A
E29D:C9		RET
E29E:		label K_BAD_NUMBER
E29E:D1		POP DE
E29F:FE2A	CP 2A
E2A1:CAAEE2	JP Z, E2AE
E2A4:FE60	CP 60
E2A6:C2D4EB	JP NZ, EBD4
E2A9:E1		POP HL
E2AA:CD43EA	CALL EA43
E2AD:C9		RET
E2AE:		label SET_BORDER
E2AE:3A74D4	LD A, (D474)
E2B1:EE07	XOR 07
E2B3:3274D4	LD (D474), A
E2B6:C9		RET
		End of INCLUDE
		INCLUDE move.asm
E2B7:		label OTOC_SE
E2B7:79		LD A, C
E2B8:80		ADD A, B
E2B9:E603	AND 03
E2BB:2146D4	LD HL, D446
E2BE:77		LD (HL), A
E2BF:CDD5E2	CALL E2D5
E2C2:3E12	LD A, 12
E2C4:80		ADD A, B
E2C5:80		ADD A, B
E2C6:CD07EC	CALL EC07
E2C9:CDF1EB	CALL EBF1
E2CC:C9		RET
E2CD:		label HL_NOVA_POZICE
E2CD:16D2	LD D, D2
E2CF:81		ADD A, C
E2D0:5F		LD E, A
E2D1:1A		LD A, (DE)
E2D2:85		ADD A, L
E2D3:6F		LD L, A
E2D4:C9		RET
E2D5:		label INC_POCITADLO_POHYBU_A_ZVUK
E2D5:2147D4	LD HL, D447
E2D8:34		INC (HL)
E2D9:21E803	LD HL, 03E8
E2DC:		label IPPAZ_LOOP
E2DC:7E		LD A, (HL)
E2DD:E6F8	AND F8
E2DF:D3FE	OUT (FE), A
E2E1:2B		DEC HL
E2E2:7C		LD A, H
E2E3:B5		OR L
E2E4:20F6	JR NZ, E2DC
E2E6:C9		RET
E2E7:		label POSUN
E2E7:CD53E7	CALL E753
E2EA:CA14E3	JP Z, E314
E2ED:48		LD C, B
E2EE:05		DEC B
E2EF:2812	JR Z, E303
E2F1:48		LD C, B
E2F2:FA03E3	JP M, E303
		IF (false)
-     .error      'Seznam POSUN_VLEVO_INVENTAREM prekracuje 256 bajtovy segment!'
		ENDIF
E2F5:2147D4	LD HL, D447
E2F8:05		DEC B
E2F9:2802	JR Z, E2FD
E2FB:2E5D	LD L, 5D
E2FD:		label POSUN_LOOP
E2FD:2C		INC L
E2FE:BE		CP (HL)
E2FF:2C		INC L
E300:30FB	JR NC, E2FD
E302:4E		LD C, (HL)
E303:		label POSUN_PRICTI
E303:81		ADD A, C
E304:061F	LD B, 1F
E306:F20AE3	JP P, E30A
E309:80		ADD A, B
E30A:		label POSUN_NEZAPORNY
E30A:B8		CP B
E30B:3801	JR C, E30E
E30D:90		SUB B
E30E:		label POSUN_V_MEZICH
E30E:3215D7	LD (D715), A
E311:C326E8	JP E826
E314:		label POSUN_NEJSEM_V_INVENTARI
E314:78		LD A, B
E315:87		ADD A, A
E316:87		ADD A, A
E317:F5		PUSH AF
E318:CDCDE2	CALL E2CD
E31B:CB46	BIT 0, (HL)
E31D:200E	JR NZ, E32D
E31F:CDB0E4	CALL E4B0
E322:3809	JR C, E32D
E324:7D		LD A, L
E325:3245D4	LD (D445), A
E328:CDD5E2	CALL E2D5
E32B:1807	JR E334
E32D:		label POSUN_ZABLOKOVAN
E32D:DD21D8DB	LD IX, DBD8
E331:CDACE3	CALL E3AC
E334:		label EXIT_POSUN
E334:F1		POP AF
E335:CD07EC	CALL EC07
E338:C9		RET
		End of INCLUDE
		INCLUDE strings.asm
E339:		label PRINT_STRING
E339:3E07	LD A, 07
E33B:		label PRINT_STRING_COLOR
E33B:5D		LD E, L
E33C:6F		LD L, A
E33D:E5		PUSH HL
E33E:CD6FEC	CALL EC6F
E341:54		LD D, H
E342:0E40	LD C, 40
E344:		label PS_NEXT_CHAR
E344:E1		POP HL
E345:		label PRINT_STRING_CONTINUE
E345:7D		LD A, L
E346:6B		LD L, E
E347:77		LD (HL), A
E348:6F		LD L, A
E349:DD7E00	LD A, (IX+00)
E34C:DD23	INC IX
E34E:D620	SUB 20
E350:D8		RET C
E351:E5		PUSH HL
E352:67		LD H, A
E353:87		ADD A, A
E354:6F		LD L, A
E355:84		ADD A, H
E356:85		ADD A, L
E357:6F		LD L, A
E358:CED3	ADC A, D3
E35A:95		SUB L
E35B:67		LD H, A
E35C:0605	LD B, 05
E35E:		label PS_RIGHT_LOOP
E35E:7E		LD A, (HL)
E35F:B7		OR A
E360:2813	JR Z, E375
E362:E5		PUSH HL
E363:6F		LD L, A
E364:62		LD H, D
E365:C5		PUSH BC
E366:0608	LD B, 08
E368:		label PS_LOOP_PX_DOWN
E368:CB15	RL L
E36A:3003	JR NC, E36F
E36C:1A		LD A, (DE)
E36D:A9		XOR C
E36E:12		LD (DE), A
E36F:		label PS_NEXT_PX_DOWN
E36F:14		INC D
E370:10F6	DJNZ E368
E372:C1		POP BC
E373:54		LD D, H
E374:E1		POP HL
E375:		label PS_PX_RIGHT
E375:23		INC HL
E376:AF		XOR A
E377:CB09	RRC C
E379:8B		ADC A, E
E37A:5F		LD E, A
E37B:10E1	DJNZ E35E
E37D:18C5	JR E344
E37F:		label PRINT_STRING_OBAL
E37F:E5		PUSH HL
E380:D5		PUSH DE
E381:C5		PUSH BC
E382:CD3BE3	CALL E33B
E385:C1		POP BC
E386:D1		POP DE
E387:E1		POP HL
E388:C9		RET
		IF (false)
- PRINT2BUFFER:
-     ld	a,Adr_Buffer / 256
-     ld	(PS_ADRESA_SEGMENTU+1),a
-     ret
- PRINT2SCREEN:
-     ld	a,$40
-     ld	(PS_ADRESA_SEGMENTU+1),a
-     ret
		ENDIF
E389:		label SCROLL
E389:2650	LD H, 50
E38B:		label SCROLL_LOOP
E38B:54		LD D, H
E38C:1E80	LD E, 80
E38E:2EA0	LD L, A0
E390:016000	LD BC, 0060
E393:EDB0	LDIR
E395:CB5C	BIT 3, H
E397:28F2	JR Z, E38B
E399:CB44	BIT 0, H
E39B:265A	LD H, 5A
E39D:28EC	JR Z, E38B
E39F:		label SCROLL_LAST_LINE
E39F:0608	LD B, 08
E3A1:2650	LD H, 50
E3A3:		label SCROLL_NEXT_MICROLINE
E3A3:6B		LD L, E
E3A4:		label SCROLL_CLEAR_MICROLINE
E3A4:71		LD (HL), C
E3A5:2C		INC L
E3A6:20FC	JR NZ, E3A4
E3A8:24		INC H
E3A9:10F8	DJNZ E3A3
E3AB:C9		RET
E3AC:		label PRINT_MESSAGE
E3AC:3E07	LD A, 07
E3AE:		label PRINT_MESSAGE_COLOR
E3AE:CD89E3	CALL E389
E3B1:21E05A	LD HL, 5AE0
E3B4:CD3BE3	CALL E33B
E3B7:C9		RET
E3B8:		label PRINT_MESSAGE_ARRAY
E3B8:CDEAE3	CALL E3EA
E3BB:3E05	LD A, 05
E3BD:CDAEE3	CALL E3AE
E3C0:C9		RET
E3C1:		label PRINT_DEKORACE
E3C1:CD29EA	CALL EA29
E3C4:13		INC DE
E3C5:1A		LD A, (DE)
E3C6:E61F	AND 1F
E3C8:47		LD B, A
E3C9:218EDC	LD HL, DC8E
E3CC:CDB8E3	CALL E3B8
E3CF:CD43EA	CALL EA43
E3D2:C9		RET
E3D3:		label PRINT_PREPINAC
E3D3:CD29EA	CALL EA29
E3D6:1A		LD A, (DE)
E3D7:E61F	AND 1F
E3D9:CB3F	SRL A
E3DB:CB3F	SRL A
E3DD:47		LD B, A
E3DE:21D9DC	LD HL, DCD9
E3E1:CDB8E3	CALL E3B8
E3E4:CD43EA	CALL EA43
E3E7:C9		RET
E3E8:		label AXS_NEXT_STRING
E3E8:EDB1	CPIR
E3EA:		label ADR_X_STRING
E3EA:AF		XOR A
E3EB:4F		LD C, A
E3EC:B8		CP B
E3ED:20F9	JR NZ, E3E8
E3EF:E5		PUSH HL
E3F0:DDE1	POP IX
E3F2:C9		RET
		IF (false)
- STRING_COPY:
- 	ld	a,(hl)
- 	inc	hl
- 	ld	(de),a
- 	inc	de
- 	or	a
- 	jr	nz,STRING_COPY
- 	ret
		ENDIF
E3F3:		label ITEM_MAKE_A
E3F3:B7		OR A
E3F4:C8		RET Z
E3F5:E5		PUSH HL
E3F6:47		LD B, A
E3F7:2152DF	LD HL, DF52
E3FA:CDEAE3	CALL E3EA
E3FD:CD89E3	CALL E389
E400:21E05A	LD HL, 5AE0
E403:CD39E3	CALL E339
E406:DDE1	POP IX
E408:CD45E3	CALL E345
E40B:C9		RET
E40C:		label ITEM_TAKEN_A
E40C:215FDC	LD HL, DC5F
E40F:18E2	JR E3F3
E411:		label ITEM_PUT_A
E411:2167DC	LD HL, DC67
E414:18DD	JR E3F3
		End of INCLUDE
		INCLUDE objects.asm
E416:		label FIND_FIRST_OBJECT
E416:118CED	LD DE, ED8C
E419:		label FFO_NEXT
E419:13		INC DE
E41A:		label FIND_NEXT_OBJECT
E41A:13		INC DE
E41B:1A		LD A, (DE)
E41C:13		INC DE
E41D:BD		CP L
E41E:DA19E4	JP C, E419
E421:C9		RET
E422:		label FIND_LAST_ITEM
E422:118CED	LD DE, ED8C
E425:7C		LD A, H
E426:E603	AND 03
E428:3C		INC A
E429:67		LD H, A
E42A:		label FLI_LOOP
E42A:13		INC DE
E42B:13		INC DE
E42C:1A		LD A, (DE)
E42D:13		INC DE
E42E:BD		CP L
E42F:38F9	JR C, E42A
E431:2006	JR NZ, E439
E433:1A		LD A, (DE)
E434:E603	AND 03
E436:BC		CP H
E437:38F1	JR C, E42A
E439:		label FLI_EXIT
E439:1B		DEC DE
E43A:3E0F	LD A, 0F
E43C:84		ADD A, H
E43D:67		LD H, A
E43E:C9		RET
E43F:		label VLOZ_ITEM_NA_POZICI
E43F:F5		PUSH AF
E440:CD22E4	CALL E422
E443:E5		PUSH HL
E444:2A8CED	LD HL, (ED8C)
E447:E5		PUSH HL
E448:ED52	SBC HL, DE
E44A:44		LD B, H
E44B:4D		LD C, L
E44C:03		INC BC
E44D:E1		POP HL
E44E:54		LD D, H
E44F:5D		LD E, L
E450:23		INC HL
E451:23		INC HL
E452:23		INC HL
E453:228CED	LD (ED8C), HL
E456:EB		EX DE, HL
E457:EDB8	LDDR
E459:C1		POP BC
E45A:F1		POP AF
E45B:EB		EX DE, HL
E45C:77		LD (HL), A
E45D:2B		DEC HL
E45E:70		LD (HL), B
E45F:2B		DEC HL
E460:71		LD (HL), C
E461:CD11E4	CALL E411
E464:AF		XOR A
E465:3214D7	LD (D714), A
E468:C326E8	JP E826
E46B:		label VEZMI_ITEM_Z_POZICE
E46B:CD22E4	CALL E422
E46E:EB		EX DE, HL
E46F:2B		DEC HL
E470:7E		LD A, (HL)
E471:2B		DEC HL
E472:46		LD B, (HL)
E473:2B		DEC HL
E474:4E		LD C, (HL)
E475:EB		EX DE, HL
E476:ED42	SBC HL, BC
E478:C0		RET NZ
E479:3214D7	LD (D714), A
E47C:2A8CED	LD HL, (ED8C)
E47F:ED52	SBC HL, DE
E481:23		INC HL
E482:44		LD B, H
E483:4D		LD C, L
E484:62		LD H, D
E485:6B		LD L, E
E486:23		INC HL
E487:23		INC HL
E488:23		INC HL
E489:EDB0	LDIR
E48B:1B		DEC DE
E48C:ED538CED	LD (ED8C), DE
E490:CD0CE4	CALL E40C
E493:C326E8	JP E826
E496:		label PREPNI_OBJECT
E496:D5		PUSH DE
E497:CD16E4	CALL E416
E49A:2012	JR NZ, E4AE
E49C:		label PO_NALEZEN_OBJECT
E49C:1A		LD A, (DE)
E49D:AC		XOR H
E49E:E61C	AND 1C
E4A0:2007	JR NZ, E4A9
		IF (false)
-     ld      A, H
-     and     MASKA_TYP
-     cp      TYP_DVERE
-     jr      z, PO_FOUND
-     ld      a,(de)                      ;  7:1 typ
-     sub     h
-     and     MASKA_NATOCENI
-     jr      nz,PO_NEXT_OBJECT           ;12/7:2       ??? pokud je horni bit nastaven tak to bude blbnout?
- PO_FOUND:
		ENDIF
E4A2:7C		LD A, H
E4A3:E6E0	AND E0
E4A5:EB		EX DE, HL
E4A6:AE		XOR (HL)
E4A7:77		LD (HL), A
E4A8:EB		EX DE, HL
E4A9:		label PO_NEXT_OBJECT
E4A9:CD19E4	CALL E419
E4AC:28EE	JR Z, E49C
E4AE:		label PO_EXIT
E4AE:D1		POP DE
E4AF:C9		RET
E4B0:		label JE_POZICE_BLOKOVANA
E4B0:CD16E4	CALL E416
E4B3:C0		RET NZ
E4B4:		label JPB_NALEZEN_OBJECT
E4B4:1A		LD A, (DE)
E4B5:C6E0	ADD A, E0
E4B7:D8		RET C
E4B8:CD19E4	CALL E419
E4BB:28F7	JR Z, E4B4
E4BD:C9		RET
E4BE:		label FIND_OBJECT
E4BE:DD2C	INC IXL
E4C0:C8		RET Z
E4C1:DD2D	DEC IXL
E4C3:118CED	LD DE, ED8C
E4C6:		label FO_LOOP
E4C6:13		INC DE
E4C7:		label FO_LOOP_DODATECNY
E4C7:13		INC DE
E4C8:1A		LD A, (DE)
E4C9:13		INC DE
E4CA:DD95	SUB IXL
E4CC:38F8	JR C, E4C6
E4CE:C0		RET NZ
E4CF:1A		LD A, (DE)
E4D0:E61C	AND 1C
		IF (false)
-     cp      TYP_PREPINAC            ;  7:2 
-     .warning 'Delsi kod, protoze TYP_PREPINAC != 0'
		ELSE (true)
E4D2:B7		OR A
		ENDIF
E4D3:2826	JR Z, E4FB
E4D5:FE08	CP 08
E4D7:284F	JR Z, E528
E4D9:FE04	CP 04
E4DB:CAC0E5	JP Z, E5C0
E4DE:FE10	CP 10
E4E0:CAD5E5	JP Z, E5D5
E4E3:FE0C	CP 0C
E4E5:20DF	JR NZ, E4C6
E4E7:13		INC DE
E4E8:1A		LD A, (DE)
E4E9:E61F	AND 1F
E4EB:219CDB	LD HL, DB9C
E4EE:FE01	CP 01
E4F0:2803	JR Z, E4F5
E4F2:2160DB	LD HL, DB60
E4F5:		label FOUND_DEKORACE
E4F5:CD23E7	CALL E723
E4F8:18CD	JR E4C7
E4FA:		label FO_EXIT
E4FA:C9		RET
E4FB:		label FOUND_PREPINAC
E4FB:C5		PUSH BC
E4FC:1A		LD A, (DE)
E4FD:E603	AND 03
E4FF:2146D4	LD HL, D446
E502:6E		LD L, (HL)
E503:95		SUB L
E504:2174D8	LD HL, D874
E507:09		ADD HL, BC
E508:E603	AND 03
E50A:280D	JR Z, E519
E50C:017800	LD BC, 0078
E50F:09		ADD HL, BC
E510:FE03	CP 03
E512:2805	JR Z, E519
E514:09		ADD HL, BC
E515:FE01	CP 01
E517:200C	JR NZ, E525
E519:		label FD_PREPINAC_INIT
E519:1A		LD A, (DE)
E51A:B7		OR A
E51B:F222E5	JP P, E522
E51E:013C00	LD BC, 003C
E521:09		ADD HL, BC
E522:		label FD_PREPINAC_VIEW
E522:CD24E7	CALL E724
E525:		label FD_PREPINAC_EXIT
E525:C1		POP BC
E526:189E	JR E4C6
E528:		label FOUND_ENEMY
E528:D5		PUSH DE
E529:DDE5	PUSH IX
E52B:C5		PUSH BC
E52C:3E0C	LD A, 0C
E52E:B9		CP C
E52F:200C	JR NZ, E53D
E531:3A785C	LD A, (5C78)
E534:E640	AND 40
E536:3E02	LD A, 02
E538:CA3DE5	JP Z, E53D
E53B:3E01	LD A, 01
E53D:		label FE_FAR
E53D:3282E5	LD (E582), A
E540:1A		LD A, (DE)
E541:E6E0	AND E0
E543:07		RLCA
E544:07		RLCA
E545:07		RLCA
E546:DD6F	LD IXL, A
E548:07		RLCA
E549:81		ADD A, C
E54A:81		ADD A, C
E54B:C6D9	ADD A, D9
E54D:6F		LD L, A
E54E:CED4	ADC A, D4
E550:95		SUB L
E551:67		LD H, A
E552:13		INC DE
E553:1A		LD A, (DE)
E554:EB		EX DE, HL
E555:2151D5	LD HL, D551
E558:09		ADD HL, BC
E559:4E		LD C, (HL)
E55A:2155DA	LD HL, DA55
E55D:09		ADD HL, BC
E55E:E61F	AND 1F
E560:2807	JR Z, E569
E562:010A00	LD BC, 000A
E565:		label FE_NEXT
E565:09		ADD HL, BC
E566:3D		DEC A
E567:20FC	JR NZ, E565
E569:		label FE_VIEW
E569:7E		LD A, (HL)
E56A:B7		OR A
E56B:CA9EE5	JP Z, E59E
E56E:2B		DEC HL
E56F:6E		LD L, (HL)
E570:67		LD H, A
E571:227FE5	LD (E57F), HL
E574:EB		EX DE, HL
E575:		label FE_LOOP
E575:2B		DEC HL
E576:46		LD B, (HL)
E577:2B		DEC HL
E578:4E		LD C, (HL)
E579:0C		INC C
E57A:0D		DEC C
E57B:CA9AE5	JP Z, E59A
E57E:		label FE_SELFMODIFIYNG
E57E:110000	LD DE, 0000
E581:		label FE_SELFMODIFIYNG2
E581:3E00	LD A, 00
E583:DDBD	CP IXL
E585:C291E5	JP NZ, E591
E588:115568	LD DE, 6855
E58B:78		LD A, B
E58C:C6FF	ADD A, FF
E58E:47		LD B, A
E58F:0E03	LD C, 03
E591:		label FE_CALL
E591:E5		PUSH HL
E592:DDE5	PUSH IX
E594:CD89E0	CALL E089
E597:DDE1	POP IX
E599:E1		POP HL
E59A:		label FE_TEST_LOOP
E59A:DD2D	DEC IXL
E59C:20D7	JR NZ, E575
E59E:		label FE_EXIT
E59E:C1		POP BC
E59F:DDE1	POP IX
E5A1:D1		POP DE
E5A2:C3C6E4	JP E4C6
E5A5:		label FOUND_DOOR
E5A5:0C		INC C
E5A6:0D		DEC C
E5A7:C8		RET Z
E5A8:1A		LD A, (DE)
E5A9:3C		INC A
E5AA:3C		INC A
E5AB:AC		XOR H
E5AC:E603	AND 03
E5AE:C0		RET NZ
E5AF:2118DA	LD HL, DA18
E5B2:CD23E7	CALL E723
E5B5:1A		LD A, (DE)
E5B6:C6E0	ADD A, E0
E5B8:D0		RET NC
E5B9:21DCD9	LD HL, D9DC
E5BC:CD23E7	CALL E723
E5BF:C9		RET
E5C0:		label FOUND_RAM
E5C0:13		INC DE
E5C1:1A		LD A, (DE)
E5C2:13		INC DE
E5C3:13		INC DE
E5C4:0C		INC C
E5C5:0D		DEC C
E5C6:200D	JR NZ, E5D5
E5C8:67		LD H, A
E5C9:3A46D4	LD A, (D446)
E5CC:AC		XOR H
E5CD:E601	AND 01
E5CF:2118DA	LD HL, DA18
E5D2:CD26E7	CALL E726
E5D5:		label FOUND_ITEM
		IF (false)
-     ld      a,c
-     cp      MAX_VIDITELNOST_PREDMETU_PLUS_1
-     jp      nc, FO_LOOP                     ; return ( bohuzel tolikrat, kolikrat je predmetu na policku )
		ENDIF
E5D5:DDCB004E	BIT 1, (IX+00)
E5D9:C0		RET NZ
E5DA:D5		PUSH DE
E5DB:3A46D4	LD A, (D446)
E5DE:67		LD H, A
E5DF:		label FI_HLEDANI_NEJVZDALENEJSIHO
E5DF:1A		LD A, (DE)
E5E0:E603	AND 03
E5E2:BC		CP H
E5E3:300D	JR NC, E5F2
E5E5:		label FI_DALSI_RADEK
E5E5:13		INC DE
E5E6:13		INC DE
E5E7:1A		LD A, (DE)
E5E8:13		INC DE
E5E9:B7		OR A
E5EA:28F9	JR Z, E5E5
E5EC:DDBD	CP IXL
E5EE:28EF	JR Z, E5DF
E5F0:D1		POP DE
E5F1:D5		PUSH DE
E5F2:		label FI_NEJVZDALENEJSI
E5F2:6B		LD L, E
E5F3:		label FI_VYKRESLI_ITEM_LOOP
E5F3:E5		PUSH HL
E5F4:D5		PUSH DE
E5F5:DDE5	PUSH IX
E5F7:C5		PUSH BC
E5F8:1A		LD A, (DE)
E5F9:E61C	AND 1C
E5FB:FE10	CP 10
E5FD:2807	JR Z, E606
E5FF:FE04	CP 04
E601:CCA5E5	CALL Z, E5A5
E604:1837	JR E63D
E606:		label FI_ITEM
E606:1A		LD A, (DE)
E607:94		SUB H
E608:E603	AND 03
E60A:87		ADD A, A
E60B:2151D5	LD HL, D551
E60E:09		ADD HL, BC
E60F:47		LD B, A
E610:7E		LD A, (HL)
E611:FE06	CP 06
E613:3028	JR NC, E63D
E615:13		INC DE
E616:1A		LD A, (DE)
E617:87		ADD A, A
E618:87		ADD A, A
E619:87		ADD A, A
E61A:86		ADD A, (HL)
E61B:C668	ADD A, 68
E61D:6F		LD L, A
E61E:CEDA	ADC A, DA
E620:95		SUB L
E621:67		LD H, A
E622:5E		LD E, (HL)
E623:23		INC HL
E624:56		LD D, (HL)
E625:14		INC D
E626:15		DEC D
E627:2814	JR Z, E63D
E629:79		LD A, C
E62A:87		ADD A, A
E62B:80		ADD A, B
E62C:C68D	ADD A, 8D
E62E:6F		LD L, A
E62F:CED5	ADC A, D5
E631:95		SUB L
E632:67		LD H, A
E633:4E		LD C, (HL)
E634:0C		INC C
E635:0D		DEC C
E636:2805	JR Z, E63D
E638:23		INC HL
E639:46		LD B, (HL)
E63A:CD89E0	CALL E089
E63D:		label FI_NEKRESLI
E63D:C1		POP BC
E63E:DDE1	POP IX
E640:D1		POP DE
E641:E1		POP HL
E642:13		INC DE
E643:13		INC DE
E644:1A		LD A, (DE)
E645:13		INC DE
E646:DDBD	CP IXL
E648:2802	JR Z, E64C
E64A:D1		POP DE
E64B:D5		PUSH DE
E64C:		label FI_TEST_ZACATKU_SELF
E64C:7D		LD A, L
E64D:BB		CP E
E64E:20A3	JR NZ, E5F3
E650:D1		POP DE
E651:C9		RET
		End of INCLUDE
		INCLUDE draw3D.asm
E652:		label VIEW
E652:010011	LD BC, 1100
E655:		label POZADI
E655:112C7F	LD DE, 7F2C
E658:3A47D4	LD A, (D447)
E65B:E601	AND 01
E65D:2802	JR Z, E661
E65F:0EFF	LD C, FF
E661:		label V_H5
E661:C5		PUSH BC
E662:D5		PUSH DE
E663:CD89E0	CALL E089
E666:D1		POP DE
E667:C1		POP BC
E668:10EB	DJNZ E655
E66A:CD89E0	CALL E089
E66D:11EA5F	LD DE, 5FEA
E670:010E00	LD BC, 000E
E673:CD89E0	CALL E089
E676:26D2	LD H, D2
E678:3A46D4	LD A, (D446)
E67B:6F		LD L, A
E67C:4E		LD C, (HL)
E67D:C60C	ADD A, 0C
E67F:6F		LD L, A
E680:7E		LD A, (HL)
E681:5F		LD E, A
E682:87		ADD A, A
E683:87		ADD A, A
E684:57		LD D, A
E685:26D1	LD H, D1
E687:3A45D4	LD A, (D445)
E68A:0606	LD B, 06
E68C:		label NULA
E68C:6F		LD L, A
E68D:E5		PUSH HL
E68E:81		ADD A, C
E68F:10FB	DJNZ E68C
E691:DDE1	POP IX
E693:D5		PUSH DE
E694:219CD7	LD HL, D79C
E697:06FF	LD B, FF
E699:CDE4E6	CALL E6E4
E69C:D1		POP DE
E69D:7A		LD A, D
E69E:93		SUB E
E69F:57		LD D, A
E6A0:DDE1	POP IX
E6A2:D5		PUSH DE
E6A3:21E0D7	LD HL, D7E0
E6A6:0630	LD B, 30
E6A8:CDE4E6	CALL E6E4
E6AB:D1		POP DE
E6AC:7A		LD A, D
E6AD:93		SUB E
E6AE:57		LD D, A
E6AF:DDE1	POP IX
E6B1:D5		PUSH DE
E6B2:2114D8	LD HL, D814
E6B5:0624	LD B, 24
E6B7:CDE4E6	CALL E6E4
E6BA:D1		POP DE
E6BB:7A		LD A, D
E6BC:93		SUB E
E6BD:57		LD D, A
E6BE:DDE1	POP IX
E6C0:D5		PUSH DE
E6C1:2138D8	LD HL, D838
E6C4:0618	LD B, 18
E6C6:CDE4E6	CALL E6E4
E6C9:D1		POP DE
E6CA:DDE1	POP IX
E6CC:D5		PUSH DE
E6CD:214CD8	LD HL, D84C
E6D0:060C	LD B, 0C
E6D2:CDE4E6	CALL E6E4
E6D5:D1		POP DE
E6D6:DDE1	POP IX
E6D8:2160D8	LD HL, D860
E6DB:0600	LD B, 00
E6DD:CDE4E6	CALL E6E4
E6E0:CD40E9	CALL E940
E6E3:C9		RET
E6E4:		label PROHLEDEJ_PROSTOR_VPREDU
E6E4:DD4D	LD C, IXL
E6E6:7A		LD A, D
E6E7:		label PPV_LOOP
E6E7:81		ADD A, C
E6E8:DD6F	LD IXL, A
E6EA:DDCB004E	BIT 1, (IX+00)
E6EE:CD26E7	CALL E726
E6F1:CD26E7	CALL E726
E6F4:7A		LD A, D
E6F5:BB		CP E
E6F6:3E04	LD A, 04
E6F8:CC42E7	CALL Z, E742
E6FB:79		LD A, C
E6FC:92		SUB D
E6FD:DD6F	LD IXL, A
E6FF:DDCB004E	BIT 1, (IX+00)
E703:CD26E7	CALL E726
E706:CD26E7	CALL E726
E709:7A		LD A, D
E70A:BB		CP E
E70B:3E08	LD A, 08
E70D:CC42E7	CALL Z, E742
E710:7A		LD A, D
E711:93		SUB E
E712:57		LD D, A
E713:20D2	JR NZ, E6E7
E715:DD69	LD IXL, C
E717:DDCB004E	BIT 1, (IX+00)
E71B:CD26E7	CALL E726
E71E:AF		XOR A
E71F:CD42E7	CALL E742
E722:C9		RET
E723:		label ADD_BC_INIT_COPY_PATTERN2BUFFER_NOZEROFLAG
E723:09		ADD HL, BC
E724:		label INIT_COPY_PATTERN2BUFFER_NOZEROFLAG
E724:F601	OR 01
E726:		label INIT_COPY_PATTERN2BUFFER
E726:D5		PUSH DE
E727:C5		PUSH BC
E728:5E		LD E, (HL)
E729:23		INC HL
E72A:56		LD D, (HL)
E72B:23		INC HL
E72C:4E		LD C, (HL)
E72D:23		INC HL
E72E:46		LD B, (HL)
E72F:23		INC HL
E730:280D	JR Z, E73F
E732:14		INC D
E733:15		DEC D
E734:F5		PUSH AF
E735:E5		PUSH HL
E736:DDE5	PUSH IX
E738:C489E0	CALL NZ, E089
E73B:DDE1	POP IX
E73D:E1		POP HL
E73E:F1		POP AF
E73F:		label ICP_EXIT
E73F:C1		POP BC
E740:D1		POP DE
E741:C9		RET
E742:		label INIT_FIND_OBJECT
E742:CB78	BIT 7, B
E744:C0		RET NZ
E745:E5		PUSH HL
E746:D5		PUSH DE
E747:C5		PUSH BC
E748:80		ADD A, B
E749:4F		LD C, A
E74A:0600	LD B, 00
E74C:CDBEE4	CALL E4BE
E74F:C1		POP BC
E750:D1		POP DE
E751:E1		POP HL
E752:C9		RET
		End of INCLUDE
		INCLUDE inventory.asm
E753:		label TEST_OTEVRENY_INVENTAR
E753:3A10D2	LD A, (D210)
E756:E601	AND 01
E758:3A15D7	LD A, (D715)
E75B:C9		RET
E75C:		label DE_INVENTORY_ITEMS_AKTIVNI
E75C:3A72D4	LD A, (D472)
E75F:5F		LD E, A
E760:		label DE_INVENTORY_ITEMS_A
		IF (false)
-     .error 'Zmenit kod pro nasobeni 27x'
		ENDIF
E760:87		ADD A, A
E761:87		ADD A, A
E762:87		ADD A, A
E763:87		ADD A, A
E764:87		ADD A, A
E765:93		SUB E
E766:C61C	ADD A, 1C
E768:5F		LD E, A
		IF (false)
-      .warning 'Delsi kod o 2 bajty! Pole INVENTORY_ITEMS = preleza segment!'
-     adc     A, INVENTORY_ITEMS / 256;  7:2
-     sub     E                       ;  4:1
-     ld      D, A                    ;  4:1
		ELSE (true)
E769:16D6	LD D, D6
		ENDIF
E76B:C9		RET
E76C:		label SET_RIGHT_PANEL
E76C:2110D2	LD HL, D210
E76F:7E		LD A, (HL)
E770:EE01	XOR 01
E772:77		LD (HL), A
E773:E601	AND 01
E775:C226E8	JP NZ, E826
E778:1806	JR E780
E77A:		label NEW_PLAYER_ACTIVE
E77A:CD53E7	CALL E753
E77D:C226E8	JP NZ, E826
E780:		label PLAYERS_WINDOW
E780:01010E	LD BC, 0E01
E783:2112C8	LD HL, C812
E786:CD5BEC	CALL EC5B
E789:01030E	LD BC, 0E03
E78C:21B2C8	LD HL, C8B2
E78F:CD5BEC	CALL EC5B
E792:01030E	LD BC, 0E03
E795:2192C9	LD HL, C992
E798:CD5BEC	CALL EC5B
E79B:01010E	LD BC, 0E01
E79E:2172CA	LD HL, CA72
E7A1:CD5BEC	CALL EC5B
E7A4:DD2110DF	LD IX, DF10
E7A8:ED4B72D4	LD BC, (D472)
E7AC:0C		INC C
E7AD:2112C8	LD HL, C812
E7B0:1119C8	LD DE, C819
E7B3:		label PW_JMENA_LOOP
E7B3:3E03	LD A, 03
E7B5:0D		DEC C
E7B6:2802	JR Z, E7BA
E7B8:3E07	LD A, 07
E7BA:		label PW_AKTIVNI
E7BA:F5		PUSH AF
E7BB:CD7FE3	CALL E37F
E7BE:7D		LD A, L
E7BF:C6A0	ADD A, A0
E7C1:6F		LD L, A
E7C2:8C		ADC A, H
E7C3:95		SUB L
E7C4:67		LD H, A
E7C5:F1		POP AF
E7C6:DDE5	PUSH IX
E7C8:DD210DDF	LD IX, DF0D
E7CC:CD7FE3	CALL E37F
E7CF:DDE1	POP IX
E7D1:7D		LD A, L
E7D2:C640	ADD A, 40
E7D4:6F		LD L, A
E7D5:8C		ADC A, H
E7D6:95		SUB L
E7D7:67		LD H, A
E7D8:EB		EX DE, HL
E7D9:10D8	DJNZ E7B3
E7DB:CD77E0	CALL E077
E7DE:DD211CD6	LD IX, D61C
E7E2:AF		XOR A
E7E3:0E1F	LD C, 1F
E7E5:		label PW_HANDS_LOOP
E7E5:47		LD B, A
E7E6:DD7E14	LD A, (IX+14)
E7E9:CD01EA	CALL EA01
E7EC:04		INC B
E7ED:DD7E19	LD A, (IX+19)
E7F0:CD01EA	CALL EA01
E7F3:04		INC B
E7F4:78		LD A, B
E7F5:0600	LD B, 00
E7F7:DD09	ADD IX, BC
E7F9:FE0C	CP 0C
E7FB:C2E5E7	JP NZ, E7E5
E7FE:F3		DI
E7FF:3E18	LD A, 18
E801:CDF1E9	CALL E9F1
E804:218DD4	LD HL, D48D
E807:0606	LD B, 06
E809:		label PW_AVATARS
E809:CD24E7	CALL E724
E80C:10FB	DJNZ E809
E80E:CD6CE0	CALL E06C
E811:0602	LD B, 02
E813:		label PW_KOMPAS_A_SIPKY
E813:CD24E7	CALL E724
E816:10FB	DJNZ E813
E818:CD61E0	CALL E061
E81B:CD80EC	CALL EC80
E81E:FB		EI
E81F:CD80E0	CALL E080
E822:CDF1EB	CALL EBF1
E825:C9		RET
E826:		label INVENTORY_WINDOW_OPEN
E826:		label INVENTORY_WINDOW_KURZOR
E826:		label INVENTORY_WINDOW_REFRESH
E826:010408	LD BC, 0804
E829:2198C8	LD HL, C898
E82C:CD5BEC	CALL EC5B
E82F:010808	LD BC, 0808
E832:2118C9	LD HL, C918
E835:CD5BEC	CALL EC5B
E838:010408	LD BC, 0804
E83B:2118CA	LD HL, CA18
E83E:CD5BEC	CALL EC5B
E841:01040A	LD BC, 0A04
E844:2116C8	LD HL, C816
E847:CD5BEC	CALL EC5B
E84A:3A72D4	LD A, (D472)
E84D:F5		PUSH AF
E84E:3C		INC A
E84F:010B00	LD BC, 000B
E852:2105DF	LD HL, DF05
E855:		label IW_NEXT_NAME
E855:09		ADD HL, BC
E856:3D		DEC A
E857:20FC	JR NZ, E855
E859:E5		PUSH HL
E85A:DDE1	POP IX
E85C:2116C8	LD HL, C816
E85F:CD39E3	CALL E339
E862:F1		POP AF
E863:87		ADD A, A
E864:87		ADD A, A
E865:C68D	ADD A, 8D
E867:6F		LD L, A
E868:CED4	ADC A, D4
E86A:95		SUB L
E86B:67		LD H, A
E86C:5E		LD E, (HL)
E86D:23		INC HL
E86E:56		LD D, (HL)
E86F:010012	LD BC, 1200
E872:CD77E0	CALL E077
E875:F3		DI
E876:CD89E0	CALL E089
		IF (false)
-     jr      INVENTORY_POKRACUJ
-     call    SET_MAX_31              ; meni jen akumulator
-     di
- INVENTORY_POKRACUJ:
		ENDIF
E879:AF		XOR A
E87A:F5		PUSH AF
E87B:D9		EXX
E87C:214CD7	LD HL, D74C
E87F:D9		EXX
E880:211B00	LD HL, 001B
E883:CD5CE7	CALL E75C
E886:19		ADD HL, DE
E887:061B	LD B, 1B
E889:		label IW_LOOP
E889:CDB1E8	CALL E8B1
E88C:10FB	DJNZ E889
E88E:111F86	LD DE, 861F
E891:D5		PUSH DE
E892:11091D	LD DE, 1D09
E895:D5		PUSH DE
E896:11005F	LD DE, 5F00
E899:D5		PUSH DE
E89A:110719	LD DE, 1907
E89D:D5		PUSH DE
E89E:11005F	LD DE, 5F00
E8A1:D5		PUSH DE
E8A2:11F81D	LD DE, 1DF8
E8A5:D5		PUSH DE
E8A6:CD0FE9	CALL E90F
E8A9:CD40E9	CALL E940
E8AC:FB		EI
E8AD:CD80E0	CALL E080
E8B0:C9		RET
E8B1:		label VYKRESLI_ITEM_NA_POZICI_B
E8B1:D1		POP DE
E8B2:ED530DE9	LD (E90D), DE
E8B6:D9		EXX
E8B7:2B		DEC HL
E8B8:56		LD D, (HL)
E8B9:2B		DEC HL
E8BA:5E		LD E, (HL)
E8BB:D9		EXX
E8BC:3A14D7	LD A, (D714)
E8BF:4F		LD C, A
E8C0:CDC0E9	CALL E9C0
E8C3:2807	JR Z, E8CC
E8C5:114886	LD DE, 8648
E8C8:D5		PUSH DE
E8C9:D9		EXX
E8CA:D5		PUSH DE
E8CB:D9		EXX
E8CC:		label IW_BEZ_MRIZKY
E8CC:78		LD A, B
E8CD:FE11	CP 11
E8CF:2007	JR NZ, E8D8
E8D1:11B383	LD DE, 83B3
E8D4:D5		PUSH DE
E8D5:D9		EXX
E8D6:D5		PUSH DE
E8D7:D9		EXX
E8D8:		label IW_NENI_PROSTIRANI
E8D8:48		LD C, B
		IF (false)
-     .warning 'Pomalejsi kod, INVENTORY_ITEMS preleza segment!'
-     dec     HL
		ELSE (true)
E8D9:2D		DEC L
		ENDIF
E8DA:7E		LD A, (HL)
E8DB:87		ADD A, A
E8DC:280A	JR Z, E8E8
E8DE:E5		PUSH HL
E8DF:CD1EE9	CALL E91E
E8E2:E1		POP HL
E8E3:D5		PUSH DE
E8E4:D9		EXX
E8E5:D5		PUSH DE
E8E6:D9		EXX
E8E7:0D		DEC C
E8E8:		label IW_PRAZDNE_POLICKO
E8E8:11EC83	LD DE, 83EC
E8EB:D5		PUSH DE
E8EC:D9		EXX
E8ED:D5		PUSH DE
E8EE:D9		EXX
E8EF:3A15D7	LD A, (D715)
E8F2:3C		INC A
E8F3:B8		CP B
E8F4:2007	JR NZ, E8FD
E8F6:11FB80	LD DE, 80FB
E8F9:D5		PUSH DE
E8FA:D9		EXX
E8FB:D5		PUSH DE
E8FC:D9		EXX
E8FD:		label IW_NEJSME_NA_KURZORU
E8FD:78		LD A, B
E8FE:B9		CP C
E8FF:2004	JR NZ, E905
E901:FE12	CP 12
E903:3007	JR NC, E90C
E905:		label IW_PREDMET_OBSAZEN
E905:11C280	LD DE, 80C2
E908:D5		PUSH DE
E909:D9		EXX
E90A:D5		PUSH DE
E90B:D9		EXX
E90C:		label IW_NEKRESLI_PODKLAD
E90C:		label VINPB_SELF
E90C:C30000	JP 0000
E90F:		label KRESLI_ZE_ZASOBNIKU
E90F:E1		POP HL
E910:C1		POP BC
E911:04		INC B
E912:05		DEC B
E913:2807	JR Z, E91C
E915:D1		POP DE
E916:E5		PUSH HL
E917:CD89E0	CALL E089
E91A:18F3	JR E90F
E91C:		label KZZ_EXIT
E91C:E5		PUSH HL
E91D:C9		RET
E91E:		label DE_2DSPRITE_A
E91E:C6D6	ADD A, D6
E920:6F		LD L, A
		IF (true)
E921:CED6	ADC A, D6
E923:95		SUB L
E924:67		LD H, A
E925:5E		LD E, (HL)
E926:23		INC HL
		ELSE (false)
-     ld      H, ITEM2SPRITE / 256
-     ld      E, (HL)
-     inc     L
		ENDIF
E927:56		LD D, (HL)
E928:C9		RET
E929:		label A_NAJDI_POLOZENY_PREDMET_HL
E929:E5		PUSH HL
E92A:C5		PUSH BC
E92B:D5		PUSH DE
E92C:CD22E4	CALL E422
E92F:EB		EX DE, HL
E930:2B		DEC HL
E931:7E		LD A, (HL)
E932:2B		DEC HL
E933:46		LD B, (HL)
E934:2B		DEC HL
E935:4E		LD C, (HL)
E936:EB		EX DE, HL
E937:ED42	SBC HL, BC
E939:2801	JR Z, E93C
E93B:AF		XOR A
E93C:		label NPP_EXIT
E93C:D1		POP DE
E93D:C1		POP BC
E93E:E1		POP HL
E93F:C9		RET
		IF (false)
- VYKRESLI_POLOZENY_PREDMET:
-     push    BC
-     push    HL
-     ld      DE, I_bg                ; podklad pod predmet
-     call    COPY_SPRITE2BUFFER
-     pop     HL    
-     call    FIND_LAST_ITEM
-     ex      DE, HL
-     dec     HL                      ; PODTYP
-     ld      A, (HL)
-     dec     HL                      ; zamky + typ + roh
-     ld      B, (HL)
-     dec     HL                      ; lokace
-     ld      C, (HL)
-     ex      DE, HL
-     sbc     HL, BC
-     pop     BC
-     ret     nz
-     ADD     A, A
-     ret     z                       ; tohle by slo smazat
-     call    DE_2DSPRITE_A
-     call    COPY_SPRITE2BUFFER
-     ret
		ENDIF
E940:		label VYKRESLI_AKTIVNI_PREDMET
E940:CD53E7	CALL E753
E943:C8		RET Z
		IF (false)
-     ld      BC, $020D
-     ld      HL, (LOCATION)              ; 16:3 L=LOCATION, H=VECTOR
-     push    HL
-     call    VYKRESLI_POLOZENY_PREDMET   ; roh vlevo vzadu
-     pop     HL
-     inc     H
-     ld      BC, $0D0D
-     call    VYKRESLI_POLOZENY_PREDMET   ; roh vpravo vzadu
-     ld      HL, (LOCATION)              ; 16:3 L=LOCATION, H=VECTOR
-     ld      D, VEKTORY_POHYBU/256       ;  7:2
-     ld      E, H                        ;  4:1 de = @(VECTORY_POHYBU[radek][sloupec])
-     ld      A, (DE)                     ;  7:1 o kolik zmenit LOCATION pro pohyb danym smerem
-     add     A, L                        ;  4:1 ZMENIT POKUD BUDE MAPA 16bit!!! ( ..a nejen to, pozice predmetu, dveri atd. )
-     ld      L, A                        ;  4:1 hl = pozice na mape po presunu
-     inc     H
-     inc     H
-     ld      BC, $0B0B
-     push    HL
-     call    VYKRESLI_POLOZENY_PREDMET   ; roh vpravo vepredu na ctverci pred nama
-     pop     HL
-     inc     H
-     ld      BC, $040B
-     call    VYKRESLI_POLOZENY_PREDMET   ; roh vlevo vepredu na ctverci pred nama
		ENDIF
		IF (true)
E944:CD5CE7	CALL E75C
E947:D5		PUSH DE
E948:DDE1	POP IX
E94A:2A45D4	LD HL, (D445)
E94D:CD29E9	CALL E929
E950:DD771C	LD (IX+1C), A
E953:24		INC H
E954:CD29E9	CALL E929
E957:DD771E	LD (IX+1E), A
E95A:CDB4E9	CALL E9B4
E95D:25		DEC H
E95E:CD29E9	CALL E929
E961:DD771B	LD (IX+1B), A
E964:25		DEC H
E965:CD29E9	CALL E929
E968:DD771D	LD (IX+1D), A
		ENDIF
E96B:AF		XOR A
E96C:F5		PUSH AF
E96D:D9		EXX
E96E:2154D7	LD HL, D754
E971:D9		EXX
E972:211F00	LD HL, 001F
E975:CD5CE7	CALL E75C
E978:19		ADD HL, DE
E979:061F	LD B, 1F
E97B:		label VAP_LOOP
E97B:CDB1E8	CALL E8B1
E97E:05		DEC B
E97F:3E1B	LD A, 1B
E981:B8		CP B
E982:20F7	JR NZ, E97B
E984:CD0FE9	CALL E90F
E987:3A14D7	LD A, (D714)
E98A:87		ADD A, A
E98B:C8		RET Z
E98C:C6D6	ADD A, D6
E98E:6F		LD L, A
		IF (true)
E98F:CED6	ADC A, D6
E991:95		SUB L
E992:67		LD H, A
E993:5E		LD E, (HL)
E994:23		INC HL
		ELSE (false)
-     ld      h, ITEM2SPRITE / 256
-     ld      e, (hl)
-     inc     l
		ENDIF
E995:56		LD D, (HL)
E996:D5		PUSH DE
E997:3A15D7	LD A, (D715)
E99A:87		ADD A, A
E99B:C616	ADD A, 16
E99D:6F		LD L, A
E99E:CED7	ADC A, D7
E9A0:95		SUB L
E9A1:67		LD H, A
E9A2:4E		LD C, (HL)
E9A3:23		INC HL
E9A4:46		LD B, (HL)
E9A5:05		DEC B
E9A6:0D		DEC C
E9A7:11FB80	LD DE, 80FB
E9AA:C5		PUSH BC
E9AB:CD89E0	CALL E089
E9AE:C1		POP BC
E9AF:D1		POP DE
E9B0:CD89E0	CALL E089
E9B3:C9		RET
E9B4:		label HL_VEPREDU
E9B4:2A45D4	LD HL, (D445)
E9B7:E5		PUSH HL
E9B8:7D		LD A, L
E9B9:6C		LD L, H
E9BA:26D2	LD H, D2
E9BC:86		ADD A, (HL)
E9BD:E1		POP HL
E9BE:6F		LD L, A
E9BF:C9		RET
E9C0:		label TEST_NEPOVOLENE_POZICE
E9C0:78		LD A, B
E9C1:3D		DEC A
E9C2:FE1B	CP 1B
E9C4:380D	JR C, E9D3
E9C6:E601	AND 01
E9C8:C8		RET Z
E9C9:E5		PUSH HL
E9CA:CDB4E9	CALL E9B4
E9CD:26D1	LD H, D1
E9CF:CB46	BIT 0, (HL)
E9D1:E1		POP HL
E9D2:C9		RET
E9D3:		label TNP_NOSENE
E9D3:E6F0	AND F0
E9D5:C8		RET Z
E9D6:79		LD A, C
E9D7:B7		OR A
E9D8:C8		RET Z
POZICE_M1	EQU D753
E9D9:E5		PUSH HL
E9DA:C653	ADD A, 53
E9DC:6F		LD L, A
E9DD:CED7	ADC A, D7
E9DF:95		SUB L
E9E0:67		LD H, A
E9E1:78		LD A, B
E9E2:FE1B	CP 1B
E9E4:2002	JR NZ, E9E8
E9E6:3E16	LD A, 16
E9E8:		label TNP_NENI_PRSTEN
E9E8:FE1A	CP 1A
E9EA:2002	JR NZ, E9EE
E9EC:3E15	LD A, 15
E9EE:		label TNP_NENI_RUKA
E9EE:BE		CP (HL)
E9EF:E1		POP HL
E9F0:C9		RET
E9F1:		label VYKRESLI_ZE_ZASOBNIKU
E9F1:E1		POP HL
E9F2:		label VYKRESLI_ZE_ZASOBNIKU_LOOP
E9F2:C1		POP BC
E9F3:D1		POP DE
E9F4:E5		PUSH HL
E9F5:F5		PUSH AF
E9F6:14		INC D
E9F7:15		DEC D
E9F8:C489E0	CALL NZ, E089
E9FB:F1		POP AF
E9FC:E1		POP HL
E9FD:3D		DEC A
E9FE:20F2	JR NZ, E9F2
EA00:E9		JP (HL)
EA01:		label VYKRESLI_RUKU
EA01:E1		POP HL
EA02:2227EA	LD (EA27), HL
EA05:113982	LD DE, 8239
EA08:87		ADD A, A
EA09:280A	JR Z, EA15
EA0B:C6D6	ADD A, D6
EA0D:6F		LD L, A
		IF (true)
EA0E:CED6	ADC A, D6
EA10:95		SUB L
EA11:67		LD H, A
EA12:5E		LD E, (HL)
EA13:23		INC HL
		ELSE (false)
-     ld      H, ITEM2SPRITE / 256
-     ld      E, (HL)
-     inc     L
		ENDIF
EA14:56		LD D, (HL)
EA15:		label VR_PRAZDNA
EA15:D5		PUSH DE
		IF (false)
-     .error      'Seznam POZICE_RUKOU prekracuje 256 bajtovy segment!'
		ENDIF
EA16:3E75	LD A, 75
EA18:80		ADD A, B
EA19:80		ADD A, B
EA1A:6F		LD L, A
EA1B:26D4	LD H, D4
EA1D:5E		LD E, (HL)
EA1E:2C		INC L
EA1F:56		LD D, (HL)
EA20:D5		PUSH DE
EA21:21C280	LD HL, 80C2
EA24:E5		PUSH HL
EA25:D5		PUSH DE
EA26:		label VR_SELF
EA26:C30000	JP 0000
		End of INCLUDE
EA29:		label PUSH_ALL
EA29:F3		DI
EA2A:2240EA	LD (EA40), HL
EA2D:E3		EX (SP), HL
EA2E:F5		PUSH AF
EA2F:C5		PUSH BC
EA30:D5		PUSH DE
EA31:DDE5	PUSH IX
EA33:FDE5	PUSH IY
EA35:08		EX AF, AF'
EA36:F5		PUSH AF
EA37:08		EX AF, AF'
EA38:D9		EXX
EA39:C5		PUSH BC
EA3A:D5		PUSH DE
EA3B:E5		PUSH HL
EA3C:D9		EXX
EA3D:FB		EI
EA3E:E5		PUSH HL
EA3F:		label PUSH_ALL_HL
EA3F:210000	LD HL, 0000
EA42:C9		RET
EA43:		label POP_ALL
EA43:F3		DI
EA44:E1		POP HL
EA45:D9		EXX
EA46:E1		POP HL
EA47:D1		POP DE
EA48:C1		POP BC
EA49:D9		EXX
EA4A:08		EX AF, AF'
EA4B:F1		POP AF
EA4C:08		EX AF, AF'
EA4D:FDE1	POP IY
EA4F:DDE1	POP IX
EA51:D1		POP DE
EA52:C1		POP BC
EA53:F1		POP AF
EA54:E3		EX (SP), HL
EA55:FB		EI
EA56:C9		RET
EA57:		label TIME_SCROLL
EA57:3A795C	LD A, (5C79)
EA5A:E602	AND 02
EA5C:47		LD B, A
EA5D:		label TIME_SCROLL_LAST
EA5D:EE00	XOR 00
EA5F:C8		RET Z
EA60:78		LD A, B
EA61:325EEA	LD (EA5E), A
EA64:CD89E3	CALL E389
EA67:C9		RET
EA68:		label PREHOD_PREPINAC
EA68:CD53E7	CALL E753
EA6B:CAC1EA	JP Z, EAC1
EA6E:47		LD B, A
EA6F:04		INC B
EA70:2114D7	LD HL, D714
EA73:4E		LD C, (HL)
EA74:CDC0E9	CALL E9C0
EA77:DD21EFDB	LD IX, DBEF
EA7B:C2ACE3	JP NZ, E3AC
EA7E:3E11	LD A, 11
EA80:90		SUB B
EA81:E5		PUSH HL
EA82:CC31EC	CALL Z, EC31
EA85:2600	LD H, 00
EA87:68		LD L, B
EA88:2D		DEC L
EA89:CD5CE7	CALL E75C
EA8C:19		ADD HL, DE
EA8D:7E		LD A, (HL)
EA8E:71		LD (HL), C
EA8F:E1		POP HL
EA90:77		LD (HL), A
EA91:C5		PUSH BC
EA92:CD0CE4	CALL E40C
EA95:C1		POP BC
EA96:2A14D7	LD HL, (D714)
EA99:7C		LD A, H
EA9A:D61B	SUB 1B
EA9C:DA26E8	JP C, E826
EA9F:26EA	LD H, EA
EAA1:C6BD	ADD A, BD
EAA3:6F		LD L, A
EAA4:46		LD B, (HL)
EAA5:2A45D4	LD HL, (D445)
EAA8:CB48	BIT 1, B
EAAA:C4B4E9	CALL NZ, E9B4
EAAD:7C		LD A, H
EAAE:80		ADD A, B
EAAF:67		LD H, A
EAB0:79		LD A, C
EAB1:B7		OR A
EAB2:F5		PUSH AF
EAB3:C43FE4	CALL NZ, E43F
EAB6:F1		POP AF
EAB7:CC6BE4	CALL Z, E46B
EABA:C326E8	JP E826
EABD:		label PP_DATA
EABD:03000201	DEFB of 4 bytes
EAC1:		label PP_DATA_END
		IF (false)
-     .error 'PP_DATA!'
		ENDIF
EAC1:		label PP_NEJSME_V_INVENTARI
EAC1:AF		XOR A
EAC2:CDCDE2	CALL E2CD
EAC5:3E00	LD A, 00
EAC7:81		ADD A, C
EAC8:47		LD B, A
EAC9:CD16E4	CALL E416
EACC:		label PP_NALEZEN_OBJEKT
EACC:C0		RET NZ
EACD:1A		LD A, (DE)
EACE:E61F	AND 1F
EAD0:B8		CP B
EAD1:280C	JR Z, EADF
EAD3:E61C	AND 1C
EAD5:FE0C	CP 0C
EAD7:CCC1E3	CALL Z, E3C1
EADA:CD19E4	CALL E419
EADD:18ED	JR EACC
EADF:		label PP_PROHOD_PAKU
		IF (false)
-     ld      A, (DE)                     ;  7:1 typ
-     xor     ZAM_1                       ;  7:2 prepneme paku / prohodime horni bit
-     ld      (de),a                      ;  7:1 typ
		ELSE (true)
EADF:2680	LD H, 80
EAE1:CD96E4	CALL E496
		ENDIF
EAE4:13		INC DE
EAE5:CDD3E3	CALL E3D3
EAE8:		label PP_LOOP
EAE8:13		INC DE
EAE9:1A		LD A, (DE)
EAEA:B7		OR A
EAEB:C0		RET NZ
EAEC:13		INC DE
EAED:1A		LD A, (DE)
EAEE:6F		LD L, A
EAEF:13		INC DE
EAF0:1A		LD A, (DE)
EAF1:67		LD H, A
EAF2:CD96E4	CALL E496
EAF5:C3E8EA	JP EAE8
EAF8:		label COPY_INVENTORY2SCREEN
EAF8:76		HALT
EAF9:3EDE	LD A, DE
EAFB:32C9EB	LD (EBC9), A
EAFE:212515	LD HL, 1525
EB01:22CDEB	LD (EBCD), HL
EB04:017805	LD BC, 0578
EB07:		label CI2S_WAIT
EB07:0B		DEC BC
EB08:CB78	BIT 7, B
EB0A:28FB	JR Z, EB07
EB0C:3A74D4	LD A, (D474)
EB0F:D3FE	OUT (FE), A
EB11:26C8	LD H, C8
EB13:1658	LD D, 58
EB15:DD2101FF	LD IX, FF01
EB19:CDCFEB	CALL EBCF
EB1C:26B7	LD H, B7
EB1E:1647	LD D, 47
EB20:DD2108FF	LD IX, FF08
EB24:CDCFEB	CALL EBCF
EB27:26C9	LD H, C9
EB29:1659	LD D, 59
EB2B:DD2101FF	LD IX, FF01
EB2F:CDCFEB	CALL EBCF
EB32:26BF	LD H, BF
EB34:164F	LD D, 4F
EB36:DD2108FF	LD IX, FF08
EB3A:CDCFEB	CALL EBCF
EB3D:26CA	LD H, CA
EB3F:165A	LD D, 5A
EB41:DD21017F	LD IX, 7F01
EB45:CDCFEB	CALL EBCF
EB48:26C7	LD H, C7
EB4A:1657	LD D, 57
EB4C:DD21087F	LD IX, 7F08
EB50:CDCFEB	CALL EBCF
EB53:AF		XOR A
EB54:D3FE	OUT (FE), A
EB56:C9		RET
EB57:		label COPY_VYREZ2SCREEN
EB57:76		HALT
EB58:3ED6	LD A, D6
EB5A:32C9EB	LD (EBC9), A
EB5D:210000	LD HL, 0000
EB60:22CDEB	LD (EBCD), HL
EB63:017805	LD BC, 0578
EB66:		label CV2S_WAIT
EB66:0B		DEC BC
EB67:CB78	BIT 7, B
EB69:28FB	JR Z, EB66
EB6B:3A74D4	LD A, (D474)
EB6E:D3FE	OUT (FE), A
EB70:26C8	LD H, C8
EB72:1658	LD D, 58
EB74:DD2101F1	LD IX, F101
EB78:CDCFEB	CALL EBCF
EB7B:26B7	LD H, B7
EB7D:1647	LD D, 47
EB7F:DD2108F1	LD IX, F108
EB83:CDCFEB	CALL EBCF
EB86:26C9	LD H, C9
EB88:1659	LD D, 59
EB8A:DD2101D1	LD IX, D101
EB8E:CDCFEB	CALL EBCF
EB91:26BF	LD H, BF
EB93:164F	LD D, 4F
EB95:DD2108D1	LD IX, D108
EB99:CDCFEB	CALL EBCF
EB9C:AF		XOR A
EB9D:D3FE	OUT (FE), A
EB9F:C9		RET
EBA0:		label COPY_LOOP_18x
EBA0:EDA8	LDD
EBA2:EDA8	LDD
EBA4:EDA8	LDD
EBA6:EDA8	LDD
EBA8:		label COPY_LOOP_14x
EBA8:EDA8	LDD
EBAA:EDA8	LDD
EBAC:EDA8	LDD
EBAE:EDA8	LDD
EBB0:EDA8	LDD
EBB2:EDA8	LDD
EBB4:EDA8	LDD
EBB6:EDA8	LDD
EBB8:EDA8	LDD
EBBA:EDA8	LDD
EBBC:EDA8	LDD
EBBE:EDA8	LDD
EBC0:EDA8	LDD
EBC2:EDA8	LDD
EBC4:D620	SUB 20
EBC6:		label COPY_MICROLINE
EBC6:5F		LD E, A
EBC7:6F		LD L, A
EBC8:		label COPY_MENITELNY_SKOK
EBC8:30D6	JR NC, EBA0
EBCA:		label COPY_END_SEGMENT
EBCA:DD2D	DEC IXL
EBCC:C8		RET Z
EBCD:		label COPY_DEC_OR_NOP
EBCD:00		NOP
EBCE:00		NOP
EBCF:		label COPY_START
EBCF:DD7C	LD A, IXH
EBD1:B7		OR A
EBD2:18F2	JR EBC6
EBD4:		label HELP
EBD4:DD2175DE	LD IX, DE75
EBD8:3E02	LD A, 02
EBDA:CDAEE3	CALL E3AE
EBDD:CDACE3	CALL E3AC
EBE0:CDACE3	CALL E3AC
EBE3:CDACE3	CALL E3AC
EBE6:C9		RET
EBE7:		label OBAL_SPRITE2BUFFER
EBE7:F5		PUSH AF
EBE8:E5		PUSH HL
EBE9:D5		PUSH DE
EBEA:CD89E0	CALL E089
EBED:D1		POP DE
EBEE:E1		POP HL
EBEF:F1		POP AF
EBF0:C9		RET
EBF1:		label AKTUALIZUJ_RUZICI
EBF1:3A46D4	LD A, (D446)
EBF4:87		ADD A, A
EBF5:87		ADD A, A
EBF6:C6C9	ADD A, C9
EBF8:6F		LD L, A
		IF (false)
- .warning 'Delsi kod o 2 bajty! RUZICE a RUZICE_END lezi na dvou segmentech!'
-     adc     a,RUZICE / 256              ;  7:2 resi preteceni
-     sub     l                           ;  7:2 
-     ld      h,a                         ;  4:1 hl = ukazatel na ukazatel spravneho spritu
		ELSE (true)
EBF9:26D4	LD H, D4
		ENDIF
EBFB:CD6CE0	CALL E06C
EBFE:F3		DI
EBFF:CD26E7	CALL E726
EC02:FB		EI
EC03:CD61E0	CALL E061
EC06:C9		RET
EC07:		label AKTUALIZUJ_SIPKY
EC07:6F		LD L, A
EC08:CD6CE0	CALL E06C
EC0B:7D		LD A, L
EC0C:21A9D4	LD HL, D4A9
EC0F:F3		DI
EC10:CD26E7	CALL E726
EC13:85		ADD A, L
EC14:6F		LD L, A
		IF (false)
-     .warning    'Delsi kod o 3 bajty! Pole SIPKY preleza 256 bajtovy segment!'
-     adc     A, H                        ; 4:1
-     sub     L                           ; 4:1
-     ld      H, A                        ; 4:1 H + carry
		ENDIF
EC15:CD26E7	CALL E726
EC18:FB		EI
EC19:CD61E0	CALL E061
EC1C:C9		RET
		IF (false)
- HORIZONTAL_FULL_LINE:
-     ld      a,$ff
- HORIZONTAL_MASK_LINE:
- HML_LOOP:
-     ld      (hl),a
-     inc     l
-     djnz    HML_LOOP
-     ret
		ENDIF
		IF (false)
- FILL_BLOCK:
-     ld      A, L                ;  4:1 nastavime na prvni znak a budeme postupne zvysovat o 32 => o znak nize
- FB_DALSI_MICROLINE:
-     push    AF                  ; 11:1 ulozime L
-     ld      C, IXL              ;  8:2 nastavime citac poctu radku
- FB_DALSI_RADEK:
-     ld      B, IXH              ;  8:2 nastavime citac poctu sloupcu
- FB_DALSI_SLOUPEC:
-     ld      (HL), E             ;  7:1
-     inc     L                   ;  4:1
-     djnz    FB_DALSI_SLOUPEC    ;13/8:2
-     add     A, $20              ;  7:2
-     ld      L, A                ;  4:1 stejna mikroradka o znak/radek nize
-     dec     C                   ;  4:1
-     jr      nz, FB_DALSI_RADEK  ;12/7:2
-     pop     AF                  ; 10:1
-     ld      L, A                ;  4:1
-     dec     D                   ;  4:1
-     ret     z                   ;11/5:1 pokud byla vyplnena jen jedna mikroradka ( atributy ) tak hl nebylo zmeneno
-     inc     H                   ;  4:1 o mikroradek nize
-     jp      FB_DALSI_MICROLINE  ; 10:3
- FILL_ATTR_BLOCK:
-     ld      IXH, B                  ; 8:2 push    bc + pop     ix = 11+14:1+2
-     ld      IXL, C                  ; 8:2
-     ld      DE, $0107               ; 10:3 jen 1 mikroradek a bila barva (vzor)
-     call    FILL_BLOCK
-     call    SEG_ATTR2SCREEN
-     ld      DE, $0800               ; 10:3 8 mikroradku a vyplnujeme nulama
-     call    FILL_BLOCK
-     ret
		ELSE (true)
EC1D:		label FILL_BLOCK
EC1D:		label FB_PIXEL
EC1D:C5		PUSH BC
EC1E:E5		PUSH HL
EC1F:7D		LD A, L
EC20:		label FB_RADEK
EC20:42		LD B, D
EC21:		label FB_DALSI_SLOUPEC
EC21:73		LD (HL), E
EC22:2C		INC L
EC23:10FC	DJNZ EC21
EC25:C620	ADD A, 20
EC27:6F		LD L, A
EC28:0D		DEC C
EC29:20F5	JR NZ, EC20
EC2B:E1		POP HL
EC2C:C1		POP BC
EC2D:24		INC H
EC2E:10ED	DJNZ EC1D
EC30:C9		RET
EC31:		label EATING
EC31:C5		PUSH BC
EC32:3A72D4	LD A, (D472)
EC35:CD35ED	CALL ED35
EC38:23		INC HL
EC39:1175DC	LD DE, DC75
EC3C:79		LD A, C
EC3D:D61B	SUB 1B
EC3F:2003	JR NZ, EC44
EC41:1181DC	LD DE, DC81
EC44:		label E_NO_FOOD
EC44:3D		DEC A
EC45:2003	JR NZ, EC4A
EC47:46		LD B, (HL)
EC48:2B		DEC HL
EC49:70		LD (HL), B
EC4A:		label E_NO_R
EC4A:3D		DEC A
EC4B:2002	JR NZ, EC4F
EC4D:23		INC HL
EC4E:77		LD (HL), A
EC4F:		label E_NO_G
EC4F:3D		DEC A
EC50:2000	JR NZ, EC52
EC52:		label E_NO_B
EC52:		label E_PRINT
EC52:EB		EX DE, HL
EC53:79		LD A, C
EC54:CDF3E3	CALL E3F3
EC57:C1		POP BC
EC58:0E00	LD C, 00
EC5A:C9		RET
EC5B:		label FILL_ATTR_BLOCK
EC5B:50		LD D, B
EC5C:1E07	LD E, 07
EC5E:0601	LD B, 01
EC60:CD1DEC	CALL EC1D
EC63:25		DEC H
EC64:CD6FEC	CALL EC6F
EC67:1E00	LD E, 00
EC69:0608	LD B, 08
EC6B:CD1DEC	CALL EC1D
EC6E:C9		RET
		ENDIF
EC6F:		label SEG_ATTR2SCREEN
EC6F:7C		LD A, H
EC70:26B0	LD H, B0
EC72:D6C8	SUB C8
EC74:3004	JR NC, EC7A
EC76:2640	LD H, 40
EC78:C670	ADD A, 70
EC7A:		label SA_BUFF
EC7A:87		ADD A, A
EC7B:87		ADD A, A
EC7C:87		ADD A, A
EC7D:84		ADD A, H
EC7E:67		LD H, A
EC7F:C9		RET
EC80:		label ZOBRAZ_ZIVOTY
EC80:2172D7	LD HL, D772
EC83:0606	LD B, 06
EC85:		label ZZ_LOOP
EC85:C5		PUSH BC
EC86:4E		LD C, (HL)
EC87:2C		INC L
EC88:46		LD B, (HL)
EC89:2C		INC L
EC8A:2C		INC L
EC8B:5E		LD E, (HL)
EC8C:2C		INC L
EC8D:56		LD D, (HL)
EC8E:CDCEEC	CALL ECCE
EC91:2C		INC L
EC92:4E		LD C, (HL)
EC93:2C		INC L
EC94:3A785C	LD A, (5C78)
EC97:B9		CP C
EC98:3802	JR C, EC9C
EC9A:AF		XOR A
EC9B:77		LD (HL), A
EC9C:		label ZZ_NEVYPRSEL
EC9C:7E		LD A, (HL)
EC9D:B7		OR A
EC9E:2804	JR Z, ECA4
ECA0:47		LD B, A
ECA1:CDA9EC	CALL ECA9
ECA4:		label ZZ_BEZ_AKT_ZRANENI
ECA4:2C		INC L
ECA5:C1		POP BC
ECA6:10DD	DJNZ EC85
ECA8:C9		RET
ECA9:		label VYKRESLI_KRVAVY_FLEK
ECA9:E5		PUSH HL
ECAA:7A		LD A, D
ECAB:87		ADD A, A
ECAC:87		ADD A, A
ECAD:87		ADD A, A
ECAE:92		SUB D
Pomocny		EQU 0574
ECAF:D674	SUB 74
ECB1:4F		LD C, A
ECB2:7B		LD A, E
ECB3:E61F	AND 1F
ECB5:3D		DEC A
ECB6:47		LD B, A
ECB7:D5		PUSH DE
ECB8:111770	LD DE, 7017
ECBB:CDE7EB	CALL EBE7
ECBE:E1		POP HL
ECBF:2C		INC L
ECC0:2C		INC L
ECC1:DD21CCEC	LD IX, ECCC
ECC5:3E42	LD A, 42
ECC7:CD3BE3	CALL E33B
ECCA:E1		POP HL
ECCB:C9		RET
ECCC:		label DAMAGE_BUF
ECCC:3100	DEFB of 2 bytes
ECCE:		label VYKRESLI_ZIVOTY
ECCE:E5		PUSH HL
ECCF:D5		PUSH DE
ECD0:D5		PUSH DE
ECD1:AF		XOR A
ECD2:67		LD H, A
ECD3:69		LD L, C
ECD4:57		LD D, A
ECD5:58		LD E, B
ECD6:47		LD B, A
ECD7:29		ADD HL, HL
ECD8:29		ADD HL, HL
ECD9:09		ADD HL, BC
ECDA:4F		LD C, A
ECDB:37		SCF
ECDC:		label VZ_ZNAKU
ECDC:0D		DEC C
ECDD:ED52	SBC HL, DE
ECDF:30FB	JR NC, ECDC
ECE1:ED5A	ADC HL, DE
ECE3:29		ADD HL, HL
ECE4:29		ADD HL, HL
ECE5:29		ADD HL, HL
ECE6:		label VZ_ZBYTEK
ECE6:3C		INC A
ECE7:ED52	SBC HL, DE
ECE9:30FB	JR NC, ECE6
		IF (false)
-     .error      'Seznam CARKY prekracuje segment!'
		ENDIF
ECEB:C657	ADD A, 57
ECED:6F		LD L, A
ECEE:26E0	LD H, E0
ECF0:56		LD D, (HL)
ECF1:79		LD A, C
ECF2:3C		INC A
ECF3:2002	JR NZ, ECF7
ECF5:3E42	LD A, 42
ECF7:		label VZ_VICEZNAKOVY
ECF7:E646	AND 46
ECF9:5F		LD E, A
ECFA:E1		POP HL
ECFB:0605	LD B, 05
ECFD:		label VZ_LOOP_SELF
ECFD:7A		LD A, D
ECFE:0C		INC C
ECFF:2803	JR Z, ED04
ED01:79		LD A, C
ED02:17		RLA
ED03:9F		SBC A, A
ED04:		label VZ_PREDEL
ED04:		label VZ_COL_SELF
ED04:73		LD (HL), E
ED05:E5		PUSH HL
ED06:C5		PUSH BC
ED07:4F		LD C, A
ED08:CD6FEC	CALL EC6F
ED0B:0606	LD B, 06
ED0D:		label VZ_LOOP_PX
ED0D:24		INC H
ED0E:71		LD (HL), C
ED0F:10FC	DJNZ ED0D
ED11:C1		POP BC
ED12:E1		POP HL
ED13:2C		INC L
ED14:10E7	DJNZ ECFD
ED16:D1		POP DE
ED17:E1		POP HL
ED18:C9		RET
ED19:		label VYHAZEJ_VSECHNO
ED19:C5		PUSH BC
ED1A:D5		PUSH DE
ED1B:7B		LD A, E
ED1C:CD60E7	CALL E760
ED1F:061B	LD B, 1B
ED21:		label VV_LOOP
ED21:D5		PUSH DE
ED22:C5		PUSH BC
ED23:2A45D4	LD HL, (D445)
ED26:1A		LD A, (DE)
ED27:B7		OR A
ED28:C43FE4	CALL NZ, E43F
ED2B:C1		POP BC
ED2C:D1		POP DE
ED2D:AF		XOR A
ED2E:12		LD (DE), A
		IF (false)
-     .warning 'Pomalejsi kod kvuli vicesegmentovemu INVENTORY_ITEMS'
-     inc     DE
		ELSE (true)
ED2F:1C		INC E
		ENDIF
ED30:10EF	DJNZ ED21
ED32:D1		POP DE
ED33:C1		POP BC
ED34:C9		RET
		IF (false)
-     .error      'Seznam DATA_ZIVOTY prekracuje segment!'
		ENDIF
ED35:		label HL_DATA_ZIVOTY_A
ED35:6F		LD L, A
ED36:87		ADD A, A
ED37:87		ADD A, A
ED38:87		ADD A, A
ED39:95		SUB L
ED3A:C672	ADD A, 72
ED3C:6F		LD L, A
ED3D:26D7	LD H, D7
ED3F:C9		RET
ED40:		label ZRAN_POSTAVU
ED40:D5		PUSH DE
ED41:7B		LD A, E
ED42:CD35ED	CALL ED35
ED45:7E		LD A, (HL)
ED46:92		SUB D
ED47:3007	JR NC, ED50
ED49:AF		XOR A
ED4A:77		LD (HL), A
ED4B:CD19ED	CALL ED19
ED4E:180E	JR ED5E
ED50:		label ZP_ZIJE
ED50:77		LD (HL), A
ED51:23		INC HL
ED52:23		INC HL
ED53:23		INC HL
ED54:23		INC HL
ED55:23		INC HL
ED56:3A785C	LD A, (5C78)
ED59:C632	ADD A, 32
ED5B:77		LD (HL), A
ED5C:23		INC HL
ED5D:72		LD (HL), D
ED5E:		label ZP_EXIT
ED5E:D1		POP DE
ED5F:C9		RET
ED60:		label OTESTUJ_TRVALE_ZRANENI
ED60:D5		PUSH DE
ED61:7B		LD A, E
ED62:CD35ED	CALL ED35
ED65:23		INC HL
ED66:23		INC HL
ED67:7E		LD A, (HL)
ED68:B7		OR A
ED69:57		LD D, A
ED6A:C440ED	CALL NZ, ED40
ED6D:D1		POP DE
ED6E:C9		RET
ED6F:		label PLAYERS_WINDOW_AND_DAMAGE
ED6F:		label PWAD_SELF
ED6F:3E00	LD A, 00
ED71:21785C	LD HL, 5C78
ED74:AE		XOR (HL)
ED75:E680	AND 80
ED77:280F	JR Z, ED88
ED79:7E		LD A, (HL)
ED7A:3270ED	LD (ED70), A
ED7D:110001	LD DE, 0100
ED80:0606	LD B, 06
ED82:		label PWAD_LOOP
ED82:CD60ED	CALL ED60
ED85:1C		INC E
ED86:10FA	DJNZ ED82
ED88:		label PWAD_NEZRANUJ
ED88:CD80E7	CALL E780
ED8B:C9		RET
		INCLUDE table.h
i_nw		EQU 0000
i_ne		EQU 0001
i_se		EQU 0002
i_sw		EQU 0003
CHODBA_VZ	EQU 0001
CHODBA_SJ	EQU 0000
TYP_DVERE_N	EQU 0004
TYP_DVERE_E	EQU 0005
TYP_DVERE_S	EQU 0006
TYP_DVERE_W	EQU 0007
TYP_ZARAZKA	EQU 00FF
ED8C:		label ADR_ZARAZKY
ED8C:A8EE	DEFW of 1 words
ED8E:		label TABLE_OBJECTS
ED8E:010C00	DEFB of 3 bytes
ED91:060C01	DEFB of 3 bytes
ED94:101019	DEFB of 3 bytes
ED97:101114	DEFB of 3 bytes
ED9A:101219	DEFB of 3 bytes
ED9D:101316	DEFB of 3 bytes
EDA0:11101A	DEFB of 3 bytes
EDA3:111117	DEFB of 3 bytes
EDA6:11120A	DEFB of 3 bytes
EDA9:11130B	DEFB of 3 bytes
EDAC:158980	DEFB of 3 bytes
EDAF:201015	DEFB of 3 bytes
EDB2:201113	DEFB of 3 bytes
EDB5:201218	DEFB of 3 bytes
EDB8:201311	DEFB of 3 bytes
EDBB:21100C	DEFB of 3 bytes
EDBE:211106	DEFB of 3 bytes
EDC1:211207	DEFB of 3 bytes
EDC4:211317	DEFB of 3 bytes
EDC7:301019	DEFB of 3 bytes
EDCA:321204	DEFB of 3 bytes
EDCD:321302	DEFB of 3 bytes
EDD0:40101A	DEFB of 3 bytes
EDD3:40111A	DEFB of 3 bytes
EDD6:40121A	DEFB of 3 bytes
EDD9:40131A	DEFB of 3 bytes
EDDC:421010	DEFB of 3 bytes
EDDF:42111C	DEFB of 3 bytes
EDE2:42121D	DEFB of 3 bytes
EDE5:42131E	DEFB of 3 bytes
EDE8:448980	DEFB of 3 bytes
EDEB:50101A	DEFB of 3 bytes
EDEE:50111A	DEFB of 3 bytes
EDF1:50121A	DEFB of 3 bytes
EDF4:50131A	DEFB of 3 bytes
EDF7:521012	DEFB of 3 bytes
EDFA:521108	DEFB of 3 bytes
EDFD:52121B	DEFB of 3 bytes
EE00:52131D	DEFB of 3 bytes
EE03:578401	DEFB of 3 bytes
EE06:571016	DEFB of 3 bytes
EE09:57101D	DEFB of 3 bytes
EE0C:57101D	DEFB of 3 bytes
EE0F:57101D	DEFB of 3 bytes
EE12:578500	DEFB of 3 bytes
EE15:578700	DEFB of 3 bytes
EE18:57131A	DEFB of 3 bytes
EE1B:571311	DEFB of 3 bytes
EE1E:590100	DEFB of 3 bytes
EE21:005784	DEFB of 3 bytes
EE24:5F0C00	DEFB of 3 bytes
EE27:738C00	DEFB of 3 bytes
EE2A:73121D	DEFB of 3 bytes
EE2D:778401	DEFB of 3 bytes
EE30:778500	DEFB of 3 bytes
EE33:778700	DEFB of 3 bytes
EE36:810C01	DEFB of 3 bytes
EE39:840200	DEFB of 3 bytes
EE3C:007784	DEFB of 3 bytes
EE3F:8E8400	DEFB of 3 bytes
EE42:8E8400	DEFB of 3 bytes
EE45:8E8600	DEFB of 3 bytes
EE48:9EE400	DEFB of 3 bytes
EE4B:9EE400	DEFB of 3 bytes
EE4E:9EE600	DEFB of 3 bytes
EE51:B00C00	DEFB of 3 bytes
PAKA_A		EQU 00B9
PAKA_B		EQU 00BA
PAKA_C		EQU 00BB
PAKA_D		EQU 00BC
EE54:B90200	DEFB of 3 bytes
EE57:008E84	DEFB of 3 bytes
EE5A:009EE4	DEFB of 3 bytes
EE5D:00BA82	DEFB of 3 bytes
EE60:00BB82	DEFB of 3 bytes
EE63:00BC82	DEFB of 3 bytes
EE66:BA0200	DEFB of 3 bytes
EE69:009EC4	DEFB of 3 bytes
EE6C:00BB82	DEFB of 3 bytes
EE6F:BB0200	DEFB of 3 bytes
EE72:009E64	DEFB of 3 bytes
EE75:00BC82	DEFB of 3 bytes
EE78:BC0200	DEFB of 3 bytes
EE7B:009EA4	DEFB of 3 bytes
EE7E:00BA82	DEFB of 3 bytes
EE81:D80100	DEFB of 3 bytes
		IF (false)
- defb      0,                           216,      ZAM_1 + TYP_PREPINAC + west    ; prepne i paku na druhe strane
		ENDIF
EE84:00E884	DEFB of 3 bytes
EE87:D80300	DEFB of 3 bytes
		IF (false)
- defb      0,                           216,      ZAM_1 + TYP_PREPINAC + east    ; prepne i paku na druhe strane
		ENDIF
EE8A:00E884	DEFB of 3 bytes
EE8D:E88401	DEFB of 3 bytes
EE90:E88500	DEFB of 3 bytes
EE93:E88700	DEFB of 3 bytes
EE96:F60C01	DEFB of 3 bytes
EE99:F6101D	DEFB of 3 bytes
EE9C:F6111C	DEFB of 3 bytes
EE9F:F6121D	DEFB of 3 bytes
EEA2:F6131D	DEFB of 3 bytes
EEA5:FE0C00	DEFB of 3 bytes
EEA8:		label ZARAZKA
EEA8:FF		DEFB of 1 bytes
		End of INCLUDE
EEA9:		label END_CODE
		IF (false)
-     .error 'Kod preteka do zasobniku.'
		ENDIF
Emiting raw binary from 5F00 to EEA8
